// ============================================
// AVATAR COMPONENT STYLES
// ============================================

:host {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  position: relative;
  flex-shrink: 0;
}

.avatar {
  overflow: hidden;
  font-weight: 600;
  text-transform: uppercase;

  // Size variants
  &--xs {
    width: 24px;
    height: 24px;
    font-size: 0.625rem;
  }

  &--sm {
    width: 32px;
    height: 32px;
    font-size: 0.75rem;
  }

  &--md {
    width: 40px;
    height: 40px;
    font-size: 0.875rem;
  }

  &--lg {
    width: 52px;
    height: 52px;
    font-size: 1rem;
  }

  &--xl {
    width: 64px;
    height: 64px;
    font-size: 1.25rem;
  }

  // Shape variants
  &--circle {
    border-radius: 50%;
  }

  &--square {
    border-radius: 0;
  }

  &--rounded {
    border-radius: 12px;

    &.avatar--xs { border-radius: 6px; }
    &.avatar--sm { border-radius: 8px; }
    &.avatar--md { border-radius: 10px; }
    &.avatar--lg { border-radius: 14px; }
    &.avatar--xl { border-radius: 16px; }
  }

  // Color variants for initials/fallback
  &--primary {
    background: var(--color-primary-100);
    color: var(--color-primary-700);
  }

  &--secondary {
    background: var(--color-secondary-100);
    color: var(--color-secondary-700);
  }

  &--accent {
    background: var(--color-accent-100);
    color: var(--color-accent-700);
  }

  &--success {
    background: var(--color-success-100);
    color: var(--color-success-700);
  }

  &--warning {
    background: var(--color-warning-100);
    color: var(--color-warning-700);
  }

  &--danger {
    background: var(--color-danger-100);
    color: var(--color-danger-700);
  }

  &--info {
    background: var(--color-info-100);
    color: var(--color-info-700);
  }

  &--neutral {
    background: var(--surface-hover);
    color: var(--text-secondary);
  }

  // Bordered
  &--bordered {
    box-shadow: 0 0 0 3px var(--surface-base);
  }
}

.avatar__image {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.avatar__initials,
.avatar__fallback {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 100%;
  height: 100%;
}

.avatar__fallback svg {
  width: 60%;
  height: 60%;
  opacity: 0.7;
}

// ==========================================
// BADGE
// ==========================================
.avatar__badge {
  position: absolute;
  width: 25%;
  height: 25%;
  min-width: 8px;
  min-height: 8px;
  border-radius: 50%;
  border: 2px solid var(--surface-base);

  &--top-right {
    top: 0;
    right: 0;
    transform: translate(25%, -25%);
  }

  &--bottom-right {
    bottom: 0;
    right: 0;
    transform: translate(25%, 25%);
  }

  &--top-left {
    top: 0;
    left: 0;
    transform: translate(-25%, -25%);
  }

  &--bottom-left {
    bottom: 0;
    left: 0;
    transform: translate(-25%, 25%);
  }

  // Badge colors
  &--primary { background: var(--color-primary-500); }
  &--secondary { background: var(--color-secondary-500); }
  &--accent { background: var(--color-accent-500); }
  &--success { background: var(--color-success-500); }
  &--warning { background: var(--color-warning-500); }
  &--danger { background: var(--color-danger-500); }
  &--info { background: var(--color-info-500); }
  &--neutral { background: var(--text-secondary); }
}

// ==========================================
// DARK MODE
// ==========================================
[data-theme='dark'] {
  .avatar {
    &--primary {
      background: rgba(var(--color-primary-500-rgb), 0.2);
      color: var(--color-primary-400);
    }

    &--secondary {
      background: rgba(var(--color-secondary-500-rgb), 0.2);
      color: var(--color-secondary-400);
    }

    &--accent {
      background: rgba(var(--color-accent-500-rgb), 0.2);
      color: var(--color-accent-400);
    }

    &--success {
      background: rgba(var(--color-success-500-rgb), 0.2);
      color: var(--color-success-400);
    }

    &--warning {
      background: rgba(var(--color-warning-500-rgb), 0.2);
      color: var(--color-warning-400);
    }

    &--danger {
      background: rgba(var(--color-danger-500-rgb), 0.2);
      color: var(--color-danger-400);
    }

    &--info {
      background: rgba(var(--color-info-500-rgb), 0.2);
      color: var(--color-info-400);
    }
  }
}
