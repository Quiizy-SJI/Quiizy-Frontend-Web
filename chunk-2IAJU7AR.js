import{a as k}from"./chunk-WPWJA746.js";import"./chunk-TEBYAPM2.js";import{a as P,b as O}from"./chunk-W67SSUM4.js";import{c as C}from"./chunk-5XPIWXNK.js";import{Ab as _,Ka as v,Lb as M,Nb as h,Z as d,ab as t,bb as e,cb as g,lb as a,mc as b,nc as x,p as f,wb as m,yb as n,za as s,zb as p}from"./chunk-XVADYIPR.js";var S=class u{router=d(C);teacherApi=d(k);activeFilter="all";allMockTests=[];filteredMockTests=[];isLoading=!0;stats={activeMocks:0,totalAttempts:0,averageScore:0};ngOnInit(){this.loadMockTests()}async loadMockTests(){this.isLoading=!0;try{let i=await f(this.teacherApi.getMyQuizzes());this.allMockTests=i.filter(c=>c.type==="MOCK"),this.computeStats(),this.applyFilter()}catch(i){console.error("Error loading mock tests:",i)}finally{this.isLoading=!1}}computeStats(){this.stats.activeMocks=this.allMockTests.length;let i=0,c=0,r=0;for(let o of this.allMockTests)if(o.studentQuizes){i+=o.studentQuizes.length;for(let l of o.studentQuizes)l.rawScore!==null&&l.rawScore!==void 0&&l.totalMarks&&(c+=l.rawScore,r+=l.totalMarks)}this.stats.totalAttempts=i,this.stats.averageScore=r>0?c/r*100:0}applyFilter(){this.activeFilter==="all"?this.filteredMockTests=this.allMockTests:this.filteredMockTests=this.allMockTests}createMockTest(){sessionStorage.setItem("examFormStep1",JSON.stringify({quizType:"MOCK"})),this.router.navigate(["/teacher/create-exam"])}setFilter(i){this.activeFilter=i,this.applyFilter()}viewAnalytics(i){this.router.navigate(["/teacher/statistics"],{queryParams:{test:i}})}editTest(i){console.log("Editing test:",i),alert(`Edit test ${i} functionality would be implemented here`)}exportResults(i){console.log("Exporting results for test:",i),alert(`Export results for ${i} functionality would be implemented here`)}duplicateTest(i){console.log("Duplicating test:",i),alert(`Test ${i} duplicated successfully`)}continueEditing(i){console.log("Continue editing test:",i),alert(`Continue editing ${i} functionality would be implemented here`)}deleteDraft(i){confirm("Are you sure you want to delete this draft test?")&&alert(`Draft test ${i} deleted successfully`)}previewTest(i){console.log("Previewing test:",i),alert(`Preview test ${i} functionality would be implemented here`)}editSchedule(i){console.log("Editing schedule for test:",i),alert(`Edit schedule for ${i} functionality would be implemented here`)}getAttemptCount(i){return i.studentQuizes?.length||0}getAverageScore(i){if(!i.studentQuizes?.length)return 0;let c=0,r=0;for(let o of i.studentQuizes)o.rawScore!==null&&o.rawScore!==void 0&&o.totalMarks&&(c+=o.rawScore/o.totalMarks*100,r++);return r>0?c/r:0}static \u0275fac=function(c){return new(c||u)};static \u0275cmp=v({type:u,selectors:[["app-teacher-mock-tests"]],decls:262,vars:14,consts:[[1,"mock-tests"],[1,"page-header"],[1,"header-content"],[1,"create-mock-btn",3,"click"],[1,"mock-stats"],[1,"stat-card"],[1,"stat-icon"],[1,"stat-content"],[1,"stat-number"],[1,"stat-change"],[1,"filters-tabs"],[1,"tab",3,"click"],[1,"mock-tests-grid"],[1,"mock-test-card","active"],[1,"card-header"],[1,"test-info"],[1,"subject-tag","mathematics"],[1,"status-badge","active"],[1,"test-details"],[1,"detail-row"],[1,"detail-item"],[1,"participation-stats"],[1,"stat-item"],[1,"stat-label"],[1,"stat-value"],[1,"progress-section"],[1,"progress-header"],[1,"progress-count"],[1,"progress-bar"],[1,"progress-fill",2,"width","89%"],[1,"card-actions"],[1,"action-btn","secondary",3,"click"],[1,"action-btn","primary",3,"click"],[1,"mock-test-card","completed"],[1,"subject-tag","physics"],[1,"status-badge","completed"],[1,"completion-stats"],[1,"completion-info"],[1,"final-stats"],[1,"final-stat"],[1,"label"],[1,"value"],[1,"mock-test-card","draft"],[1,"subject-tag","chemistry"],[1,"status-badge","draft"],[1,"draft-progress"],[1,"progress-info"],[1,"progress-fill","draft",2,"width","40%"],[1,"mock-test-card","scheduled"],[1,"status-badge","scheduled"],[1,"schedule-info"],[1,"schedule-item"],[1,"schedule-details"],[1,"schedule-label"],[1,"schedule-value"]],template:function(c,r){c&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),n(4,"Mock Tests"),e(),t(5,"p"),n(6,"Create and manage practice tests to help students prepare for actual exams."),e()(),t(7,"button",3),a("click",function(){return r.createMockTest()}),t(8,"mat-icon"),n(9,"add"),e(),n(10," Create Mock Test "),e()(),t(11,"div",4)(12,"div",5)(13,"div",6)(14,"mat-icon"),n(15,"psychology"),e()(),t(16,"div",7)(17,"h3"),n(18,"Active Mock Tests"),e(),t(19,"p",8),n(20),e(),t(21,"span",9),n(22,"Total MOCK quizzes"),e()()(),t(23,"div",5)(24,"div",6)(25,"mat-icon"),n(26,"groups"),e()(),t(27,"div",7)(28,"h3"),n(29,"Total Attempts"),e(),t(30,"p",8),n(31),e(),t(32,"span",9),n(33,"Students participated"),e()()(),t(34,"div",5)(35,"div",6)(36,"mat-icon"),n(37,"trending_up"),e()(),t(38,"div",7)(39,"h3"),n(40,"Average Score"),e(),t(41,"p",8),n(42),M(43,"number"),e(),t(44,"span",9),n(45,"Overall performance"),e()()()(),t(46,"div",10)(47,"button",11),a("click",function(){return r.setFilter("all")}),n(48,"All Mock Tests"),e(),t(49,"button",11),a("click",function(){return r.setFilter("active")}),n(50,"Active"),e(),t(51,"button",11),a("click",function(){return r.setFilter("completed")}),n(52,"Completed"),e(),t(53,"button",11),a("click",function(){return r.setFilter("draft")}),n(54,"Draft"),e()(),t(55,"div",12)(56,"div",13)(57,"div",14)(58,"div",15)(59,"h3"),n(60,"Mathematics Practice Test #1"),e(),t(61,"span",16),n(62,"Mathematics"),e()(),t(63,"span",17),n(64,"Active"),e()(),t(65,"div",18)(66,"div",19)(67,"div",20)(68,"mat-icon"),n(69,"schedule"),e(),t(70,"span"),n(71,"60 minutes"),e()(),t(72,"div",20)(73,"mat-icon"),n(74,"quiz"),e(),t(75,"span"),n(76,"20 questions"),e()(),t(77,"div",20)(78,"mat-icon"),n(79,"star"),e(),t(80,"span"),n(81,"Medium difficulty"),e()()()(),t(82,"div",21)(83,"div",22)(84,"span",23),n(85,"Attempts"),e(),t(86,"span",24),n(87,"45"),e()(),t(88,"div",22)(89,"span",23),n(90,"Avg Score"),e(),t(91,"span",24),n(92,"78%"),e()(),t(93,"div",22)(94,"span",23),n(95,"Completion"),e(),t(96,"span",24),n(97,"89%"),e()()(),t(98,"div",25)(99,"div",26)(100,"span"),n(101,"Student Progress"),e(),t(102,"span",27),n(103,"40/45 completed"),e()(),t(104,"div",28),g(105,"div",29),e()(),t(106,"div",30)(107,"button",31),a("click",function(){return r.viewAnalytics("math-practice-1")}),t(108,"mat-icon"),n(109,"analytics"),e(),n(110," View Analytics "),e(),t(111,"button",32),a("click",function(){return r.editTest("math-practice-1")}),t(112,"mat-icon"),n(113,"edit"),e(),n(114," Edit Test "),e()()(),t(115,"div",33)(116,"div",14)(117,"div",15)(118,"h3"),n(119,"Physics Mechanics Review"),e(),t(120,"span",34),n(121,"Physics"),e()(),t(122,"span",35),n(123,"Completed"),e()(),t(124,"div",18)(125,"div",19)(126,"div",20)(127,"mat-icon"),n(128,"schedule"),e(),t(129,"span"),n(130,"90 minutes"),e()(),t(131,"div",20)(132,"mat-icon"),n(133,"quiz"),e(),t(134,"span"),n(135,"25 questions"),e()(),t(136,"div",20)(137,"mat-icon"),n(138,"star"),e(),t(139,"span"),n(140,"Hard difficulty"),e()()()(),t(141,"div",36)(142,"div",37)(143,"mat-icon"),n(144,"check_circle"),e(),t(145,"span"),n(146,"Completed 3 days ago"),e()(),t(147,"div",38)(148,"div",39)(149,"span",40),n(150,"Final Average"),e(),t(151,"span",41),n(152,"74%"),e()(),t(153,"div",39)(154,"span",40),n(155,"Total Attempts"),e(),t(156,"span",41),n(157,"38"),e()()()(),t(158,"div",30)(159,"button",31),a("click",function(){return r.exportResults("physics-mechanics")}),t(160,"mat-icon"),n(161,"file_download"),e(),n(162," Export Results "),e(),t(163,"button",31),a("click",function(){return r.duplicateTest("physics-mechanics")}),t(164,"mat-icon"),n(165,"content_copy"),e(),n(166," Duplicate Test "),e()()(),t(167,"div",42)(168,"div",14)(169,"div",15)(170,"h3"),n(171,"Chemistry Organic Compounds"),e(),t(172,"span",43),n(173,"Chemistry"),e()(),t(174,"span",44),n(175,"Draft"),e()(),t(176,"div",18)(177,"div",19)(178,"div",20)(179,"mat-icon"),n(180,"schedule"),e(),t(181,"span"),n(182,"75 minutes"),e()(),t(183,"div",20)(184,"mat-icon"),n(185,"quiz"),e(),t(186,"span"),n(187,"12/30 questions"),e()(),t(188,"div",20)(189,"mat-icon"),n(190,"star"),e(),t(191,"span"),n(192,"Medium difficulty"),e()()()(),t(193,"div",45)(194,"div",46)(195,"mat-icon"),n(196,"edit"),e(),t(197,"span"),n(198,"40% complete - needs 18 more questions"),e()(),t(199,"div",28),g(200,"div",47),e()(),t(201,"div",30)(202,"button",32),a("click",function(){return r.continueEditing("chemistry-organic")}),t(203,"mat-icon"),n(204,"edit"),e(),n(205," Continue Editing "),e(),t(206,"button",31),a("click",function(){return r.deleteDraft("chemistry-organic")}),t(207,"mat-icon"),n(208,"delete"),e(),n(209," Delete Draft "),e()()(),t(210,"div",48)(211,"div",14)(212,"div",15)(213,"h3"),n(214,"Algebra Final Prep"),e(),t(215,"span",16),n(216,"Mathematics"),e()(),t(217,"span",49),n(218,"Scheduled"),e()(),t(219,"div",18)(220,"div",19)(221,"div",20)(222,"mat-icon"),n(223,"schedule"),e(),t(224,"span"),n(225,"120 minutes"),e()(),t(226,"div",20)(227,"mat-icon"),n(228,"quiz"),e(),t(229,"span"),n(230,"35 questions"),e()(),t(231,"div",20)(232,"mat-icon"),n(233,"star"),e(),t(234,"span"),n(235,"Hard difficulty"),e()()()(),t(236,"div",50)(237,"div",51)(238,"mat-icon"),n(239,"event"),e(),t(240,"div",52)(241,"span",53),n(242,"Start Date"),e(),t(243,"span",54),n(244,"January 15, 2025"),e()()(),t(245,"div",51)(246,"mat-icon"),n(247,"access_time"),e(),t(248,"div",52)(249,"span",53),n(250,"Available Until"),e(),t(251,"span",54),n(252,"January 22, 2025"),e()()()(),t(253,"div",30)(254,"button",31),a("click",function(){return r.previewTest("algebra-final-prep")}),t(255,"mat-icon"),n(256,"visibility"),e(),n(257," Preview Test "),e(),t(258,"button",32),a("click",function(){return r.editSchedule("algebra-final-prep")}),t(259,"mat-icon"),n(260,"edit"),e(),n(261," Edit Schedule "),e()()()()()),c&2&&(s(20),p(r.stats.activeMocks),s(11),p(r.stats.totalAttempts),s(11),_("",h(43,11,r.stats.averageScore,"1.0-0"),"%"),s(5),m("active",r.activeFilter==="all"),s(2),m("active",r.activeFilter==="active"),s(2),m("active",r.activeFilter==="completed"),s(2),m("active",r.activeFilter==="draft"))},dependencies:[x,O,P,b],styles:[".mock-tests[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:2rem}@media (max-width: 768px){.page-header[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}}.header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;font-weight:600;margin-bottom:.5rem;color:var(--color-text-primary)}.header-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--color-text-secondary);font-size:1rem}.create-mock-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.75rem 1.5rem;background:var(--color-primary-600);color:#fff;border:none;border-radius:8px;font-weight:500;cursor:pointer;transition:background .2s}.create-mock-btn[_ngcontent-%COMP%]:hover{background:var(--color-primary-700)}.mock-stats[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1.5rem;margin-bottom:2rem}.stat-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:1.5rem;box-shadow:0 2px 8px #0000001a;display:flex;align-items:center;gap:1rem}.stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:var(--color-primary-50);border-radius:12px;padding:1rem;display:flex;align-items:center;justify-content:center}.stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--color-primary-600);font-size:1.5rem;width:1.5rem;height:1.5rem}.stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]{flex:1}.stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:var(--color-text-secondary);margin-bottom:.25rem}.stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-number[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:700;color:var(--color-text-primary);margin-bottom:.25rem}.stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-change[_ngcontent-%COMP%]{font-size:.75rem;color:var(--color-success-600)}.filters-tabs[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-bottom:2rem}.filters-tabs[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border:1px solid var(--color-border);background:#fff;border-radius:8px;cursor:pointer;transition:all .2s;font-weight:500}.filters-tabs[_ngcontent-%COMP%]   .tab.active[_ngcontent-%COMP%]{background:var(--color-primary-600);color:#fff;border-color:var(--color-primary-600)}.filters-tabs[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:hover:not(.active){background:var(--color-background-subtle)}.mock-tests-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(400px,1fr));gap:1.5rem}.mock-test-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:1.5rem;box-shadow:0 2px 8px #0000001a;border-left:4px solid}.mock-test-card.active[_ngcontent-%COMP%]{border-left-color:var(--color-success-500)}.mock-test-card.completed[_ngcontent-%COMP%]{border-left-color:var(--color-primary-500)}.mock-test-card.draft[_ngcontent-%COMP%]{border-left-color:var(--color-warning-500)}.mock-test-card.scheduled[_ngcontent-%COMP%]{border-left-color:var(--color-info-500)}.card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:1rem}.test-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;margin-bottom:.5rem;color:var(--color-text-primary)}.subject-tag[_ngcontent-%COMP%]{padding:.25rem .75rem;border-radius:12px;font-size:.75rem;font-weight:500}.subject-tag.mathematics[_ngcontent-%COMP%]{background:var(--color-primary-100);color:var(--color-primary-700)}.subject-tag.physics[_ngcontent-%COMP%]{background:var(--color-success-100);color:var(--color-success-700)}.subject-tag.chemistry[_ngcontent-%COMP%]{background:var(--color-warning-100);color:var(--color-warning-700)}.status-badge[_ngcontent-%COMP%]{padding:.25rem .75rem;border-radius:12px;font-size:.75rem;font-weight:500}.status-badge.active[_ngcontent-%COMP%]{background:var(--color-success-100);color:var(--color-success-700)}.status-badge.completed[_ngcontent-%COMP%]{background:var(--color-primary-100);color:var(--color-primary-700)}.status-badge.draft[_ngcontent-%COMP%]{background:var(--color-warning-100);color:var(--color-warning-700)}.status-badge.scheduled[_ngcontent-%COMP%]{background:var(--color-info-100);color:var(--color-info-700)}.test-details[_ngcontent-%COMP%]{margin-bottom:1rem}.detail-row[_ngcontent-%COMP%]{display:flex;gap:1rem;flex-wrap:wrap}.detail-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem;font-size:.875rem;color:var(--color-text-secondary)}.detail-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1rem;width:1rem;height:1rem}.participation-stats[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:1rem;padding:1rem;background:var(--color-background-subtle);border-radius:8px}.stat-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.stat-item[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:.75rem;color:var(--color-text-secondary);margin-bottom:.25rem}.stat-item[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:var(--color-text-primary)}.progress-section[_ngcontent-%COMP%]{margin-bottom:1rem}.progress-section[_ngcontent-%COMP%]   .progress-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:.5rem;font-size:.875rem}.progress-section[_ngcontent-%COMP%]   .progress-header[_ngcontent-%COMP%]   .progress-count[_ngcontent-%COMP%]{color:var(--color-text-secondary)}.progress-section[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{height:8px;background:var(--color-background-muted);border-radius:4px;overflow:hidden}.progress-section[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]   .progress-fill[_ngcontent-%COMP%]{height:100%;background:var(--color-success-500);transition:width .3s}.progress-section[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]   .progress-fill.draft[_ngcontent-%COMP%]{background:var(--color-warning-500)}.completion-stats[_ngcontent-%COMP%]{margin-bottom:1rem}.completion-stats[_ngcontent-%COMP%]   .completion-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin-bottom:1rem;font-size:.875rem;color:var(--color-text-secondary)}.completion-stats[_ngcontent-%COMP%]   .completion-info[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--color-success-600)}.completion-stats[_ngcontent-%COMP%]   .final-stats[_ngcontent-%COMP%]{display:flex;gap:2rem}.completion-stats[_ngcontent-%COMP%]   .final-stats[_ngcontent-%COMP%]   .final-stat[_ngcontent-%COMP%]{display:flex;flex-direction:column}.completion-stats[_ngcontent-%COMP%]   .final-stats[_ngcontent-%COMP%]   .final-stat[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.75rem;color:var(--color-text-secondary);margin-bottom:.25rem}.completion-stats[_ngcontent-%COMP%]   .final-stats[_ngcontent-%COMP%]   .final-stat[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:var(--color-text-primary)}.draft-progress[_ngcontent-%COMP%]{margin-bottom:1rem}.draft-progress[_ngcontent-%COMP%]   .progress-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin-bottom:.5rem;font-size:.875rem;color:var(--color-text-secondary)}.draft-progress[_ngcontent-%COMP%]   .progress-info[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--color-warning-600)}.schedule-info[_ngcontent-%COMP%]{margin-bottom:1rem}.schedule-info[_ngcontent-%COMP%]   .schedule-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin-bottom:.75rem}.schedule-info[_ngcontent-%COMP%]   .schedule-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--color-info-600)}.schedule-info[_ngcontent-%COMP%]   .schedule-item[_ngcontent-%COMP%]   .schedule-details[_ngcontent-%COMP%]{display:flex;flex-direction:column}.schedule-info[_ngcontent-%COMP%]   .schedule-item[_ngcontent-%COMP%]   .schedule-details[_ngcontent-%COMP%]   .schedule-label[_ngcontent-%COMP%]{font-size:.75rem;color:var(--color-text-secondary)}.schedule-info[_ngcontent-%COMP%]   .schedule-item[_ngcontent-%COMP%]   .schedule-details[_ngcontent-%COMP%]   .schedule-value[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:var(--color-text-primary)}.card-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem}.action-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem;padding:.5rem .75rem;border:none;border-radius:6px;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .2s}.action-btn.primary[_ngcontent-%COMP%]{background:var(--color-primary-600);color:#fff}.action-btn.primary[_ngcontent-%COMP%]:hover{background:var(--color-primary-700)}.action-btn.secondary[_ngcontent-%COMP%]{background:var(--color-background-subtle);color:var(--color-text-primary)}.action-btn.secondary[_ngcontent-%COMP%]:hover{background:var(--color-background-muted)}.action-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1rem;width:1rem;height:1rem}"]})};export{S as TeacherMockTests};
