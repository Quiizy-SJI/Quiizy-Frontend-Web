import{k as l}from"./chunk-O6YQIL4L.js";import{U as o,Z as c}from"./chunk-3XB4H34J.js";var d=class s{api=c(l);listAcademicYears(){return this.api.get("/dean/academic-years")}listTeachingUnits(){return this.api.get("/dean/teaching-units")}listCourses(e){let t=e?{academicYearId:String(e)}:void 0;return this.api.get("/mini-admin/courses",{params:t})}createCourse(e){return this.api.post("/mini-admin/courses",e)}updateCourse(e,t){return this.api.patch(`/mini-admin/courses/${e}`,t)}deleteCourse(e){return this.api.delete(`/mini-admin/courses/${e}`)}listClasses(e){let t=e?{academicYearId:String(e)}:void 0;return this.api.get("/class-academic-years",{params:t})}createClass(e){return this.api.post("/mini-admin/classes",e)}updateClass(e,t){return this.api.patch(`/mini-admin/classes/${e}`,t)}deleteClass(e){return this.api.delete(`/mini-admin/classes/${e}`)}createClassAcademicYear(e){return this.api.post("/class-academic-years",e)}updateClassAcademicYear(e,t){return this.api.patch(`/class-academic-years/${e}`,t)}deleteClassAcademicYear(e){return this.api.delete(`/class-academic-years/${e}`)}listTeachers(){return this.api.get("/mini-admin/teachers")}createTeacher(e){return this.api.post("/mini-admin/teachers",e)}updateTeacher(e,t){return this.api.patch(`/mini-admin/teachers/${e}`,t)}deleteTeacher(e){return this.api.delete(`/mini-admin/teachers/${e}`)}listStudents(e){let t=e?{academicYearId:String(e)}:void 0;return this.api.get("/mini-admin/students",{params:t})}createStudent(e){return this.api.post("/mini-admin/students",e)}updateStudent(e,t){return this.api.patch(`/mini-admin/students/${e}`,t)}deleteStudent(e){return this.api.delete(`/mini-admin/students/${e}`)}static \u0275fac=function(t){return new(t||s)};static \u0275prov=o({token:s,factory:s.\u0275fac,providedIn:"root"})};var n="head:recent-activity:v1";function m(s){if(!s)return null;try{return JSON.parse(s)}catch{return null}}function g(s){let e=Date.now()-s,t=Math.max(0,Math.floor(e/1e3));if(t<10)return"Just now";if(t<60)return`${t}s ago`;let r=Math.floor(t/60);if(r<60)return`${r}m ago`;let i=Math.floor(r/60);return i<24?`${i}h ago`:`${Math.floor(i/24)}d ago`}function u(){try{let s=localStorage.getItem("currentUser"),e=s?JSON.parse(s):null,t=e?.id??e?.user?.id??"";return t?`${n}:${String(t)}`:n}catch{return n}}function A(){let s=u();return(m(localStorage.getItem(s))??[]).filter(t=>!!t?.message).sort((t,r)=>r.ts-t.ts).slice(0,25).map(t=>({message:t.message,tone:t.tone,timeAgo:g(t.ts)}))}function y(s,e){let t=u(),r=m(localStorage.getItem(t))??[];r.unshift({message:s,tone:e,ts:Date.now()});let i=r.slice(0,25);return localStorage.setItem(t,JSON.stringify(i)),i.map(a=>({message:a.message,tone:a.tone,timeAgo:g(a.ts)}))}export{d as a,A as b,y as c};
