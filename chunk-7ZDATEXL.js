import{a as q,b as J,c as v,d as Q}from"./chunk-Y7AJ6ZVS.js";import{a as $,c as I}from"./chunk-BT74ICIE.js";import{a as T}from"./chunk-O6YQIL4L.js";import{c as N,f as B,j as K}from"./chunk-AO6LNOWB.js";import"./chunk-SJBCNNOS.js";import{a as F,b as j}from"./chunk-2WUHN5CQ.js";import{a as G}from"./chunk-MAWX5T35.js";import{c as U,f as D,n as W,t as z,u as X}from"./chunk-XGVRFAFZ.js";import"./chunk-4BWE2P25.js";import"./chunk-LUIYB3PI.js";import"./chunk-LM6INHLT.js";import{$a as p,Ab as P,Db as f,Eb as C,Fb as w,Ka as R,Oa as H,Pb as k,Va as b,Wa as M,Z as V,a as E,ab as s,ba as d,bb as o,ca as c,jb as A,lb as g,nb as h,p as _,rc as L,yb as l,za as m,zb as y}from"./chunk-3XB4H34J.js";function ie(u,a){if(u&1&&(s(0,"ui-alert",11),l(1),o()),u&2){let t=h();m(),y(t.errorMessage)}}function ae(u,a){if(u&1&&(s(0,"ui-alert",12),l(1),o()),u&2){let t=h();m(),y(t.infoMessage)}}function ne(u,a){if(u&1){let t=A();s(0,"div",40)(1,"ui-button",41),g("clicked",function(){d(t);let i=h().$implicit,r=h();return c(r.selectRow(i))}),l(2,"View"),o(),s(3,"ui-button",42),g("clicked",function(){d(t);let i=h().$implicit,r=h();return c(r.openEdit(i))}),l(4,"Edit"),o(),s(5,"ui-button",43),g("clicked",function(){d(t);let i=h().$implicit,r=h();return c(r.openDelete(i))}),l(6,"Delete"),o()()}}function re(u,a){if(u&1&&l(0),u&2){let t=h(),e=t.$implicit,i=t.column;P(" ",e[i.key]," ")}}function se(u,a){if(u&1&&b(0,ne,7,0,"div",40)(1,re,1,1),u&2){let t,e=a.column;M((t=e.key)==="actions"?0:1)}}function oe(u,a){u&1&&(s(0,"div",44),l(1,"No courses found for this scope."),o())}function le(u,a){u&1&&(s(0,"div",22),l(1,"Select a course to view details."),o())}function de(u,a){if(u&1&&(s(0,"ui-badge",49),l(1),o()),u&2){let t=h(2);m(),y(t.selectedRow.academicYearLabel)}}function ce(u,a){if(u&1){let t=A();s(0,"div",23)(1,"div",45)(2,"div",46),l(3),o(),s(4,"div",47)(5,"ui-badge",48),l(6),o(),s(7,"ui-badge",49),l(8),o(),b(9,de,2,1,"ui-badge",49),o()(),s(10,"div",50)(11,"div",51)(12,"div",52),l(13,"Teacher"),o(),s(14,"div",53),l(15),o()(),s(16,"div",51)(17,"div",52),l(18,"Level"),o(),s(19,"div",53),l(20),o()(),s(21,"div",51)(22,"div",52),l(23,"Academic year"),o(),s(24,"div",53),l(25),o()()(),s(26,"div",54)(27,"ui-button",15),g("clicked",function(){d(t);let i=h();return c(i.openEdit())}),l(28,"Edit Course"),o(),s(29,"ui-button",55),g("clicked",function(){d(t);let i=h();return c(i.openDelete())}),l(30,"Delete Course"),o()()()}if(u&2){let t=h();m(3),y(t.selectedRow.teachingUnitName),m(3),y(t.selectedRow.className),m(2),P("Credits ",t.selectedRow.credits),m(),M(t.selectedRow.academicYearLabel?9:-1),m(6),y(t.selectedRow.teacherName),m(5),y(t.selectedRow.level||"\u2014"),m(5),y(t.selectedRow.academicYearLabel||"\u2014")}}function me(u,a){if(u&1&&(l(0," Are you sure you want to delete "),s(1,"strong"),l(2),o(),l(3,"? ")),u&2){let t=h();m(2),y(t.selectedRow.teachingUnitName)}}var Z=class u{headApi=V($);academicYears=[];classAcademicYears=[];courses=[];teachingUnits=[];teachers=[];rows=[];filteredRows=[];pagedRows=[];pagination={page:1,pageSize:5,total:0,pageSizes:[5,10,25,50]};selectedAcademicYearId="";selectedLevel="";selectedRows=[];selectedRow=null;loading=!1;errorMessage="";infoMessage="";createOpen=!1;editOpen=!1;deleteOpen=!1;draftTeachingUnitId="";draftCredits=0;draftLevel="";draftClassAcademicYearId="";draftTeacherId="";columns=[{key:"teachingUnitName",label:"Teaching Unit",sortable:!0},{key:"teacherName",label:"Teacher",sortable:!0},{key:"className",label:"Class",sortable:!0,width:"140px"},{key:"level",label:"Level",sortable:!0,width:"90px",align:"center"},{key:"credits",label:"Credits",sortable:!0,width:"90px",align:"center"},{key:"actions",label:"Actions",sortable:!1,width:"180px",align:"right"}];academicYearOptions(){let a=[{value:"",label:"Select academic year"}];for(let t of this.academicYears)a.push({value:String(t.id??""),label:`${t.start.split("-")[0]}\u2013${t.end.split("-")[0]}`});return a}levelOptions(){let a=Array.from(new Set(this.classAcademicYears.map(t=>String(t.class?.level??"")).filter(Boolean))).sort((t,e)=>t.localeCompare(e));return[{value:"",label:"Select level"},...a.map(t=>({value:t,label:t}))]}classOptions(){let a=[{value:"",label:"Select class"}];for(let t of this.classAcademicYears){let e=t.class,i=t.academicYear;!t.id||!e?.name||!i?.start||!i?.end||a.push({value:t.id,label:`${e.name} (${i.start.split("-")[0]}\u2013${i.end.split("-")[0]})`})}return a}teacherOptions(){let a=this.teachers,t=[{value:"",label:"Select teacher"}];for(let e of a){let i=`${e.user?.name??""} ${e.user?.surname??""}`.trim()||"\u2014";t.push({value:e.id,label:i})}return t}teachingUnitOptions(){let a=[{value:"",label:"Select teaching unit"}];for(let t of this.teachingUnits)!t?.id||!t?.name||a.push({value:t.id,label:t.name});return a}normalizeTeachers(a){return[...a].sort((t,e)=>{let i=`${t.user?.name??""} ${t.user?.surname??""}`.trim(),r=`${e.user?.name??""} ${e.user?.surname??""}`.trim();return i.localeCompare(r)})}pickLatestAcademicYearId(a){let t=a.map(e=>{let i=Date.parse(e.end);return{id:e.id,endTs:Number.isFinite(i)?i:Number.NEGATIVE_INFINITY}}).sort((e,i)=>i.endTs-e.endTs);return String(t[0]?.id??"")}async ngOnInit(){await this.loadAll()}onPageChange(a){this.pagination.page=a,this.updatePaging()}onPageSizeChange(a){this.pagination.pageSize=a,this.pagination.page=1,this.updatePaging()}updatePaging(){this.pagination.total=this.filteredRows.length;let a=Math.max(1,Math.ceil(this.pagination.total/this.pagination.pageSize));this.pagination.page>a&&(this.pagination.page=a),this.pagination.page<1&&(this.pagination.page=1);let t=(this.pagination.page-1)*this.pagination.pageSize;this.pagedRows=this.filteredRows.slice(t,t+this.pagination.pageSize)}async loadAll(){this.loading=!0,this.errorMessage="";try{let[a,t,e]=await Promise.all([_(this.headApi.listAcademicYears()),_(this.headApi.listTeachingUnits()),_(this.headApi.listTeachers())]);this.academicYears=a,this.teachingUnits=t,this.teachers=this.normalizeTeachers(e);let i=this.pickLatestAcademicYearId(a);this.selectedAcademicYearId=i,i?await this.loadForAcademicYear(i):(this.classAcademicYears=[],this.courses=[],this.rows=[],this.applyFilters(),this.selectedRow=null,this.selectedRows=[])}catch(a){this.errorMessage=a instanceof Error?a.message:"Failed to load courses."}finally{this.loading=!1}}async onAcademicYearChanged(){await this.loadForAcademicYear(this.selectedAcademicYearId)}async loadForAcademicYear(a){this.loading=!0,this.errorMessage="";try{let t=T(a),e=[],i=[];try{[e,i]=await Promise.all([_(this.headApi.listClasses(t)),_(this.headApi.listCourses(t))])}catch{[e,i]=await Promise.all([_(this.headApi.listClasses(void 0)),_(this.headApi.listCourses(void 0))])}this.classAcademicYears=e,this.courses=i,this.rows=this.mapRows(i),this.applyFilters(),this.selectedRows=[],this.selectedRow=this.filteredRows[0]??null}catch(t){this.errorMessage=t instanceof Error?t.message:"Failed to load courses."}finally{this.loading=!1}}mapRows(a){let t=[];for(let e of a){if(!e?.id)continue;let i=e.classAcademicYear,r=i?.class,n=i?.academicYear,x=e.teachingUnit?.name??"\u2014",S=e.teacher&&`${e.teacher.user?.name??""} ${e.teacher.user?.surname??""}`.trim()||"\u2014",Y=r?.name??"\u2014",O=String(r?.level??e.level??""),ee=Number(e.credits)||0,te=n?`${n.start.split("-")[0]}\u2013${n.end.split("-")[0]}`:"";t.push({id:e.id,teachingUnitName:x,teacherName:S,className:Y,level:O,credits:ee,classAcademicYearId:i?.id??"",academicYearId:String(n?.id??""),academicYearLabel:te,teachingUnitId:e.teachingUnit?.id,teacherId:e.teacher?.id})}return t.sort((e,i)=>e.teachingUnitName.localeCompare(i.teachingUnitName))}applyFilters(){let a=T(this.selectedAcademicYearId),t=T(this.selectedLevel);this.filteredRows=this.rows.filter(e=>!(a&&e.academicYearId!==a||t&&e.level!==t)),this.selectedRow&&!this.filteredRows.some(e=>e.id===this.selectedRow?.id)&&(this.selectedRow=this.filteredRows[0]??null),this.pagination.page=1,this.updatePaging()}onSelectionChange(a){this.selectedRows=a}onRowClick(a){this.selectRow(a)}selectRow(a){this.selectedRow=a}openCreate(){this.infoMessage="",this.draftTeachingUnitId="",this.draftCredits=0,this.draftLevel="",this.draftClassAcademicYearId="",this.draftTeacherId="",this.createOpen=!0}openEdit(a){let t=a??this.selectedRow;t&&(this.infoMessage="",this.draftTeachingUnitId=t.teachingUnitId??"",this.draftCredits=t.credits,this.draftLevel=t.level,this.draftClassAcademicYearId=t.classAcademicYearId,this.draftTeacherId=t.teacherId??"",this.editOpen=!0)}openDelete(a){let t=a??this.selectedRow;t&&(this.infoMessage="",this.selectedRow=t,this.deleteOpen=!0)}async confirmCreate(){if(!this.draftTeachingUnitId||!this.draftClassAcademicYearId)return;let a=this.classAcademicYears.find(e=>e.id===this.draftClassAcademicYearId),t=this.draftLevel?.trim()||String(a?.class?.level??"");if(t.trim()){this.loading=!0,this.errorMessage="";try{let e=await _(this.headApi.createCourse(E({level:t.trim(),credits:Number(this.draftCredits)||0,classAcademicYearId:this.draftClassAcademicYearId,teachingUnitId:this.draftTeachingUnitId},this.draftTeacherId?{teacherId:this.draftTeacherId}:{})));this.createOpen=!1,this.selectedAcademicYearId&&await this.loadForAcademicYear(this.selectedAcademicYearId);let i=this.rows.find(r=>r.id===e.id)??null;i&&(this.selectedRow=i),I("Created course","success")}catch(e){this.errorMessage=e instanceof Error?e.message:"Failed to create course."}finally{this.loading=!1}}}async confirmEdit(){if(!this.selectedRow||!this.draftTeachingUnitId||!this.draftClassAcademicYearId)return;let a=this.classAcademicYears.find(e=>e.id===this.draftClassAcademicYearId),t=this.draftLevel?.trim()||String(a?.class?.level??"");if(t.trim()){this.loading=!0,this.errorMessage="";try{let e=this.selectedRow.id;await _(this.headApi.updateCourse(e,{level:t.trim(),credits:Number(this.draftCredits)||0,classAcademicYearId:this.draftClassAcademicYearId,teachingUnitId:this.draftTeachingUnitId,teacherId:this.draftTeacherId?this.draftTeacherId:null})),this.editOpen=!1,this.selectedAcademicYearId&&await this.loadForAcademicYear(this.selectedAcademicYearId),this.selectedRow=this.rows.find(i=>i.id===e)??this.selectedRow,I("Updated course","info")}catch(e){this.errorMessage=e instanceof Error?e.message:"Failed to update course."}finally{this.loading=!1}}}async confirmDelete(){if(!this.selectedRow)return;let a=this.selectedRow.id;this.loading=!0,this.errorMessage="";try{await _(this.headApi.deleteCourse(a)),this.deleteOpen=!1,this.selectedAcademicYearId&&await this.loadForAcademicYear(this.selectedAcademicYearId),I("Deleted course","danger")}catch(t){this.errorMessage=t instanceof Error?t.message:"Failed to delete course."}finally{this.loading=!1}}async archiveSelected(){if(this.selectedRows.length===0)return;let a=this.selectedRows.length,t=[...new Set(this.selectedRows.map(e=>e.id))];this.loading=!0,this.errorMessage="";try{await Promise.all(t.map(e=>_(this.headApi.deleteCourse(e)))),this.selectedRows=[],this.selectedAcademicYearId&&await this.loadForAcademicYear(this.selectedAcademicYearId),I(`Archived ${a} course(s)`,"warning")}catch(e){this.errorMessage=e instanceof Error?e.message:"Failed to archive courses."}finally{this.loading=!1}}pickExcelFile(){return new Promise(a=>{let t=document.createElement("input");t.type="file",t.accept=".xlsx,.xls",t.onchange=()=>a(t.files?.[0]??null),t.click()})}resolveTeachingUnitId(a){let t=v(a,"teachingunitid","teaching unit id","teachingUnitId");if(t)return t;let e=v(a,"teachingunit","teaching unit","teachingunitname","teaching unit name");return e?this.teachingUnits.find(r=>String(r?.name??"").trim().toLowerCase()===e.toLowerCase())?.id??"":""}resolveClassAcademicYearId(a){let t=v(a,"classacademicyearid","class academic year id","classAcademicYearId");if(t)return t;let e=v(a,"class","classname","class name"),i=v(a,"academicyearid","academic year id","academicYearId");return e?this.classAcademicYears.find(n=>String(n.class?.name??"").trim().toLowerCase()!==e.toLowerCase()?!1:i?String(n.academicYear?.id??"")===i:!0)?.id??"":""}resolveTeacherId(a){let t=v(a,"teacherid","teacher id","teacherId");if(t)return t;let e=v(a,"teacheremail","teacher email");return e?this.teachers.find(r=>String(r.user?.email??"").trim().toLowerCase()===e.toLowerCase())?.id??"":""}async importExcel(){this.infoMessage="",this.errorMessage="";let a=await this.pickExcelFile();if(a){this.loading=!0;try{let t=await J(a),e=0,i=0;for(let r of t){let n=this.resolveTeachingUnitId(r),x=this.resolveClassAcademicYearId(r),S=this.resolveTeacherId(r),Y=Q(r,"credits"),O=v(r,"level");if(!n||!x){i++;continue}try{await _(this.headApi.createCourse(E({level:O||this.draftLevel||"L1",credits:Y||0,classAcademicYearId:x,teachingUnitId:n},S?{teacherId:S}:{}))),e++}catch{i++}}this.selectedAcademicYearId&&await this.loadForAcademicYear(this.selectedAcademicYearId),this.infoMessage=`Imported ${e} course(s). ${i?`Failed: ${i}.`:""}`.trim(),I(`Imported ${e} course(s)`,i?"warning":"success")}catch(t){this.errorMessage=t instanceof Error?t.message:"Failed to import courses."}finally{this.loading=!1}}}exportExcel(){let a=T(this.selectedAcademicYearId)||"all",t=(this.filteredRows.length?this.filteredRows:this.rows).map(e=>({TeachingUnit:e.teachingUnitName,Teacher:e.teacherName,Class:e.className,Level:e.level,Credits:e.credits,AcademicYear:e.academicYearLabel,TeachingUnitId:e.teachingUnitId??"",TeacherId:e.teacherId??"",ClassAcademicYearId:e.classAcademicYearId,CourseId:e.id}));q(`courses-${a}.xlsx`,t,"Courses"),I("Exported courses (Excel)","info")}static \u0275fac=function(t){return new(t||u)};static \u0275cmp=R({type:u,selectors:[["app-head-courses"]],decls:69,vars:46,consts:[["cell",""],["empty",""],[1,"courses"],[1,"courses__header"],[1,"courses__title-section"],[1,"courses__title"],[1,"courses__subtitle"],[1,"courses__header-actions"],["color","primary","variant","solid","size","sm",3,"clicked"],["label","Select academic year",3,"ngModelChange","options","ngModel","searchable"],["label","Select level",3,"ngModelChange","options","ngModel","searchable"],["type","danger","variant","outlined"],["type","info","variant","outlined"],[1,"courses__toolbar"],["color","warning","variant","soft","size","sm",3,"clicked"],["color","secondary","variant","soft","size","sm",3,"clicked"],[1,"courses__grid"],["variant","outlined",1,"panel"],[1,"panel__header"],[1,"panel__title"],[1,"panel__subtitle"],["trackByKey","id",3,"rowClick","selectionChange","pageChange","pageSizeChange","columns","data","loading","searchable","selectable","rowClickable","showPagination","pagination"],[1,"detail-empty"],[1,"detail"],["title","Create Course",3,"closed","isOpen","showFooter"],[1,"modal-form"],["label","Teaching unit",3,"ngModelChange","options","ngModel","searchable"],["label","Credits","type","number","placeholder","3",3,"ngModelChange","ngModel"],["label","Level","placeholder","e.g., 4",3,"ngModelChange","ngModel"],["label","Class",3,"ngModelChange","options","ngModel","searchable"],["label","Teacher",3,"ngModelChange","options","ngModel","searchable"],["slot","footer",1,"modal-actions"],["variant","soft","color","neutral",3,"clicked"],["color","primary",3,"clicked"],["title","Edit Course",3,"closed","isOpen","showFooter"],["label","Credits","type","number",3,"ngModelChange","ngModel"],["label","Level",3,"ngModelChange","ngModel"],["title","Delete Course","description","This will delete the course.",3,"closed","isOpen","showFooter"],[1,"delete-confirm"],["color","danger",3,"clicked"],[1,"table-actions"],["size","sm","variant","soft","color","primary",3,"clicked"],["size","sm","variant","soft","color","secondary",3,"clicked"],["size","sm","variant","soft","color","danger",3,"clicked"],[1,"table-empty"],[1,"detail__top"],[1,"detail__name"],[1,"detail__meta"],["color","primary","variant","subtle"],["color","neutral","variant","subtle"],[1,"detail__fields"],[1,"detail-field"],[1,"detail-field__label"],[1,"detail-field__value"],[1,"detail__actions"],["color","danger","variant","soft","size","sm",3,"clicked"]],template:function(t,e){if(t&1){let i=A();s(0,"div",2)(1,"header",3)(2,"div",4)(3,"h1",5),l(4,"Course Management"),o(),s(5,"p",6),l(6,"Create and assign courses to classes & teachers"),o()(),s(7,"div",7)(8,"ui-button",8),g("clicked",function(){return d(i),c(e.openCreate())}),l(9," + Create Course "),o(),s(10,"ui-select",9),w("ngModelChange",function(n){return d(i),C(e.selectedAcademicYearId,n)||(e.selectedAcademicYearId=n),c(n)}),g("ngModelChange",function(){return d(i),c(e.onAcademicYearChanged())}),o(),s(11,"ui-select",10),w("ngModelChange",function(n){return d(i),C(e.selectedLevel,n)||(e.selectedLevel=n),c(n)}),g("ngModelChange",function(){return d(i),c(e.applyFilters())}),o()()(),b(12,ie,2,1,"ui-alert",11),b(13,ae,2,1,"ui-alert",12),s(14,"div",13)(15,"ui-button",14),g("clicked",function(){return d(i),c(e.importExcel())}),l(16," Import Excel "),o(),s(17,"ui-button",15),g("clicked",function(){return d(i),c(e.exportExcel())}),l(18," Export Excel "),o()(),s(19,"section",16)(20,"ui-card",17)(21,"div",18)(22,"div",19),l(23,"Courses Directory"),o(),s(24,"div",20),l(25,"View teaching unit, class, credits and assigned teacher."),o()(),s(26,"ui-table",21),g("rowClick",function(n){return d(i),c(e.onRowClick(n.row))})("selectionChange",function(n){return d(i),c(e.onSelectionChange(n))})("pageChange",function(n){return d(i),c(e.onPageChange(n))})("pageSizeChange",function(n){return d(i),c(e.onPageSizeChange(n))}),H(27,se,2,1,"ng-template",null,0,k)(29,oe,2,0,"ng-template",null,1,k),o()(),s(31,"ui-card",17)(32,"div",18)(33,"div",19),l(34,"Course Detail"),o()(),b(35,le,2,0,"div",22)(36,ce,31,7,"div",23),o()(),s(37,"ui-modal",24),g("closed",function(){return d(i),c(e.createOpen=!1)}),s(38,"div",25)(39,"ui-select",26),w("ngModelChange",function(n){return d(i),C(e.draftTeachingUnitId,n)||(e.draftTeachingUnitId=n),c(n)}),o(),s(40,"ui-input",27),w("ngModelChange",function(n){return d(i),C(e.draftCredits,n)||(e.draftCredits=n),c(n)}),o(),s(41,"ui-input",28),w("ngModelChange",function(n){return d(i),C(e.draftLevel,n)||(e.draftLevel=n),c(n)}),o(),s(42,"ui-select",29),w("ngModelChange",function(n){return d(i),C(e.draftClassAcademicYearId,n)||(e.draftClassAcademicYearId=n),c(n)}),o(),s(43,"ui-select",30),w("ngModelChange",function(n){return d(i),C(e.draftTeacherId,n)||(e.draftTeacherId=n),c(n)}),o()(),s(44,"div",31)(45,"ui-button",32),g("clicked",function(){return d(i),c(e.createOpen=!1)}),l(46,"Cancel"),o(),s(47,"ui-button",33),g("clicked",function(){return d(i),c(e.confirmCreate())}),l(48,"Create"),o()()(),s(49,"ui-modal",34),g("closed",function(){return d(i),c(e.editOpen=!1)}),s(50,"div",25)(51,"ui-select",26),w("ngModelChange",function(n){return d(i),C(e.draftTeachingUnitId,n)||(e.draftTeachingUnitId=n),c(n)}),o(),s(52,"ui-input",35),w("ngModelChange",function(n){return d(i),C(e.draftCredits,n)||(e.draftCredits=n),c(n)}),o(),s(53,"ui-input",36),w("ngModelChange",function(n){return d(i),C(e.draftLevel,n)||(e.draftLevel=n),c(n)}),o(),s(54,"ui-select",29),w("ngModelChange",function(n){return d(i),C(e.draftClassAcademicYearId,n)||(e.draftClassAcademicYearId=n),c(n)}),o(),s(55,"ui-select",30),w("ngModelChange",function(n){return d(i),C(e.draftTeacherId,n)||(e.draftTeacherId=n),c(n)}),o()(),s(56,"div",31)(57,"ui-button",32),g("clicked",function(){return d(i),c(e.editOpen=!1)}),l(58,"Cancel"),o(),s(59,"ui-button",33),g("clicked",function(){return d(i),c(e.confirmEdit())}),l(60,"Save"),o()()(),s(61,"ui-modal",37),g("closed",function(){return d(i),c(e.deleteOpen=!1)}),s(62,"div",38),b(63,me,4,1),o(),s(64,"div",31)(65,"ui-button",32),g("clicked",function(){return d(i),c(e.deleteOpen=!1)}),l(66,"Cancel"),o(),s(67,"ui-button",39),g("clicked",function(){return d(i),c(e.confirmDelete())}),l(68,"Delete"),o()()()()}t&2&&(m(10),p("options",e.academicYearOptions()),f("ngModel",e.selectedAcademicYearId),p("searchable",!0),m(),p("options",e.levelOptions()),f("ngModel",e.selectedLevel),p("searchable",!0),m(),M(e.errorMessage?12:-1),m(),M(e.infoMessage?13:-1),m(13),p("columns",e.columns)("data",e.pagedRows)("loading",e.loading)("searchable",!0)("selectable",!0)("rowClickable",!0)("showPagination",!0)("pagination",e.pagination),m(9),M(e.selectedRow?36:35),m(2),p("isOpen",e.createOpen)("showFooter",!0),m(2),p("options",e.teachingUnitOptions()),f("ngModel",e.draftTeachingUnitId),p("searchable",!0),m(),f("ngModel",e.draftCredits),m(),f("ngModel",e.draftLevel),m(),p("options",e.classOptions()),f("ngModel",e.draftClassAcademicYearId),p("searchable",!0),m(),p("options",e.teacherOptions()),f("ngModel",e.draftTeacherId),p("searchable",!0),m(6),p("isOpen",e.editOpen)("showFooter",!0),m(2),p("options",e.teachingUnitOptions()),f("ngModel",e.draftTeachingUnitId),p("searchable",!0),m(),f("ngModel",e.draftCredits),m(),f("ngModel",e.draftLevel),m(),p("options",e.classOptions()),f("ngModel",e.draftClassAcademicYearId),p("searchable",!0),m(),p("options",e.teacherOptions()),f("ngModel",e.draftTeacherId),p("searchable",!0),m(6),p("isOpen",e.deleteOpen)("showFooter",!0),m(2),M(e.selectedRow?63:-1))},dependencies:[L,W,U,D,j,X,F,B,G,z,K,N],styles:[".courses[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;padding:.5rem}.courses__header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;gap:1rem;flex-wrap:wrap}.courses__title-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.courses__title[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:700;color:var(--text-primary);margin:0}.courses__subtitle[_ngcontent-%COMP%]{font-size:.875rem;color:var(--text-tertiary);margin:0}.courses__header-actions[_ngcontent-%COMP%]{display:flex;gap:.75rem;align-items:flex-end;flex-wrap:wrap}.courses__toolbar[_ngcontent-%COMP%]{display:flex;gap:.75rem;flex-wrap:wrap}.courses__grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1.2fr .8fr;gap:1rem;align-items:start}@media (max-width: 1100px){.courses__grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.courses__bottom[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr}.panel[_ngcontent-%COMP%]{width:100%}.panel__header[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem;padding:.25rem 0 1rem}.panel__title[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;color:var(--text-primary)}.panel__subtitle[_ngcontent-%COMP%]{font-size:.8125rem;color:var(--text-tertiary)}.table-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:.5rem}.table-empty[_ngcontent-%COMP%]{padding:1rem 0;color:var(--text-tertiary);font-size:.875rem}.detail-empty[_ngcontent-%COMP%]{color:var(--text-tertiary);font-size:.875rem;padding:.5rem 0}.detail[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.detail__top[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.35rem}.detail__name[_ngcontent-%COMP%]{font-weight:700;color:var(--text-primary)}.detail__meta[_ngcontent-%COMP%]{display:flex;gap:.5rem;flex-wrap:wrap}.detail__fields[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem}.detail-field[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:1rem;border-bottom:1px solid var(--border-subtle);padding-bottom:.5rem}.detail-field__label[_ngcontent-%COMP%]{font-size:.75rem;color:var(--text-tertiary)}.detail-field__value[_ngcontent-%COMP%]{font-size:.875rem;color:var(--text-primary);text-align:right;word-break:break-word}.detail__actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;flex-wrap:wrap}.modal-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem}.modal-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:.5rem;width:100%}.delete-confirm[_ngcontent-%COMP%]{color:var(--text-primary)}.activity-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem}.activity-item[_ngcontent-%COMP%]{display:flex;gap:.75rem;align-items:flex-start}.activity-item__content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.activity-item__message[_ngcontent-%COMP%]{font-size:.875rem;color:var(--text-primary)}.activity-item__time[_ngcontent-%COMP%]{font-size:.75rem;color:var(--text-tertiary)}.dot[_ngcontent-%COMP%]{width:10px;height:10px;border-radius:999px;margin-top:.35rem;flex:0 0 10px}.dot--info[_ngcontent-%COMP%]{background:var(--color-info)}.dot--success[_ngcontent-%COMP%]{background:var(--color-success)}.dot--warning[_ngcontent-%COMP%]{background:var(--color-warning)}.dot--danger[_ngcontent-%COMP%]{background:var(--color-danger)}.dot--primary[_ngcontent-%COMP%]{background:var(--color-primary)}.dot--neutral[_ngcontent-%COMP%]{background:var(--text-tertiary)}.dot--secondary[_ngcontent-%COMP%]{background:var(--color-secondary)}.dot--accent[_ngcontent-%COMP%]{background:var(--color-accent)}"]})};export{Z as HeadCourses};
