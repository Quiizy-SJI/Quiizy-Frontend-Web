import{a as H}from"./chunk-R2DQWYV4.js";import"./chunk-Y5LGC6BU.js";import"./chunk-TEBYAPM2.js";import{a as N,f as V,h as U,o as W,y as Y}from"./chunk-UUU7BI2K.js";import{c as I,d as L,e as q,f as z,g as R,l as T,n as D}from"./chunk-XIAE3S6L.js";import{a as A,b as F}from"./chunk-W67SSUM4.js";import"./chunk-23TWDL4C.js";import{c as E}from"./chunk-5XPIWXNK.js";import{$a as d,Ab as P,Db as u,Eb as f,Fb as h,Ka as w,Va as O,Wa as v,Wb as S,Z as m,ab as e,ba as c,bb as n,ca as p,cb as s,jb as x,lb as C,nb as M,nc as k,p as y,yb as i,za as g}from"./chunk-XVADYIPR.js";function B(_,o){if(_&1){let a=x();e(0,"ui-alert",48),C("dismissed",function(){c(a);let l=M();return p(l.errorMessage="")}),i(1),n()}if(_&2){let a=M();d("title","Authentication Failed")("dismissible",!0),g(),P(" ",a.errorMessage," ")}}var j=class _{authService=m(H);router=m(E);cdr=m(S);loginRequest={identifier:"",password:"",rememberMe:!1,role:"TEACHER"};isLoading=!1;errorMessage="";roleError="";identifierError="";passwordError="";roleOptions=[{value:"TEACHER",label:"Teacher",icon:"\u{1F468}\u200D\u{1F3EB}"},{value:"SPECIALITY_HEAD",label:"Speciality Head (Speciality Head)",icon:"\u{1F4CB}"},{value:"DEAN",label:"Dean (Administrator)",icon:"\u{1F3DB}\uFE0F"}];currentYear=new Date().getFullYear();cyclingInterval;currentSlideIndex=0;totalSlides=5;ngOnInit(){this.startImageCycling()}ngOnDestroy(){this.cyclingInterval&&clearInterval(this.cyclingInterval)}startImageCycling(){this.cyclingInterval=window.setInterval(()=>{this.cycleToNextSlide()},4e3)}cycleToNextSlide(){let o=document.querySelector(`.login-page__slide[data-slide="${this.currentSlideIndex}"]`),a=document.querySelector(`.login-page__text-slide[data-text="${this.currentSlideIndex}"]`);o&&o.classList.remove("active"),a&&a.classList.remove("active"),this.currentSlideIndex=(this.currentSlideIndex+1)%this.totalSlides;let t=document.querySelector(`.login-page__slide[data-slide="${this.currentSlideIndex}"]`),l=document.querySelector(`.login-page__text-slide[data-text="${this.currentSlideIndex}"]`);t&&t.classList.add("active"),l&&l.classList.add("active")}get identifierLabel(){return this.loginRequest.role==="STUDENT"?"Matricule":"Email Address"}get identifierPlaceholder(){return this.loginRequest.role==="STUDENT"?"Enter your student matricule":"Enter your email address"}validateForm(){let o=!0;return this.roleError="",this.identifierError="",this.passwordError="",this.loginRequest.role||(this.roleError="Please select your role",o=!1),this.loginRequest.identifier?.trim()||(this.identifierError=this.loginRequest.role==="STUDENT"?"Please enter your matricule":"Please enter your email address",o=!1),this.loginRequest.password?this.loginRequest.password.length<6&&(this.passwordError="Password must be at least 6 characters",o=!1):(this.passwordError="Please enter your password",o=!1),o}async onSubmit(){if(this.errorMessage="",!!this.validateForm()){this.isLoading=!0;try{let o=await y(this.authService.login(this.loginRequest)),a=this.getLandingUrlForRole(o.user.role);try{await this.router.navigateByUrl(a)}catch(t){if((t instanceof Error?t.message:String(t)).includes("Failed to fetch dynamically imported module")){window.location.assign(a);return}throw t}}catch(o){this.errorMessage=o instanceof Error?o.message:"An error occurred during sign in. Please try again.",this.cdr.markForCheck()}finally{this.isLoading=!1,this.cdr.markForCheck()}}}getLandingUrlForRole(o){switch(o){case"DEAN":return"/dean";case"TEACHER":return"/teacher";case"SPECIALITY_HEAD":return"/showcase";case"STUDENT":return"/showcase";default:return"/showcase"}}static \u0275fac=function(a){return new(a||_)};static \u0275cmp=w({type:_,selectors:[["app-login"]],decls:78,vars:22,consts:[["loginForm","ngForm"],[1,"login-page"],[1,"login-page__background"],[1,"login-page__container"],[1,"login-page__image-card"],[1,"login-page__quizzy-brand"],[1,"login-page__logo-circle"],[1,"login-page__logo-text"],[1,"login-page__brand-text"],[1,"login-page__image-slider"],["data-slide","0",1,"login-page__slide","active"],["src","https://images.unsplash.com/photo-1606107557195-0e29a4b5b4aa?w=800&h=600&fit=crop","alt","Students taking quiz"],["data-slide","1",1,"login-page__slide"],["src","https://images.unsplash.com/photo-1434030216411-0b793f4b4173?w=800&h=600&fit=crop","alt","Classroom examination"],["data-slide","2",1,"login-page__slide"],["src","https://images.unsplash.com/photo-1509062522246-3755977927d7?w=800&h=600&fit=crop","alt","Students studying together"],["data-slide","3",1,"login-page__slide"],["src","https://images.unsplash.com/photo-1522202176988-66273c2fd55f?w=800&h=600&fit=crop","alt","Group quiz session"],["data-slide","4",1,"login-page__slide"],["src","https://images.unsplash.com/photo-1581726690015-c9861fa5057f?w=800&h=600&fit=crop","alt","Digital learning platform"],[1,"login-page__overlay-content"],[1,"login-page__text-slider"],["data-text","0",1,"login-page__text-slide","active"],[1,"login-page__hero-title"],["data-text","1",1,"login-page__text-slide"],["data-text","2",1,"login-page__text-slide"],["data-text","3",1,"login-page__text-slide"],["data-text","4",1,"login-page__text-slide"],[1,"login-page__form-card"],[1,"login-page__theme-toggle"],[1,"login-page__form-header"],[1,"login-page__form-title"],[1,"login-page__form-subtitle"],[1,"login-page__form",3,"ngSubmit"],["variant","soft","color","danger",3,"title","dismissible"],[1,"login-page__field"],[1,"login-page__label"],["placeholder","Teacher","name","role",3,"ngModelChange","options","ngModel","required","validationState","errorMessage","iconLeft"],["slot","icon-left"],["placeholder","Enter your email","type","email","name","identifier","autocomplete","username",3,"ngModelChange","ngModel","required","validationState","errorMessage","iconLeft"],["placeholder","Enter your password","type","password","name","password","autocomplete","current-password",3,"ngModelChange","ngModel","required","showPasswordToggle","validationState","errorMessage","iconLeft"],[1,"login-page__forgot-password"],["href","mailto:support@quizzy.edu",1,"login-page__forgot-link"],[1,"login-page__submit"],["type","submit","variant","solid","color","primary","size","lg",3,"fullWidth","loading","disabled"],[1,"login-page__signup"],[1,"login-page__signup-text"],["href","#",1,"login-page__signup-link"],["variant","soft","color","danger",3,"dismissed","title","dismissible"]],template:function(a,t){if(a&1){let l=x();e(0,"section",1),s(1,"div",2),e(2,"div",3)(3,"div",4)(4,"div",5)(5,"div",6)(6,"span",7),i(7,"Q"),n()(),e(8,"span",8),i(9,"QUIZZY"),n()(),e(10,"div",9)(11,"div",10),s(12,"img",11),n(),e(13,"div",12),s(14,"img",13),n(),e(15,"div",14),s(16,"img",15),n(),e(17,"div",16),s(18,"img",17),n(),e(19,"div",18),s(20,"img",19),n()(),e(21,"div",20)(22,"div",21)(23,"div",22)(24,"h2",23),i(25,"Smart Quiz Management"),n()(),e(26,"div",24)(27,"h2",23),i(28,"Seamless Digital Examinations"),n()(),e(29,"div",25)(30,"h2",23),i(31,"Collaborative Learning Excellence"),n()(),e(32,"div",26)(33,"h2",23),i(34,"Interactive Knowledge Hub"),n()(),e(35,"div",27)(36,"h2",23),i(37,"Advanced Analytics & Insights"),n()()()()(),e(38,"div",28)(39,"div",29),s(40,"ui-theme-toggle"),n(),e(41,"div",30)(42,"h2",31),i(43,"Welcome Back to Quizzy"),n(),e(44,"p",32),i(45,"Login to access your Quizzy dashboard"),n()(),e(46,"form",33,0),C("ngSubmit",function(){return c(l),p(t.onSubmit())}),O(48,B,2,3,"ui-alert",34),e(49,"div",35)(50,"label",36),i(51,"Select Role"),n(),e(52,"ui-select",37),h("ngModelChange",function(r){return c(l),f(t.loginRequest.role,r)||(t.loginRequest.role=r),p(r)}),e(53,"mat-icon",38),i(54,"person_outline"),n()()(),e(55,"div",35)(56,"label",36),i(57,"Email Address"),n(),e(58,"ui-input",39),h("ngModelChange",function(r){return c(l),f(t.loginRequest.identifier,r)||(t.loginRequest.identifier=r),p(r)}),e(59,"mat-icon",38),i(60,"email"),n()()(),e(61,"div",35)(62,"label",36),i(63,"Password"),n(),e(64,"ui-input",40),h("ngModelChange",function(r){return c(l),f(t.loginRequest.password,r)||(t.loginRequest.password=r),p(r)}),e(65,"mat-icon",38),i(66,"lock_outline"),n()()(),e(67,"div",41)(68,"a",42),i(69,"Forgot Password?"),n()(),e(70,"div",43)(71,"ui-button",44),i(72),n()(),e(73,"div",45)(74,"p",46),i(75," Don't have an account? "),e(76,"a",47),i(77,"Sign Up"),n()()()()()()()}a&2&&(g(48),v(t.errorMessage?48:-1),g(4),d("options",t.roleOptions),u("ngModel",t.loginRequest.role),d("required",!0)("validationState",t.roleError?"invalid":"default")("errorMessage",t.roleError)("iconLeft",!0),g(6),u("ngModel",t.loginRequest.identifier),d("required",!0)("validationState",t.identifierError?"invalid":"default")("errorMessage",t.identifierError)("iconLeft",!0),g(6),u("ngModel",t.loginRequest.password),d("required",!0)("showPasswordToggle",!0)("validationState",t.passwordError?"invalid":"default")("errorMessage",t.passwordError)("iconLeft",!0),g(7),d("fullWidth",!0)("loading",t.isLoading)("disabled",t.isLoading),g(),P(" ",t.isLoading?"Signing in...":"Login"," "))},dependencies:[k,D,R,I,L,T,z,q,F,A,V,U,N,W,Y],styles:['.login-page[_ngcontent-%COMP%]{position:relative;min-height:100vh;display:flex;align-items:center;justify-content:center;padding:2rem;background:#fff}[data-theme=dark][_ngcontent-%COMP%]   .login-page[_ngcontent-%COMP%]{background:#0f172a}@media (max-width: 768px){.login-page[_ngcontent-%COMP%]{padding:1rem}}.login-page__background[_ngcontent-%COMP%]{position:fixed;inset:0;background-image:url(https://images.unsplash.com/photo-1557804506-669a67965ba0?w=1920&h=1080&fit=crop);background-size:cover;background-position:center;background-repeat:no-repeat;filter:blur(12px);transform:scale(1.1);z-index:0}.login-page__background[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:0;background:linear-gradient(135deg,#5b5ff526,#3b82f61a)}[data-theme=dark][_ngcontent-%COMP%]   .login-page__background[_ngcontent-%COMP%]:after{background:linear-gradient(135deg,#0f172acc,#1e293bb3)}.login-page__container[_ngcontent-%COMP%]{position:relative;z-index:1;display:flex;max-width:1000px;width:100%;border-radius:20px;overflow:hidden;box-shadow:0 25px 50px -12px #00000040}[data-theme=dark][_ngcontent-%COMP%]   .login-page__container[_ngcontent-%COMP%]{box-shadow:0 25px 50px -12px #00000080}@media (max-width: 768px){.login-page__container[_ngcontent-%COMP%]{flex-direction:column;max-width:400px}}.login-page__image-card[_ngcontent-%COMP%]{flex:1;position:relative;background:#fff;min-height:600px}[data-theme=dark][_ngcontent-%COMP%]   .login-page__image-card[_ngcontent-%COMP%]{background:#1e293b}@media (max-width: 768px){.login-page__image-card[_ngcontent-%COMP%]{min-height:350px}}.login-page__quizzy-brand[_ngcontent-%COMP%]{position:absolute;top:2rem;left:2rem;z-index:3;display:flex;align-items:center;gap:1rem;background:#fffffff2;padding:1rem 1.5rem;border-radius:15px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);box-shadow:0 8px 32px #0000001a}[data-theme=dark][_ngcontent-%COMP%]   .login-page__quizzy-brand[_ngcontent-%COMP%]{background:#1e293bf2;box-shadow:0 8px 32px #0000004d}.login-page__logo-circle[_ngcontent-%COMP%]{width:48px;height:48px;background:linear-gradient(135deg,#5b5ff5,#3b82f6);border-radius:50%;display:flex;align-items:center;justify-content:center;flex-shrink:0;box-shadow:0 4px 20px #5b5ff54d}.login-page__logo-text[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:800;color:#fff;text-shadow:0 2px 4px rgba(0,0,0,.2)}.login-page__brand-text[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:800;color:#1f2937;letter-spacing:.1em}[data-theme=dark][_ngcontent-%COMP%]   .login-page__brand-text[_ngcontent-%COMP%]{color:#e2e8f0}.login-page__image-slider[_ngcontent-%COMP%]{position:absolute;inset:0}.login-page__slide[_ngcontent-%COMP%]{position:absolute;inset:0;opacity:0;transition:opacity 1.5s ease-in-out}.login-page__slide.active[_ngcontent-%COMP%]{opacity:1}.login-page__slide[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.login-page__slide[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:0;background:linear-gradient(to bottom,#5b5ff54d,#5b5ff580 40%,#5b5ff5cc 60%,#3b82f699)}[data-theme=dark][_ngcontent-%COMP%]   .login-page__slide[_ngcontent-%COMP%]:after{background:linear-gradient(to bottom,#0f172a66,#0f172a99 40%,#1e293bcc 60%,#1e293bb3)}.login-page__overlay-content[_ngcontent-%COMP%]{position:absolute;top:50%;left:0;right:0;transform:translateY(-50%);padding:3rem 2rem;color:#fff;z-index:2;display:flex;align-items:center;justify-content:center}@media (max-width: 768px){.login-page__overlay-content[_ngcontent-%COMP%]{padding:2rem 1.5rem}}.login-page__text-slider[_ngcontent-%COMP%]{position:relative;max-width:450px;width:100%;text-align:center}.login-page__text-slide[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;opacity:0;transition:opacity 1.5s ease-in-out}.login-page__text-slide.active[_ngcontent-%COMP%]{opacity:1}.login-page__hero-title[_ngcontent-%COMP%]{font-size:2.75rem;font-weight:800;margin:0;line-height:1.1;text-shadow:0 4px 8px rgba(0,0,0,.5);text-align:center;color:#fff}@media (max-width: 1024px){.login-page__hero-title[_ngcontent-%COMP%]{font-size:2.25rem}}@media (max-width: 768px){.login-page__hero-title[_ngcontent-%COMP%]{font-size:1.75rem}}.login-page__form-card[_ngcontent-%COMP%]{flex:1;background:#fff;padding:3rem;position:relative;display:flex;flex-direction:column;justify-content:center}[data-theme=dark][_ngcontent-%COMP%]   .login-page__form-card[_ngcontent-%COMP%]{background:#1e293b}@media (max-width: 768px){.login-page__form-card[_ngcontent-%COMP%]{padding:2rem 1.5rem}}.login-page__theme-toggle[_ngcontent-%COMP%]{position:absolute;top:1.5rem;right:1.5rem;z-index:10}.login-page__form-header[_ngcontent-%COMP%]{margin-bottom:2.5rem;margin-top:1rem}.login-page__form-title[_ngcontent-%COMP%]{font-size:2rem;font-weight:800;margin:0 0 .75rem;background:linear-gradient(135deg,#3b82f6,#5b5ff5);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}[data-theme=dark][_ngcontent-%COMP%]   .login-page__form-title[_ngcontent-%COMP%]{background:linear-gradient(135deg,#60a5fa,#818cf8);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.login-page__form-subtitle[_ngcontent-%COMP%]{font-size:.95rem;color:#6b7280;margin:0}[data-theme=dark][_ngcontent-%COMP%]   .login-page__form-subtitle[_ngcontent-%COMP%]{color:#94a3b8}.login-page__form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.75rem}.login-page__field[_ngcontent-%COMP%]{width:100%}.login-page__label[_ngcontent-%COMP%]{display:block;font-size:.9rem;font-weight:600;color:#374151;margin-bottom:.6rem}[data-theme=dark][_ngcontent-%COMP%]   .login-page__label[_ngcontent-%COMP%]{color:#e2e8f0}.login-page__forgot-password[_ngcontent-%COMP%]{text-align:right;margin-top:-.5rem}.login-page__forgot-link[_ngcontent-%COMP%]{font-size:.875rem;color:#3b82f6;text-decoration:none;font-weight:600;transition:all .2s ease}.login-page__forgot-link[_ngcontent-%COMP%]:hover{color:#2563eb;text-decoration:underline}[data-theme=dark][_ngcontent-%COMP%]   .login-page__forgot-link[_ngcontent-%COMP%]{color:#60a5fa}[data-theme=dark][_ngcontent-%COMP%]   .login-page__forgot-link[_ngcontent-%COMP%]:hover{color:#93c5fd}.login-page__submit[_ngcontent-%COMP%]{margin-top:.75rem}.login-page__signup[_ngcontent-%COMP%]{text-align:center;margin-top:1.25rem}.login-page__signup-text[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280;margin:0}[data-theme=dark][_ngcontent-%COMP%]   .login-page__signup-text[_ngcontent-%COMP%]{color:#94a3b8}.login-page__signup-link[_ngcontent-%COMP%]{color:#3b82f6;text-decoration:none;font-weight:600;transition:all .2s ease}.login-page__signup-link[_ngcontent-%COMP%]:hover{color:#2563eb;text-decoration:underline}[data-theme=dark][_ngcontent-%COMP%]   .login-page__signup-link[_ngcontent-%COMP%]{color:#60a5fa}[data-theme=dark][_ngcontent-%COMP%]   .login-page__signup-link[_ngcontent-%COMP%]:hover{color:#93c5fd}@keyframes _ngcontent-%COMP%_slideInLeft{0%{opacity:0;transform:translate(-50px)}to{opacity:1;transform:translate(0)}}@keyframes _ngcontent-%COMP%_slideInRight{0%{opacity:0;transform:translate(50px)}to{opacity:1;transform:translate(0)}}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_logoFloat{0%,to{transform:translateY(0)}50%{transform:translateY(-5px)}}.login-page__image-card[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideInLeft .8s ease-out}.login-page__form-card[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideInRight .8s ease-out .2s both}.login-page__quizzy-brand[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .6s ease-out .4s both,_ngcontent-%COMP%_logoFloat 3s ease-in-out 2s infinite}.login-page__overlay-content[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .8s ease-out .6s both}@media (max-width: 768px){.login-page__container[_ngcontent-%COMP%]{border-radius:16px}.login-page__image-card[_ngcontent-%COMP%]{order:1}.login-page__form-card[_ngcontent-%COMP%]{order:2}.login-page__quizzy-brand[_ngcontent-%COMP%]{top:1.5rem;left:1.5rem;padding:.75rem 1rem}.login-page__logo-circle[_ngcontent-%COMP%]{width:50px;height:50px}.login-page__logo-text[_ngcontent-%COMP%]{font-size:1.5rem}.login-page__brand-text[_ngcontent-%COMP%]{font-size:1.25rem}}.login-page__container[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:-2px;background:linear-gradient(45deg,#3b82f6,#5b5ff5,#8b5cf6,#3b82f6);border-radius:22px;z-index:-1;animation:_ngcontent-%COMP%_borderGlow 3s ease-in-out infinite}@keyframes _ngcontent-%COMP%_borderGlow{0%,to{opacity:.5}50%{opacity:.8}}']})};export{j as Login};
