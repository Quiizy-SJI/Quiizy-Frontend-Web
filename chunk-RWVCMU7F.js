import{b as ve}from"./chunk-AJHYPDYV.js";import{a as ye}from"./chunk-5HN4BRYP.js";import{a as _e}from"./chunk-YPRXJ25I.js";import{b as V,k as ue}from"./chunk-LSE4QE4L.js";import{c as ce,f as me,j as ge,n as pe}from"./chunk-ZPZWYV2O.js";import"./chunk-DX4RU2C5.js";import{a as le,b as de}from"./chunk-C546SSYU.js";import"./chunk-KSJF27MU.js";import{c as ie,f as ae,n as oe}from"./chunk-3OLBZRES.js";import{a as re,b as se}from"./chunk-YL2QS7YU.js";import"./chunk-HQOA22C6.js";import{d as ne}from"./chunk-3WAO3F22.js";import{$a as m,A as z,Ab as f,Bb as L,Ka as G,Mb as I,Oa as u,Ob as D,Pb as F,Q as E,Tb as d,U as J,Wb as q,Y as U,Z as w,a as B,ab as i,b as $,ba as M,bb as n,ca as P,cb as x,fc as W,gb as X,gc as K,hb as Y,hc as H,jb as O,l as S,la as y,lb as b,nb as g,p as h,pc as Z,q as j,qc as ee,rc as te,ub as Q,vb as R,wb as k,yb as r,za as s,zb as p}from"./chunk-T26DWB6S.js";var T=class a{constructor(e){this.api=e}basePath="/teacher/sentiment-analyses";analysisState=y({loading:!1,error:null,data:null});analysesListState=y({loading:!1,error:null,data:[]});analysis=d(()=>this.analysisState().data);analysisLoading=d(()=>this.analysisState().loading);analysisError=d(()=>this.analysisState().error);analysesList=d(()=>this.analysesListState().data);analysesListLoading=d(()=>this.analysesListState().loading);analysesListError=d(()=>this.analysesListState().error);hasAnalysis=d(()=>this.analysisState().data!==null);isAnalysisCompleted=d(()=>this.analysisState().data?.status==="COMPLETED");getById(e){return this.api.get(`${this.basePath}/${e}`)}getByQuiz(e,t){let o={quizId:e};return t&&(o.questionId=t),this.api.get(this.basePath,{params:o})}getByQuizAndQuestion(e,t){return this.getByQuiz(e,t).pipe(j(o=>o.length>0?o[0]:null))}analyze(e){let t={quizId:V(e.quizId),questionId:V(e.questionId)};return e.model&&(t.model=String(e.model)),this.api.post(this.basePath,t)}getAll(){return this.api.get(`${this.basePath}/all/analysis`)}loadAnalysis(e){this.analysisState.set({loading:!0,error:null,data:null}),this.getById(e).pipe(E(t=>{this.analysisState.set({loading:!1,error:null,data:t})}),z(t=>{let o=t?.error?.message||"Failed to load sentiment analysis";return this.analysisState.set({loading:!1,error:o,data:null}),S(null)})).subscribe()}loadAnalysesList(e,t){this.analysesListState.set({loading:!0,error:null,data:[]}),this.getByQuiz(e,t).pipe(E(o=>{this.analysesListState.set({loading:!1,error:null,data:o})}),z(o=>{let l=o?.error?.message||"Failed to load sentiment analyses";return this.analysesListState.set({loading:!1,error:l,data:[]}),S([])})).subscribe()}runAnalysis(e){return this.analysisState.set({loading:!0,error:null,data:null}),this.analyze(e).pipe(E(t=>{this.analysisState.set({loading:!1,error:null,data:t})}),z(t=>{let o=t?.error?.message||"Failed to run sentiment analysis";throw this.analysisState.set({loading:!1,error:o,data:null}),t}))}loadExistingAnalysis(e,t){this.analysisState.set({loading:!0,error:null,data:null}),this.getByQuizAndQuestion(e,t).pipe(E(o=>{this.analysisState.set({loading:!1,error:null,data:o})}),z(o=>{if(o?.status===404)return this.analysisState.set({loading:!1,error:null,data:null}),S(null);let l=o?.error?.message||"Failed to check for existing analysis";return this.analysisState.set({loading:!1,error:l,data:null}),S(null)})).subscribe()}clearAnalysis(){this.analysisState.set({loading:!1,error:null,data:null})}clearAnalysesList(){this.analysesListState.set({loading:!1,error:null,data:[]})}getSentimentLabel(e){return{POSITIVE:"Positive",NEUTRAL:"Neutral",NEGATIVE:"Negative",MIXED:"Mixed"}[e]||e}getSentimentClass(e){return{POSITIVE:"sentiment-positive",NEUTRAL:"sentiment-neutral",NEGATIVE:"sentiment-negative",MIXED:"sentiment-mixed"}[e]||""}formatConfidence(e){return`${Math.round(e*100)}%`}formatSentimentScore(e){return e===void 0?"N/A":`${Math.round((e+1)*50)}%`}static \u0275fac=function(t){return new(t||a)(U(ue))};static \u0275prov=J({token:a,factory:a.\u0275fac,providedIn:"root"})};function Ce(a,e){if(a&1&&(i(0,"ui-alert",7)(1,"mat-icon"),r(2,"error_outline"),n(),r(3),n()),a&2){let t=g();s(3),f(" ",t.errorMessage()," ")}}function Me(a,e){a&1&&(i(0,"div")(1,"div",8),x(2,"ui-spinner",9),i(3,"p"),r(4,"Loading quizzes..."),n()()())}function Pe(a,e){a&1&&(i(0,"div",20)(1,"mat-icon"),r(2,"quiz"),n(),i(3,"h3"),r(4,"No quizzes available"),n(),i(5,"p"),r(6,"There are no quizzes with open-ended questions available for analysis."),n()())}function Oe(a,e){a&1&&(i(0,"ui-badge",37),r(1,"Completed"),n())}function be(a,e){a&1&&(i(0,"ui-badge",38),r(1,"In Progress"),n())}function Se(a,e){a&1&&(i(0,"div",39),x(1,"ui-spinner",40),i(2,"span"),r(3,"Checking for existing analyses..."),n()())}function ze(a,e){if(a&1){let t=O();i(0,"button",44),b("click",function(){let l=M(t).$implicit,c=g(5);return P(c.viewExistingAnalysis(l))}),i(1,"div",45)(2,"ui-badge",46),r(3),n(),i(4,"span",47),r(5),n()(),i(6,"span",48),r(7),n()()}if(a&2){let t,o=e.$implicit,l=g(5);k("active",((t=l.analysisResult())==null?null:t.id)===o.id),s(2),m("color",o.status==="COMPLETED"?"success":"danger"),s(),p(o.status),s(2),p(l.formatDateTime(o.analyzedAt)),s(2),p(o.model)}}function Ee(a,e){if(a&1&&(i(0,"div",41)(1,"h4")(2,"mat-icon"),r(3,"history"),n(),r(4," Previous Analyses"),n(),i(5,"div",42),u(6,ze,8,6,"button",43),n()()),a&2){let t=g(4);s(6),m("ngForOf",t.existingAnalyses())}}function we(a,e){a&1&&(X(0),x(1,"ui-spinner",40),i(2,"span"),r(3,"Analyzing..."),n(),Y())}function Ae(a,e){if(a&1&&(i(0,"mat-icon"),r(1,"auto_awesome"),n(),i(2,"span"),r(3),n()),a&2){let t=g(4);s(3),p(t.hasExistingAnalysis()?"Run New Analysis":"Run AI Analysis")}}function Ie(a,e){a&1&&(i(0,"p",49),r(1,"Quiz must be completed before analysis"),n())}function De(a,e){if(a&1){let t=O();i(0,"div",24)(1,"div",25)(2,"span",26),r(3,"Question:"),n(),i(4,"span",27),r(5),n()(),i(6,"div",25)(7,"span",26),r(8,"Course:"),n(),i(9,"span",27),r(10),n()(),i(11,"div",25)(12,"span",26),r(13,"Type:"),n(),i(14,"span",27),r(15),n()(),i(16,"div",25)(17,"span",26),r(18,"Date:"),n(),i(19,"span",27),r(20),n()(),i(21,"div",25)(22,"span",26),r(23,"Students:"),n(),i(24,"span",27),r(25),n()(),i(26,"div",28)(27,"span",26),r(28,"Submissions:"),n(),i(29,"span",27)(30,"div",29),x(31,"div",30),n()()(),i(32,"div",25)(33,"span",26),r(34,"Status:"),n(),u(35,Oe,2,0,"ui-badge",31)(36,be,2,0,"ui-badge",32),n(),u(37,Se,4,0,"div",16)(38,Ee,7,1,"div",33),i(39,"div",34)(40,"ui-button",35),b("click",function(){M(t);let l=g(3);return P(l.runAnalysis())}),u(41,we,4,0,"ng-container",6)(42,Ae,4,1,"ng-template",null,1,F),n(),u(44,Ie,2,0,"p",36),n()()}if(a&2){let t=e.ngIf,o=Q(43),l=g(3);s(5),p(t.openEndedQuestion==null?null:t.openEndedQuestion.question),s(5),p(t.courseName),s(5),p(t.type),s(5),p(t.date),s(5),L("",t.submittedCount," / ",t.studentCount," submitted"),s(6),R("width",(t.studentCount?t.submittedCount/t.studentCount*100:0)+"%"),s(4),m("ngIf",t.isFinished),s(),m("ngIf",!t.isFinished),s(),m("ngIf",l.isLoadingExisting()),s(),m("ngIf",l.hasExistingAnalysis()),s(2),m("disabled",!l.canAnalyze()),s(),m("ngIf",l.isAnalyzing())("ngIfElse",o),s(3),m("ngIf",!t.isFinished)}}function qe(a,e){if(a&1){let t=O();i(0,"div",21)(1,"ui-select",22),b("ngModelChange",function(l){M(t);let c=g(2);return P(c.onQuizSelected(l))}),n(),u(2,De,45,16,"div",23),n()}if(a&2){let t=g(2);s(),m("options",t.quizSelectOptions())("ngModel",t.selectedQuizId())("searchable",!0),s(),m("ngIf",t.selectedQuiz())}}function Te(a,e){a&1&&(i(0,"div",39),x(1,"ui-spinner",40),i(2,"span"),r(3,"Loading analyses..."),n()())}function Ne(a,e){a&1&&(i(0,"div",20)(1,"mat-icon"),r(2,"history"),n(),i(3,"h3"),r(4,"No analyses yet"),n(),i(5,"p"),r(6,"No past sentiment analyses have been run."),n()())}function Qe(a,e){if(a&1){let t=O();i(0,"button",44),b("click",function(){let l=M(t).$implicit,c=g(3);return P(c.viewExistingAnalysis(l))}),i(1,"div",50)(2,"div",51),r(3),n(),i(4,"div",52)(5,"span",53),r(6),n(),i(7,"span",54),r(8,"\u2022"),n(),i(9,"span",55),r(10),n(),i(11,"span",54),r(12,"\u2022"),n(),i(13,"span",47),r(14),n()()(),i(15,"div",56)(16,"div",48),r(17),n(),i(18,"div",57),r(19),n()()()}if(a&2){let t,o=e.$implicit,l=g(3);k("active",((t=l.analysisResult())==null?null:t.id)===o.id),s(3),p((o.resultJson==null?null:o.resultJson.summary)??o.questionText??"Analysis for quiz "+(o.quizId||"")),s(3),p((o.quiz==null?null:o.quiz.courseName)??o.courseName??"Quiz: "+(o.quizId||"")),s(4),p((o.quiz==null?null:o.quiz.type)??o.type??"\u2014"),s(4),p(l.formatDateTime(o.analyzedAt)),s(3),f("Model: ",o.model),s(2),L("Q: ",o.questionId," \u2022 ",(o.resultJson==null||o.resultJson.counts==null?null:o.resultJson.counts.answersProvided)??0," responses")}}function Re(a,e){if(a&1&&(i(0,"div",42),u(1,Qe,20,9,"button",43),n()),a&2){let t=g(2);s(),m("ngForOf",t.allAnalyses())}}function ke(a,e){if(a&1&&(i(0,"div",65)(1,"span",66),r(2),I(3,"number"),n(),i(4,"span",67),r(5,"Score (-1 to 1)"),n()()),a&2){let t=g().ngIf;s(2),p(D(3,1,t.sentimentScore,"1.2-2"))}}function Le(a,e){if(a&1&&(i(0,"div",79)(1,"div",80)(2,"span",81),r(3),n(),i(4,"span",82),r(5),I(6,"number"),n()(),i(7,"div",83),x(8,"div",84),n()()),a&2){let t=e.$implicit,o=e.index,l=g(4);s(3),p(t.label),s(2),f("",D(6,6,t.score*100,"1.0-0"),"%"),s(3),R("width",l.getEmotionBarWidth(t.score))("background-color",l.getEmotionColor(o))}}function Fe(a,e){if(a&1&&(i(0,"ui-card",76)(1,"h3")(2,"mat-icon"),r(3,"mood"),n(),r(4," Detected Emotions"),n(),i(5,"div",77),u(6,Le,9,9,"div",78),n()()),a&2){let t=g(3);s(6),m("ngForOf",t.topEmotions())}}function Ve(a,e){if(a&1&&(i(0,"li"),r(1),n()),a&2){let t=e.$implicit;s(),f('"',t,'"')}}function Be(a,e){if(a&1&&(i(0,"ul",93),u(1,Ve,2,1,"li",94),n()),a&2){let t=g().$implicit;s(),m("ngForOf",t.examples)}}function $e(a,e){if(a&1&&(i(0,"div",88)(1,"div",89)(2,"span",90),r(3),n(),i(4,"ui-badge",91),r(5),n()(),u(6,Be,2,1,"ul",92),n()),a&2){let t=e.$implicit;s(3),p(t.theme),s(2),f("",t.frequency," mentions"),s(),m("ngIf",t.examples&&t.examples.length>0)}}function je(a,e){if(a&1&&(i(0,"ui-card",85)(1,"h3")(2,"mat-icon"),r(3,"tag"),n(),r(4," Key Themes"),n(),i(5,"div",86),u(6,$e,7,3,"div",87),n()()),a&2){let t=g(3);s(6),m("ngForOf",t.themes())}}function Je(a,e){if(a&1&&(i(0,"li")(1,"mat-icon"),r(2,"arrow_right"),n(),r(3),n()),a&2){let t=e.$implicit;s(3),p(t)}}function Ue(a,e){if(a&1&&(i(0,"ui-card",95)(1,"h3")(2,"mat-icon"),r(3,"lightbulb"),n(),r(4," Actionable Insights"),n(),i(5,"ul",96),u(6,Je,4,1,"li",94),n()()),a&2){let t=g(3);s(6),m("ngForOf",t.insights())}}function Ge(a,e){if(a&1&&(i(0,"li")(1,"mat-icon"),r(2,"report_problem"),n(),r(3),n()),a&2){let t=e.$implicit;s(3),p(t)}}function Xe(a,e){if(a&1&&(i(0,"ui-card",97)(1,"h3")(2,"mat-icon"),r(3,"warning_amber"),n(),r(4," Student Concerns"),n(),i(5,"ul",98),u(6,Ge,4,1,"li",94),n()()),a&2){let t=g(3);s(6),m("ngForOf",t.concerns())}}function Ye(a,e){if(a&1&&(i(0,"div",58)(1,"ui-card",59)(2,"div",60)(3,"div",61)(4,"mat-icon"),r(5),n()(),i(6,"div",62)(7,"h2"),r(8),n(),i(9,"p",63),r(10),n()()(),i(11,"div",64)(12,"div",65)(13,"span",66),r(14),n(),i(15,"span",67),r(16,"Confidence"),n()(),i(17,"div",65)(18,"span",66),r(19),n(),i(20,"span",67),r(21,"Responses Analyzed"),n()(),i(22,"div",65)(23,"span",66),r(24),n(),i(25,"span",67),r(26,"Empty Responses"),n()(),u(27,ke,6,4,"div",68),n()(),i(28,"div",69),u(29,Fe,7,1,"ui-card",70)(30,je,7,1,"ui-card",71),n(),i(31,"div",72),u(32,Ue,7,1,"ui-card",73)(33,Xe,7,1,"ui-card",74),n(),i(34,"div",75)(35,"span")(36,"mat-icon"),r(37,"smart_toy"),n(),r(38),n(),i(39,"span")(40,"mat-icon"),r(41,"schedule"),n(),r(42),I(43,"date"),n()()()),a&2){let t,o,l=e.ngIf,c=g(2);s(),m("ngClass",c.sentimentColor()),s(2),m("ngClass",c.sentimentColor()),s(2),p(c.sentimentIcon()),s(3),f("",l.overallSentiment," Sentiment"),s(2),p(l.summary),s(4),f("",c.confidencePercent(),"%"),s(5),p(c.answersAnalyzed().provided),s(5),p(c.answersAnalyzed().empty),s(3),m("ngIf",l.sentimentScore!==void 0),s(2),m("ngIf",c.topEmotions().length>0),s(),m("ngIf",c.themes().length>0),s(2),m("ngIf",c.insights().length>0),s(),m("ngIf",c.concerns().length>0),s(5),f(" Analyzed by: ",(t=c.analysisResult())==null?null:t.model),s(4),f(" ",D(43,15,(o=c.analysisResult())==null?null:o.analyzedAt,"medium"))}}function We(a,e){if(a&1){let t=O();i(0,"ui-card",99)(1,"div",100)(2,"mat-icon"),r(3,"error_outline"),n(),i(4,"h3"),r(5,"Analysis Failed"),n(),i(6,"p"),r(7),n(),i(8,"ui-button",101),b("click",function(){M(t);let l=g(2);return P(l.runAnalysis())}),i(9,"mat-icon"),r(10,"refresh"),n(),r(11,"Retry Analysis"),n()()()}if(a&2){let t,o=g(2);s(7),p(((t=o.analysisResult())==null?null:t.error)??"An unknown error occurred during analysis.")}}function Ke(a,e){if(a&1&&(i(0,"div",10)(1,"ui-card",11)(2,"div",12)(3,"h2"),r(4,"Select a Quiz to Analyze"),n(),i(5,"p"),r(6,"Choose a completed quiz with an open-ended question"),n()(),u(7,Pe,7,0,"div",13)(8,qe,3,4,"div",14),n(),i(9,"ui-card",15)(10,"div",12)(11,"h2"),r(12,"All Past Analyses"),n(),i(13,"p"),r(14,"Browse previous sentiment analyses across quizzes"),n()(),u(15,Te,4,0,"div",16)(16,Ne,7,0,"div",13)(17,Re,2,1,"div",17),n()(),u(18,Ye,44,18,"div",18)(19,We,12,1,"ui-card",19)),a&2){let t,o=g();s(7),m("ngIf",o.quizOptions().length===0),s(),m("ngIf",o.quizOptions().length>0),s(7),m("ngIf",o.isLoadingAllAnalyses()),s(),m("ngIf",!o.isLoadingAllAnalyses()&&o.allAnalyses().length===0),s(),m("ngIf",o.allAnalyses().length>0),s(),m("ngIf",o.result()),s(),m("ngIf",((t=o.analysisResult())==null?null:t.status)==="FAILED")}}var fe=class a{sentimentService=w(T);teacherApi=w(ye);deanApi=w(_e);router=w(ne);role=q("teacher");pageTitle=q("Sentiment Analysis");pageSubtitle=q("Analyze student emotions and engagement in open-ended question responses using AI.");isLoadingQuizzes=y(!0);isAnalyzing=y(!1);isLoadingExisting=y(!1);errorMessage=y(null);quizOptions=y([]);selectedQuizId=y(null);analysisResult=y(null);existingAnalyses=y([]);allAnalyses=y([]);isLoadingAllAnalyses=y(!1);selectedQuiz=d(()=>{let e=this.selectedQuizId();return e?this.quizOptions().find(t=>t.quizId===e)??null:null});quizSelectOptions=d(()=>this.quizOptions().map(e=>({value:e.quizId,label:`${e.label} (${e.date})`})));canAnalyze=d(()=>{let e=this.selectedQuiz();return e&&e.openEndedQuestion&&e.isFinished&&!this.isAnalyzing()});result=d(()=>{let e=this.analysisResult();return!e||e.status!=="COMPLETED"?null:e.resultJson??null});sentimentColor=d(()=>{let e=this.result();if(!e)return"neutral";switch(e.overallSentiment){case"POSITIVE":return"success";case"NEGATIVE":return"error";case"MIXED":return"warning";default:return"neutral"}});sentimentIcon=d(()=>{let e=this.result();if(!e)return"sentiment_neutral";switch(e.overallSentiment){case"POSITIVE":return"sentiment_very_satisfied";case"NEGATIVE":return"sentiment_very_dissatisfied";case"MIXED":return"sentiment_dissatisfied";default:return"sentiment_neutral"}});confidencePercent=d(()=>{let e=this.result();return e?Math.round(e.confidence*100):0});sentimentScorePercent=d(()=>{let e=this.result();return!e||e.sentimentScore===void 0?50:Math.round((e.sentimentScore+1)/2*100)});topEmotions=d(()=>{let e=this.result();return e?.emotions?[...e.emotions].sort((t,o)=>o.score-t.score).slice(0,5):[]});themes=d(()=>this.result()?.themes??[]);concerns=d(()=>this.result()?.concerns??[]);insights=d(()=>this.result()?.actionableInsights??[]);answersAnalyzed=d(()=>{let e=this.result();return e?{provided:e.counts.answersProvided,empty:e.counts.answersEmpty,total:e.counts.answersProvided+e.counts.answersEmpty}:{provided:0,empty:0,total:0}});hasExistingAnalysis=d(()=>this.existingAnalyses().length>0);latestExistingAnalysis=d(()=>{let e=this.existingAnalyses();return e.length>0?e[0]:null});ngOnInit(){this.loadQuizzes(),this.loadAllAnalyses()}async loadQuizzes(){this.isLoadingQuizzes.set(!0),this.errorMessage.set(null);try{let t=this.role()==="dean"||this.router.url.includes("/dean")?await h(this.deanApi.listQuizzes()):await h(this.teacherApi.getMyQuizzes()),o=new Date,l=t.map(c=>{let v=ve(c)??null,C=this.getQuizEndTime(c)<o,A=c.courseQuizes?.[0]?.course?.teachingUnit?.name??c.courseQuizes?.[0]?.course?.classAcademicYear?.class?.name??"Unknown Course";return{quizId:c.id,label:`${c.type} - ${A}`,date:this.formatDate(c.date),type:c.type,courseName:A,openEndedQuestion:v,isFinished:C,studentCount:c.studentQuizes?.length??0,submittedCount:c.studentQuizes?.filter(N=>N.status==="SUBMITTED").length??0}}).filter(c=>c.openEndedQuestion!==null);this.quizOptions.set(l)}catch(e){console.error("Error loading quizzes:",e),this.errorMessage.set("Failed to load quizzes. Please try again.")}finally{this.isLoadingQuizzes.set(!1)}}async loadExistingAnalyses(e,t){this.isLoadingExisting.set(!0);try{let o=await h(this.sentimentService.getByQuiz(e,t));this.existingAnalyses.set(o);let l=o.find(c=>c.status==="COMPLETED");l&&this.analysisResult.set(l)}catch(o){console.error("Error loading existing analyses:",o),this.existingAnalyses.set([])}finally{this.isLoadingExisting.set(!1)}}async loadAllAnalyses(){this.isLoadingAllAnalyses.set(!0);try{let e=await h(this.sentimentService.getAll()),t=Array.from(new Set(e.map(v=>v.quizId).filter(Boolean))),o=this.role()==="dean"||this.router.url.includes("/dean"),l={};if(t.length>0)if(o)try{let v=await h(this.deanApi.listQuizzes());for(let _ of v)_?.id&&(l[_.id]=_)}catch(v){console.warn("Failed to load quizzes list for dean metadata enrichment",v)}else await Promise.all(t.map(async v=>{try{let _=await h(this.teacherApi.getQuiz(v));_?.id&&(l[_.id]=_)}catch{}}));let c=e.map(v=>{let _=v,C=l[v.quizId],A=C?.courseQuizes?.[0]?.course?.teachingUnit?.name??C?.courseQuizes?.[0]?.course?.classAcademicYear?.class?.name??null,N=_.questionText??_.resultJson?.question??_.resultJson?.summary??null,he=C?.type??_.type??null;return $(B({},_),{quiz:_.quiz??C??null,courseName:_.courseName??A,questionText:N,type:he})});this.allAnalyses.set(c)}catch(e){console.error("Error loading all analyses:",e),this.allAnalyses.set([])}finally{this.isLoadingAllAnalyses.set(!1)}}onQuizSelected(e){this.selectedQuizId.set(e),this.analysisResult.set(null),this.existingAnalyses.set([]),this.errorMessage.set(null);let t=this.quizOptions().find(o=>o.quizId===e);t?.openEndedQuestion&&this.loadExistingAnalyses(e,t.openEndedQuestion.questionId)}async runAnalysis(){let e=this.selectedQuiz();if(e?.openEndedQuestion){this.isAnalyzing.set(!0),this.errorMessage.set(null);try{let t=await h(this.sentimentService.analyze({quizId:e.quizId,questionId:e.openEndedQuestion.questionId}));this.analysisResult.set(t),this.existingAnalyses.update(o=>[t,...o]),t.status==="FAILED"&&this.errorMessage.set(t.error??"Analysis failed. Please try again.")}catch(t){console.error("Error running sentiment analysis:",t);let o=t instanceof Error?t.message:"Failed to run sentiment analysis. Please try again.";this.errorMessage.set(o)}finally{this.isAnalyzing.set(!1)}}}viewExistingAnalysis(e){this.analysisResult.set(e)}getQuizEndTime(e){let t=new Date(e.date);return new Date(t.getTime()+e.durationMinutes*6e4)}formatDate(e){return new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}formatDateTime(e){return e?new Date(e).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit"}):"N/A"}getEmotionBarWidth(e){return`${Math.round(e*100)}%`}getEmotionColor(e){let t=["var(--color-primary-500)","var(--color-success-500)","var(--color-warning-500)","var(--color-error-500)","var(--color-info-500)"];return t[e%t.length]}static \u0275fac=function(t){return new(t||a)};static \u0275cmp=G({type:a,selectors:[["app-sentiment-analysis-page"]],inputs:{role:[1,"role"],pageTitle:[1,"pageTitle"],pageSubtitle:[1,"pageSubtitle"]},decls:13,vars:5,consts:[["loaded",""],["readyBtn",""],[1,"sentiment-analysis"],[1,"page-header"],[1,"header-content"],["color","danger","class","error-alert",4,"ngIf"],[4,"ngIf","ngIfElse"],["color","danger",1,"error-alert"],[1,"loading-state"],["size","lg"],[1,"selection-grid"],[1,"selection-card"],[1,"selection-header"],["class","empty-state",4,"ngIf"],["class","quiz-selector",4,"ngIf"],[1,"all-analyses"],["class","existing-loading",4,"ngIf"],["class","analyses-list",4,"ngIf"],["class","results-section",4,"ngIf"],["class","failed-card",4,"ngIf"],[1,"empty-state"],[1,"quiz-selector"],["label","Quiz","placeholder","Select a quiz...",3,"ngModelChange","options","ngModel","searchable"],["class","quiz-details",4,"ngIf"],[1,"quiz-details"],[1,"detail-row"],[1,"label"],[1,"value"],[1,"detail-row","progress-row"],[1,"progress-track"],[1,"progress-fill"],["color","success",4,"ngIf"],["color","warning",4,"ngIf"],["class","existing-analyses",4,"ngIf"],[1,"analyze-actions"],[3,"click","disabled"],["class","hint",4,"ngIf"],["color","success"],["color","warning"],[1,"existing-loading"],["size","sm"],[1,"existing-analyses"],[1,"analyses-list"],["class","analysis-item",3,"active","click",4,"ngFor","ngForOf"],[1,"analysis-item",3,"click"],[1,"analysis-item-info"],["size","sm",3,"color"],[1,"analysis-date"],[1,"analysis-model"],[1,"hint"],[1,"analysis-item-main"],[1,"analysis-title"],[1,"analysis-subinfo"],[1,"analysis-course"],[1,"sep"],[1,"analysis-type"],[1,"analysis-meta-brief"],[1,"analysis-ref"],[1,"results-section"],[1,"sentiment-overview",3,"ngClass"],[1,"overview-header"],[1,"sentiment-icon-wrapper",3,"ngClass"],[1,"overview-content"],[1,"summary"],[1,"metrics-grid"],[1,"metric"],[1,"metric-value"],[1,"metric-label"],["class","metric",4,"ngIf"],[1,"analysis-grid"],["class","emotions-card",4,"ngIf"],["class","themes-card",4,"ngIf"],[1,"insights-grid"],["class","insights-card",4,"ngIf"],["class","concerns-card",4,"ngIf"],[1,"analysis-meta"],[1,"emotions-card"],[1,"emotions-list"],["class","emotion-item",4,"ngFor","ngForOf"],[1,"emotion-item"],[1,"emotion-header"],[1,"emotion-label"],[1,"emotion-score"],[1,"emotion-bar-track"],[1,"emotion-bar-fill"],[1,"themes-card"],[1,"themes-list"],["class","theme-item",4,"ngFor","ngForOf"],[1,"theme-item"],[1,"theme-header"],[1,"theme-name"],["color","neutral"],["class","theme-examples",4,"ngIf"],[1,"theme-examples"],[4,"ngFor","ngForOf"],[1,"insights-card"],[1,"insights-list"],[1,"concerns-card"],[1,"concerns-list"],[1,"failed-card"],[1,"failed-content"],["variant","outline",3,"click"]],template:function(t,o){if(t&1&&(i(0,"div",2)(1,"div",3)(2,"div",4)(3,"h1")(4,"mat-icon"),r(5,"psychology"),n(),r(6),n(),i(7,"p"),r(8),n()()(),u(9,Ce,4,1,"ui-alert",5)(10,Me,5,0,"div",6)(11,Ke,20,7,"ng-template",null,0,F),n()),t&2){let l=Q(12);s(6),f(" ",o.pageTitle()),s(2),p(o.pageSubtitle()),s(),m("ngIf",o.errorMessage()),s(),m("ngIf",o.isLoadingQuizzes())("ngIfElse",l)}},dependencies:[te,W,K,H,se,re,oe,ie,ae,de,ce,le,pe,ge,me,ee,Z],styles:[".sentiment-analysis[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:1.5rem}.page-header[_ngcontent-%COMP%]{margin-bottom:2rem}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;font-size:1.75rem;font-weight:600;color:var(--color-text-primary);margin-bottom:.5rem}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:2rem;width:2rem;height:2rem;color:var(--color-primary-500)}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--color-text-secondary);font-size:1rem}.error-alert[_ngcontent-%COMP%]{margin-bottom:1.5rem}.error-alert[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:.5rem}.loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:4rem 2rem;color:var(--color-text-secondary)}.loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:1rem;font-size:1rem}.selection-card[_ngcontent-%COMP%]{margin-bottom:2rem}.selection-card[_ngcontent-%COMP%]   .selection-header[_ngcontent-%COMP%]{margin-bottom:1.5rem}.selection-card[_ngcontent-%COMP%]   .selection-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:var(--color-text-primary);margin-bottom:.25rem}.selection-card[_ngcontent-%COMP%]   .selection-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem;color:var(--color-text-secondary)}.empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:3rem 2rem;text-align:center;color:var(--color-text-secondary)}.empty-state[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:3rem;width:3rem;height:3rem;margin-bottom:1rem;opacity:.5}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:var(--color-text-primary);margin-bottom:.5rem}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem}.quiz-selector[_ngcontent-%COMP%]   .select-wrapper[_ngcontent-%COMP%]{margin-bottom:1.5rem}.quiz-selector[_ngcontent-%COMP%]   .select-wrapper[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:.875rem;font-weight:500;color:var(--color-text-secondary);margin-bottom:.5rem}.quiz-selector[_ngcontent-%COMP%]   .select-wrapper[_ngcontent-%COMP%]   .quiz-select[_ngcontent-%COMP%]{width:100%;max-width:500px;padding:.75rem 1rem;font-size:1rem;border:1px solid var(--color-border);border-radius:8px;background-color:var(--color-bg-primary);color:var(--color-text-primary);cursor:pointer;transition:border-color .2s,box-shadow .2s}.quiz-selector[_ngcontent-%COMP%]   .select-wrapper[_ngcontent-%COMP%]   .quiz-select[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--color-primary-500);box-shadow:0 0 0 3px var(--color-primary-100)}.quiz-selector[_ngcontent-%COMP%]   .select-wrapper[_ngcontent-%COMP%]   .quiz-select[_ngcontent-%COMP%]:hover{border-color:var(--color-primary-400)}.quiz-details[_ngcontent-%COMP%]{background-color:var(--color-bg-secondary);border-radius:8px;padding:1rem;margin-bottom:1.5rem}.quiz-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:.75rem;padding:.5rem 0}.quiz-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid var(--color-border)}.quiz-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:var(--color-text-secondary);min-width:80px}.quiz-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:.875rem;color:var(--color-text-primary);flex:1}.progress-track[_ngcontent-%COMP%]{width:100%;height:10px;background:var(--surface-sunken);border-radius:999px;overflow:hidden;box-shadow:inset 0 1px 2px #00000005}.progress-fill[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,var(--color-primary-500),var(--color-secondary-500));transition:width .3s var(--motion-ease-out)}.progress-row[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{align-self:center}.existing-loading[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.75rem;font-size:.875rem;color:var(--color-text-secondary);margin-bottom:1rem}.existing-analyses[_ngcontent-%COMP%]{margin-bottom:1.5rem}.existing-analyses[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.875rem;font-weight:600;color:var(--color-text-secondary);margin-bottom:.75rem}.existing-analyses[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.125rem;width:1.125rem;height:1.125rem}.all-analyses[_ngcontent-%COMP%]{margin-bottom:1.5rem}.all-analyses[_ngcontent-%COMP%]   .selection-header[_ngcontent-%COMP%]{margin-bottom:.75rem}.all-analyses[_ngcontent-%COMP%]   .analyses-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:.5rem;max-height:36rem;overflow:auto;padding-right:.25rem}.all-analyses[_ngcontent-%COMP%]   .analysis-item[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr auto;gap:.75rem;align-items:center;padding:.5rem .75rem;background-color:var(--surface-raised);border:1px solid var(--border-default);border-radius:10px}.all-analyses[_ngcontent-%COMP%]   .analysis-item[_ngcontent-%COMP%]   .analysis-item-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;min-width:0}.all-analyses[_ngcontent-%COMP%]   .analysis-item[_ngcontent-%COMP%]   .analysis-meta-brief[_ngcontent-%COMP%]{text-align:right;font-size:.8125rem;color:var(--text-secondary)}.all-analyses[_ngcontent-%COMP%]   .analysis-item[_ngcontent-%COMP%]   .analysis-meta-brief[_ngcontent-%COMP%]   .analysis-model[_ngcontent-%COMP%]{color:var(--text-primary);font-weight:600;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:220px}.all-analyses[_ngcontent-%COMP%]   .analysis-item[_ngcontent-%COMP%]   .analysis-meta-brief[_ngcontent-%COMP%]   .analysis-ref[_ngcontent-%COMP%]{color:var(--text-tertiary);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:220px}.all-analyses[_ngcontent-%COMP%]   .analysis-item[_ngcontent-%COMP%]   .analysis-item-main[_ngcontent-%COMP%]{min-width:0}.all-analyses[_ngcontent-%COMP%]   .analysis-item[_ngcontent-%COMP%]   .analysis-item-main[_ngcontent-%COMP%]   .analysis-title[_ngcontent-%COMP%]{font-size:.9rem;font-weight:600;color:var(--text-primary);margin-bottom:.25rem;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}.all-analyses[_ngcontent-%COMP%]   .analysis-item[_ngcontent-%COMP%]   .analysis-item-main[_ngcontent-%COMP%]   .analysis-subinfo[_ngcontent-%COMP%]{font-size:.78rem;color:var(--text-tertiary);display:flex;gap:.5rem;align-items:center}.all-analyses[_ngcontent-%COMP%]   .analysis-item[_ngcontent-%COMP%]   .analysis-item-main[_ngcontent-%COMP%]   .sep[_ngcontent-%COMP%]{color:var(--text-tertiary)}.selection-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 340px;gap:1rem;align-items:start;margin-bottom:1rem}.selection-grid[_ngcontent-%COMP%]   ui-card[_ngcontent-%COMP%]{width:100%}ui-card.selection-card[_ngcontent-%COMP%]   .card__body[_ngcontent-%COMP%], ui-card.all-analyses[_ngcontent-%COMP%]   .card__body[_ngcontent-%COMP%]{padding:.75rem 1rem}.sentiment-overview[_ngcontent-%COMP%]   .metrics-grid[_ngcontent-%COMP%]{gap:.5rem;padding-top:1rem}.metric[_ngcontent-%COMP%]   .metric-value[_ngcontent-%COMP%]{font-size:1.5rem}.sentiment-overview[_ngcontent-%COMP%]{margin-bottom:1rem}.analysis-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:1rem}@media (max-width: 980px){.selection-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.sentiment-analysis[_ngcontent-%COMP%]{padding:1rem}}.analyses-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem}.analysis-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem;padding:.75rem 1rem;background-color:var(--color-bg-secondary);border:1px solid var(--color-border);border-radius:8px;cursor:pointer;transition:all .2s;text-align:left}.analysis-item[_ngcontent-%COMP%]:hover{background-color:var(--color-bg-tertiary);border-color:var(--color-primary-300)}.analysis-item.active[_ngcontent-%COMP%]{border-color:var(--color-primary-500);background-color:var(--color-primary-50)}.analysis-item[_ngcontent-%COMP%]   .analysis-item-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.analysis-item[_ngcontent-%COMP%]   .analysis-date[_ngcontent-%COMP%]{font-size:.75rem;color:var(--color-text-secondary)}.analysis-item[_ngcontent-%COMP%]   .analysis-model[_ngcontent-%COMP%]{font-size:.6875rem;color:var(--color-text-tertiary)}.analyze-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.analyze-actions[_ngcontent-%COMP%]   ui-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:.5rem}.analyze-actions[_ngcontent-%COMP%]   ui-button[_ngcontent-%COMP%]   ui-spinner[_ngcontent-%COMP%]{margin-right:.5rem}.analyze-actions[_ngcontent-%COMP%]   .hint[_ngcontent-%COMP%]{font-size:.75rem;color:var(--color-warning-600);font-style:italic}.results-section[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.sentiment-overview[_ngcontent-%COMP%]{margin-bottom:1.5rem}.sentiment-overview[_ngcontent-%COMP%]   .overview-header[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:1.25rem;margin-bottom:1.5rem}.sentiment-overview[_ngcontent-%COMP%]   .sentiment-icon-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:64px;height:64px;border-radius:16px;flex-shrink:0}.sentiment-overview[_ngcontent-%COMP%]   .sentiment-icon-wrapper[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:2.5rem;width:2.5rem;height:2.5rem}.sentiment-overview[_ngcontent-%COMP%]   .sentiment-icon-wrapper.success[_ngcontent-%COMP%]{background-color:var(--color-success-100)}.sentiment-overview[_ngcontent-%COMP%]   .sentiment-icon-wrapper.success[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--color-success-600)}.sentiment-overview[_ngcontent-%COMP%]   .sentiment-icon-wrapper.error[_ngcontent-%COMP%]{background-color:var(--color-error-100)}.sentiment-overview[_ngcontent-%COMP%]   .sentiment-icon-wrapper.error[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--color-error-600)}.sentiment-overview[_ngcontent-%COMP%]   .sentiment-icon-wrapper.warning[_ngcontent-%COMP%]{background-color:var(--color-warning-100)}.sentiment-overview[_ngcontent-%COMP%]   .sentiment-icon-wrapper.warning[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--color-warning-600)}.sentiment-overview[_ngcontent-%COMP%]   .sentiment-icon-wrapper.neutral[_ngcontent-%COMP%]{background-color:var(--color-neutral-100)}.sentiment-overview[_ngcontent-%COMP%]   .sentiment-icon-wrapper.neutral[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--color-neutral-600)}.sentiment-overview[_ngcontent-%COMP%]   .overview-content[_ngcontent-%COMP%]{flex:1}.sentiment-overview[_ngcontent-%COMP%]   .overview-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:var(--color-text-primary);margin-bottom:.5rem;text-transform:capitalize}.sentiment-overview[_ngcontent-%COMP%]   .overview-content[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]{font-size:1rem;color:var(--color-text-secondary);line-height:1.5}.metrics-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:1rem;padding-top:1.5rem;border-top:1px solid var(--color-border)}.metric[_ngcontent-%COMP%]{text-align:center;padding:1rem;background-color:var(--color-bg-secondary);border-radius:8px}.metric[_ngcontent-%COMP%]   .metric-value[_ngcontent-%COMP%]{display:block;font-size:1.75rem;font-weight:700;color:var(--color-text-primary);margin-bottom:.25rem}.metric[_ngcontent-%COMP%]   .metric-label[_ngcontent-%COMP%]{font-size:.75rem;color:var(--color-text-secondary);text-transform:uppercase;letter-spacing:.5px}.analysis-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(350px,1fr));gap:1.5rem;margin-bottom:1.5rem}.emotions-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:1.125rem;font-weight:600;color:var(--color-text-primary);margin-bottom:1.25rem}.emotions-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.25rem;width:1.25rem;height:1.25rem;color:var(--color-primary-500)}.emotions-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.emotion-item[_ngcontent-%COMP%]   .emotion-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:.5rem}.emotion-item[_ngcontent-%COMP%]   .emotion-header[_ngcontent-%COMP%]   .emotion-label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:var(--color-text-primary);text-transform:capitalize}.emotion-item[_ngcontent-%COMP%]   .emotion-header[_ngcontent-%COMP%]   .emotion-score[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:var(--color-text-secondary)}.emotion-item[_ngcontent-%COMP%]   .emotion-bar-track[_ngcontent-%COMP%]{height:8px;background-color:var(--color-bg-tertiary);border-radius:4px;overflow:hidden}.emotion-item[_ngcontent-%COMP%]   .emotion-bar-track[_ngcontent-%COMP%]   .emotion-bar-fill[_ngcontent-%COMP%]{height:100%;border-radius:4px;transition:width .3s ease-out}.themes-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:1.125rem;font-weight:600;color:var(--color-text-primary);margin-bottom:1.25rem}.themes-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.25rem;width:1.25rem;height:1.25rem;color:var(--color-primary-500)}.themes-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.theme-item[_ngcontent-%COMP%]{padding:1rem;background-color:var(--color-bg-secondary);border-radius:8px}.theme-item[_ngcontent-%COMP%]   .theme-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:.5rem}.theme-item[_ngcontent-%COMP%]   .theme-header[_ngcontent-%COMP%]   .theme-name[_ngcontent-%COMP%]{font-size:.9375rem;font-weight:600;color:var(--color-text-primary)}.theme-item[_ngcontent-%COMP%]   .theme-examples[_ngcontent-%COMP%]{margin:0;padding-left:1rem;list-style:none}.theme-item[_ngcontent-%COMP%]   .theme-examples[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:.8125rem;color:var(--color-text-secondary);font-style:italic;padding:.25rem 0}.insights-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(350px,1fr));gap:1.5rem;margin-bottom:1.5rem}.insights-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .concerns-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:1.125rem;font-weight:600;color:var(--color-text-primary);margin-bottom:1.25rem}.insights-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .concerns-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.25rem;width:1.25rem;height:1.25rem}.insights-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--color-success-500)}.concerns-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--color-warning-500)}.insights-list[_ngcontent-%COMP%], .concerns-list[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none}.insights-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .concerns-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:.5rem;padding:.75rem 0;font-size:.875rem;color:var(--color-text-primary);line-height:1.4}.insights-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(:last-child), .concerns-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid var(--color-border)}.insights-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .concerns-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1rem;width:1rem;height:1rem;margin-top:2px;flex-shrink:0}.insights-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--color-success-500)}.concerns-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--color-warning-500)}.analysis-meta[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1.5rem;padding:1rem;background-color:var(--color-bg-secondary);border-radius:8px;font-size:.8125rem;color:var(--color-text-secondary)}.analysis-meta[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.375rem}.analysis-meta[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1rem;width:1rem;height:1rem}.failed-card[_ngcontent-%COMP%]{margin-top:1.5rem}.failed-card[_ngcontent-%COMP%]   .failed-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;padding:2rem}.failed-card[_ngcontent-%COMP%]   .failed-content[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:3rem;width:3rem;height:3rem;color:var(--color-error-500);margin-bottom:1rem}.failed-card[_ngcontent-%COMP%]   .failed-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:var(--color-text-primary);margin-bottom:.5rem}.failed-card[_ngcontent-%COMP%]   .failed-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem;color:var(--color-text-secondary);margin-bottom:1.5rem;max-width:400px}@media (max-width: 768px){.sentiment-analysis[_ngcontent-%COMP%]{padding:1rem}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.75rem;width:1.75rem;height:1.75rem}.sentiment-overview[_ngcontent-%COMP%]   .overview-header[_ngcontent-%COMP%]{flex-direction:column;align-items:center;text-align:center}.analysis-grid[_ngcontent-%COMP%], .insights-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.metrics-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}.analysis-meta[_ngcontent-%COMP%]{flex-direction:column;gap:.75rem}.analyses-list[_ngcontent-%COMP%]{flex-direction:column}.analysis-item[_ngcontent-%COMP%]{width:100%}}"]})};export{fe as SentimentAnalysisPage};
