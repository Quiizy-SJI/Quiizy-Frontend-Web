import{a as F}from"./chunk-45LMPNY4.js";import{a as q}from"./chunk-WPWJA746.js";import{a as E}from"./chunk-L7MJG26Q.js";import{k as O}from"./chunk-TEBYAPM2.js";import{A as b,Ca as C,Ka as Q,L as v,U as S,Z as h,a as y,db as T,eb as A,fb as w,l as g,na as z,nc as I,q as f,rb as P,sb as R,tb as M,w as D,wb as k}from"./chunk-XVADYIPR.js";var U=class p{api=h(O);deanApi=h(E);teacherApi=h(q);deanStatsCache$;deanAnalyticsCache$;getDeanDashboardInsights(e){return D({stats:this.getDeanStats(e?.academicYearId),analytics:this.getDeanAnalytics(e?.academicYearId)}).pipe(f(({stats:t,analytics:n})=>this.buildDeanDashboard(t,n,e)),b(t=>(console.error("Error loading dean dashboard:",t),g(this.getEmptyDeanDashboard()))))}getDeanStats(e){if(!e&&this.deanStatsCache$)return this.deanStatsCache$;let t=this.deanApi.getStats(e).pipe(v(1));return e||(this.deanStatsCache$=t),t}getDeanAnalytics(e){if(!e&&this.deanAnalyticsCache$)return this.deanAnalyticsCache$;let t=this.deanApi.getAiAnalytics(e).pipe(v(1));return e||(this.deanAnalyticsCache$=t),t}clearCache(){this.deanStatsCache$=void 0,this.deanAnalyticsCache$=void 0}getTeacherDashboardInsights(e){return D({courses:this.teacherApi.getMyCourses(),quizzes:this.teacherApi.getMyQuizzes()}).pipe(f(({courses:t,quizzes:n})=>this.buildTeacherDashboard(t,n,e)),b(t=>(console.error("Error loading teacher dashboard:",t),g(this.getEmptyTeacherDashboard()))))}buildDeanKpis(e){let t=e.participation.invited+e.participation.inProgress+e.participation.completed+e.participation.missed,n=t>0?e.participation.completed/t*100:0,i=e.totals.students>0?t/e.totals.students*100:0;return[{title:"Total Students",metric:{value:e.totals.students,label:"Enrolled Students",unit:"students"},icon:"school",color:"primary",description:"Active student enrollments"},{title:"Total Teachers",metric:{value:e.totals.teachers,label:"Teaching Staff",unit:"teachers"},icon:"person",color:"info",description:"Registered teachers"},{title:"Quizzes Created",metric:{value:e.totals.quizzes,label:"Total Quizzes",unit:"quizzes"},icon:"assignment",color:"success",description:"Assessments available"},{title:"Average Score",metric:{value:e.scores.averagePercent??0,label:"Overall Performance",unit:"%",trend:this.computeTrend(e.scores.averagePercent??0,70)},icon:"trending_up",color:this.getScoreColor(e.scores.averagePercent??0),description:"Institution average"},{title:"Completion Rate",metric:{value:n,label:"Quiz Completion",unit:"%",trend:this.computeTrend(n,80)},icon:"check_circle",color:this.getCompletionColor(n),description:"Quizzes fully completed"},{title:"Participation Rate",metric:{value:i,label:"Student Participation",unit:"%",trend:this.computeTrend(i,75)},icon:"groups",color:this.getParticipationColor(i),description:"Students taking quizzes"},{title:"Questions Bank",metric:{value:e.totals.questions,label:"Total Questions",unit:"questions"},icon:"quiz",color:"primary",description:"Questions in repository"},{title:"Classes",metric:{value:e.totals.classes,label:"Active Classes",unit:"classes"},icon:"class",color:"info",description:"Registered classes"}]}buildTeacherKpis(e,t){let n=this.countUniqueStudents(t),i=t.reduce((s,o)=>s+F(o),0),r=this.computeAverageScore(t),a=this.computeCompletionRate(t);return[{title:"My Courses",metric:{value:e.length,label:"Assigned Courses",unit:"courses"},icon:"menu_book",color:"primary",description:"Courses you teach"},{title:"My Students",metric:{value:n,label:"Total Students",unit:"students"},icon:"groups",color:"info",description:"Students in your courses"},{title:"Quizzes Created",metric:{value:t.length,label:"Total Quizzes",unit:"quizzes"},icon:"assignment",color:"success",description:"Assessments created"},{title:"Questions Created",metric:{value:i,label:"Total Questions",unit:"questions"},icon:"quiz",color:"primary",description:"In your quizzes"},{title:"Average Score",metric:{value:r,label:"Student Performance",unit:"%",trend:this.computeTrend(r,70)},icon:"trending_up",color:this.getScoreColor(r),description:"Your students average"},{title:"Completion Rate",metric:{value:a,label:"Quiz Completion",unit:"%",trend:this.computeTrend(a,80)},icon:"check_circle",color:this.getCompletionColor(a),description:"Quizzes fully completed"}]}computeScoreDistribution(e){let t=[];for(let s of e)if(s.studentQuizes)for(let o of s.studentQuizes)o.rawScore!==null&&o.rawScore!==void 0&&o.totalMarks&&t.push(o.rawScore/o.totalMarks*100);if(t.length===0)return this.getEmptyScoreDistribution();t.sort((s,o)=>s-o);let n=t.reduce((s,o)=>s+o,0)/t.length,i=t[Math.floor(t.length/2)],r=this.computeStdDev(t,n),a=[{range:"90-100",label:"excellent",count:0,percentage:0},{range:"80-89",label:"good",count:0,percentage:0},{range:"70-79",label:"average",count:0,percentage:0},{range:"60-69",label:"below",count:0,percentage:0},{range:"0-59",label:"failing",count:0,percentage:0}];for(let s of t)s>=90?a[0].count++:s>=80?a[1].count++:s>=70?a[2].count++:s>=60?a[3].count++:a[4].count++;for(let s of a)s.percentage=s.count/t.length*100;return{buckets:a,totalAssessed:t.length,averageScore:n,medianScore:i,standardDeviation:r,highestScore:t[t.length-1],lowestScore:t[0]}}buildScoreDistributionFromStats(e){let t=e.scores.averagePercent??0,n=e.scores.completedAttemptsWithScore;return n===0?this.getEmptyScoreDistribution():{buckets:this.estimateDistributionBuckets(t,n),totalAssessed:n,averageScore:t,medianScore:t,standardDeviation:15,highestScore:Math.min(100,t+30),lowestScore:Math.max(0,t-40)}}computePerformanceTrends(e,t="month"){let n=this.groupQuizzesByPeriod(e,t),i=Object.entries(n).map(([s,o])=>{let c=[],l=0,m=0;for(let u of o)if(u.studentQuizes){l+=u.studentQuizes.length;for(let d of u.studentQuizes)d.status==="SUBMITTED"&&m++,d.rawScore!==null&&d.rawScore!==void 0&&d.totalMarks&&c.push(d.rawScore/d.totalMarks*100)}return{period:s,averageScore:c.length>0?c.reduce((u,d)=>u+d,0)/c.length:0,participationRate:l,completionRate:l>0?m/l*100:0,studentCount:l}});i.sort((s,o)=>s.period.localeCompare(o.period));let r="stable",a=0;if(i.length>=2){let s=i[0].averageScore,o=i[i.length-1].averageScore;a=s>0?(o-s)/s*100:0,r=a>2?"up":a<-2?"down":"stable"}return{timeRange:t,dataPoints:i,overallTrend:r,percentageChange:a}}computeQuizAnalytics(e){let t={},n=0,i=0;for(let o of e){let c=o.type||"OTHER";if(t[c]||(t[c]={type:c,count:0,percentage:0,averageScore:0,completionRate:0}),t[c].count++,o.durationMinutes&&(n+=o.durationMinutes,i++),o.studentQuizes){let l=[],m=0;for(let u of o.studentQuizes)u.status==="SUBMITTED"&&m++,u.rawScore!==null&&u.rawScore!==void 0&&u.totalMarks&&l.push(u.rawScore/u.totalMarks*100);if(l.length>0){let u=l.reduce((d,$)=>d+$,0)/l.length;t[c].averageScore=(t[c].averageScore*(t[c].count-1)+u)/t[c].count}if(o.studentQuizes.length>0){let u=m/o.studentQuizes.length*100;t[c].completionRate=(t[c].completionRate*(t[c].count-1)+u)/t[c].count}}}for(let o of Object.values(t))o.percentage=o.count/e.length*100;let r=e.map(o=>{let c=this.computeQuizAverageScore(o),l=this.computeQuizCompletionRate(o);return{quizId:o.id,quizType:o.type,averageScore:c,completionRate:l,failureRate:100-c,attemptCount:o.studentQuizes?.length||0}}),a=[...r].filter(o=>o.attemptCount>0).sort((o,c)=>o.averageScore-c.averageScore).slice(0,5),s=[...r].filter(o=>o.attemptCount>0).sort((o,c)=>c.averageScore-o.averageScore).slice(0,5);return{totalQuizzes:e.length,activeQuizzes:e.length,completedQuizzes:e.filter(o=>o.studentQuizes?.some(c=>c.status==="SUBMITTED")).length,byType:Object.values(t),hardestQuizzes:a,easiestQuizzes:s,averageCompletionRate:this.computeCompletionRate(e),averageDuration:i>0?n/i:0}}buildParticipationAnalytics(e){let t=e.participation.invited+e.participation.inProgress+e.participation.completed+e.participation.missed,n=[{status:"Invited",count:e.participation.invited,percentage:0},{status:"In Progress",count:e.participation.inProgress,percentage:0},{status:"Completed",count:e.participation.completed,percentage:0},{status:"Missed",count:e.participation.missed,percentage:0}];for(let i of n)i.percentage=t>0?i.count/t*100:0;return{totalInvitations:t,totalParticipants:e.participation.inProgress+e.participation.completed,participationRate:t>0?(e.participation.inProgress+e.participation.completed)/t*100:0,completionRate:t>0?e.participation.completed/t*100:0,byStatus:n,averageTimeToStart:0,averageCompletionTime:0}}buildComparativeAnalysis(){return{bySpeciality:[],byLevel:[],byClass:[],byTeachingUnit:[],topPerformers:[],needsAttention:[]}}generateAlerts(e){let t=[],n=new Date().toISOString(),i=e.participation.invited+e.participation.inProgress+e.participation.completed+e.participation.missed,r=i>0?e.participation.completed/i*100:0;r<60&&t.push({id:"low-completion",severity:"warning",category:"participation",title:"Low Completion Rate",message:`Quiz completion rate is ${r.toFixed(1)}%. Consider reviewing quiz difficulty or providing more time.`,createdAt:n}),(e.scores.averagePercent??0)<60&&t.push({id:"low-score",severity:"warning",category:"performance",title:"Below Average Performance",message:`Average score is ${e.scores.averagePercent?.toFixed(1)}%. Students may need additional support.`,createdAt:n});let a=i>0?e.participation.missed/i*100:0;return a>20&&t.push({id:"high-missed",severity:"critical",category:"participation",title:"High Missed Quiz Rate",message:`${a.toFixed(1)}% of quiz invitations were missed. Consider sending reminders or adjusting schedules.`,createdAt:n}),t}generateRecommendations(e){let t=[];return e.totals.quizzes<e.totals.classes*2&&t.push({id:"more-quizzes",title:"Increase Assessment Frequency",description:"Consider creating more quizzes to improve continuous assessment and student engagement.",impact:"high",effort:"medium",category:"engagement",actionUrl:"/teacher/create-exam"}),e.totals.questions<100&&t.push({id:"grow-question-bank",title:"Expand Question Bank",description:"Build a larger question repository to enable more varied assessments and reduce question repetition.",impact:"medium",effort:"high",category:"content",actionUrl:"/teacher/question-bank"}),(e.totals.students>0?(e.participation.completed+e.participation.inProgress)/e.totals.students*100:0)<70&&t.push({id:"improve-participation",title:"Boost Student Participation",description:"Participation rate is below 70%. Consider using reminder notifications and making quizzes more accessible.",impact:"high",effort:"low",category:"engagement"}),t}generateTeacherAlerts(e){let t=[],n=new Date().toISOString();for(let i of e){if(!i.studentQuizes||i.studentQuizes.length===0)continue;let a=i.studentQuizes.filter(s=>s.status==="SUBMITTED").length/i.studentQuizes.length*100;a<50&&i.studentQuizes.length>=5&&t.push({id:`low-completion-${i.id}`,severity:"warning",category:"participation",title:"Low Quiz Completion",message:`Only ${a.toFixed(0)}% of students completed quiz "${i.type}".`,entityType:"quiz",entityId:i.id,createdAt:n})}return e.length===0&&t.push({id:"no-quizzes",severity:"info",category:"engagement",title:"No Quizzes Created",message:"You haven't created any quizzes yet. Start assessing your students!",actionUrl:"/teacher/create-exam",actionLabel:"Create Quiz",createdAt:n}),t}buildDeanDashboard(e,t,n){return{generatedAt:new Date().toISOString(),timeRange:n?.timeRange||"all",kpis:this.buildDeanKpis(e),studentDemographics:this.buildStudentDemographics(e),teacherDemographics:this.buildTeacherDemographics(e),academicPerformance:this.buildScoreDistributionFromStats(e),performanceTrends:this.getEmptyPerformanceTrends(),quizAnalytics:this.buildQuizAnalyticsFromStats(e),participation:this.buildParticipationAnalytics(e),comparativeAnalysis:this.buildComparativeAnalysis(),alerts:this.generateAlerts(e),recommendations:this.generateRecommendations(e)}}buildTeacherDashboard(e,t,n){return{generatedAt:new Date().toISOString(),teacherId:"",timeRange:n?.timeRange||"all",kpis:this.buildTeacherKpis(e,t),coursePerformance:this.buildCoursePerformance(e,t),studentPerformance:this.buildStudentPerformance(t),scoreDistribution:this.computeScoreDistribution(t),performanceTrends:this.computePerformanceTrends(t,n?.timeRange||"month"),quizAnalytics:this.computeQuizAnalytics(t),questionDifficulty:this.computeQuestionDifficulty(t),alerts:this.generateTeacherAlerts(t),recommendations:[]}}buildStudentDemographics(e){return{totalStudents:e.totals.students,activeStudents:e.totals.students,inactiveStudents:0,bySpeciality:[],byLevel:[],byClass:[],newEnrollmentsThisMonth:0}}buildTeacherDemographics(e){return{totalTeachers:e.totals.teachers,bySpeciality:[],teachersWithCourses:e.totals.teachers,teachersWithoutCourses:0,averageCoursesPerTeacher:0}}buildQuizAnalyticsFromStats(e){return{totalQuizzes:e.totals.quizzes,activeQuizzes:e.totals.quizzes,completedQuizzes:0,byType:[],hardestQuizzes:[],easiestQuizzes:[],averageCompletionRate:0,averageDuration:0}}buildCoursePerformance(e,t){return e.map(n=>{let i=t.filter(r=>r.courseQuizes?.some(a=>a.course?.id===n.id));return{id:n.id,name:n.teachingUnit?.name||"Unknown Course",studentCount:0,quizCount:i.length,averageScore:this.computeAverageScore(i),completionRate:this.computeCompletionRate(i),participationRate:0,trend:"stable"}})}buildStudentPerformance(e){let t=new Map;for(let i of e)if(i.studentQuizes)for(let r of i.studentQuizes){if(!r.student||r.rawScore===null||r.rawScore===void 0||!r.totalMarks)continue;let a=r.student.id,s=r.student.user?.name||r.student.matricule||"Unknown",o=r.rawScore/r.totalMarks*100;t.has(a)||t.set(a,{name:s,scores:[]}),t.get(a).scores.push(o)}let n=Array.from(t.entries()).map(([i,r])=>({studentId:i,name:r.name,averageScore:r.scores.reduce((a,s)=>a+s,0)/r.scores.length}));return n.sort((i,r)=>r.averageScore-i.averageScore),{topPerformers:n.slice(0,10),needsHelp:n.filter(i=>i.averageScore<60).slice(0,10)}}computeQuestionDifficulty(e){return[]}computeAverageScore(e){let t=0,n=0;for(let i of e)if(i.studentQuizes)for(let r of i.studentQuizes)r.rawScore!==null&&r.rawScore!==void 0&&r.totalMarks&&(t+=r.rawScore/r.totalMarks*100,n++);return n>0?t/n:0}computeCompletionRate(e){let t=0,n=0;for(let i of e)i.studentQuizes&&(t+=i.studentQuizes.length,n+=i.studentQuizes.filter(r=>r.status==="SUBMITTED").length);return t>0?n/t*100:0}countUniqueStudents(e){let t=new Set;for(let n of e)if(n.studentQuizes)for(let i of n.studentQuizes)i.student?.id&&t.add(i.student.id);return t.size}computeQuizAverageScore(e){if(!e.studentQuizes)return 0;let t=0,n=0;for(let i of e.studentQuizes)i.rawScore!==null&&i.rawScore!==void 0&&i.totalMarks&&(t+=i.rawScore/i.totalMarks*100,n++);return n>0?t/n:0}computeQuizCompletionRate(e){return!e.studentQuizes||e.studentQuizes.length===0?0:e.studentQuizes.filter(n=>n.status==="SUBMITTED").length/e.studentQuizes.length*100}computeTrend(e,t){let n=e-t;return n>5?"up":n<-5?"down":"stable"}getScoreColor(e){return e>=80?"success":e>=60?"warning":"danger"}getCompletionColor(e){return e>=80?"success":e>=60?"warning":"danger"}getParticipationColor(e){return e>=75?"success":e>=50?"warning":"danger"}computeStdDev(e,t){let i=e.map(r=>Math.pow(r-t,2)).reduce((r,a)=>r+a,0)/e.length;return Math.sqrt(i)}estimateDistributionBuckets(e,t){let i=[{range:"90-100",label:"excellent",count:0,percentage:0},{range:"80-89",label:"good",count:0,percentage:0},{range:"70-79",label:"average",count:0,percentage:0},{range:"60-69",label:"below",count:0,percentage:0},{range:"0-59",label:"failing",count:0,percentage:0}],r=[95,84.5,74.5,64.5,30];for(let a=0;a<i.length;a++){let s=(r[a]-e)/15,o=this.normalCDF(s),c=a===i.length-1?0:this.normalCDF((r[a+1]-e)/15);i[a].percentage=Math.max(0,(o-c)*100),i[a].count=Math.round(t*i[a].percentage/100)}return i}normalCDF(e){let t=.254829592,n=-.284496736,i=1.421413741,r=-1.453152027,a=1.061405429,s=.3275911,o=e<0?-1:1;e=Math.abs(e)/Math.sqrt(2);let c=1/(1+s*e),l=1-((((a*c+r)*c+i)*c+n)*c+t)*c*Math.exp(-e*e);return .5*(1+o*l)}groupQuizzesByPeriod(e,t){let n={};for(let i of e){if(!i.date)continue;let r=new Date(i.date),a;switch(t){case"week":a=`Week ${this.getWeekNumber(r)}`;break;case"month":a=r.toLocaleDateString("en-US",{month:"short",year:"numeric"});break;case"semester":a=`${r.getMonth()<6?"S1":"S2"} ${r.getFullYear()}`;break;case"year":default:a=r.getFullYear().toString()}n[a]||(n[a]=[]),n[a].push(i)}return n}getWeekNumber(e){let t=new Date(e.getFullYear(),0,1),n=(e.getTime()-t.getTime())/864e5;return Math.ceil((n+t.getDay()+1)/7)}getEmptyDeanDashboard(){return{generatedAt:new Date().toISOString(),timeRange:"all",kpis:[],studentDemographics:{totalStudents:0,activeStudents:0,inactiveStudents:0,bySpeciality:[],byLevel:[],byClass:[],newEnrollmentsThisMonth:0},teacherDemographics:{totalTeachers:0,bySpeciality:[],teachersWithCourses:0,teachersWithoutCourses:0,averageCoursesPerTeacher:0},academicPerformance:this.getEmptyScoreDistribution(),performanceTrends:this.getEmptyPerformanceTrends(),quizAnalytics:{totalQuizzes:0,activeQuizzes:0,completedQuizzes:0,byType:[],hardestQuizzes:[],easiestQuizzes:[],averageCompletionRate:0,averageDuration:0},participation:{totalInvitations:0,totalParticipants:0,participationRate:0,completionRate:0,byStatus:[],averageTimeToStart:0,averageCompletionTime:0},comparativeAnalysis:{bySpeciality:[],byLevel:[],byClass:[],byTeachingUnit:[],topPerformers:[],needsAttention:[]},alerts:[],recommendations:[]}}getEmptyTeacherDashboard(){return{generatedAt:new Date().toISOString(),teacherId:"",timeRange:"all",kpis:[],coursePerformance:[],studentPerformance:{topPerformers:[],needsHelp:[]},scoreDistribution:this.getEmptyScoreDistribution(),performanceTrends:this.getEmptyPerformanceTrends(),quizAnalytics:{totalQuizzes:0,activeQuizzes:0,completedQuizzes:0,byType:[],hardestQuizzes:[],easiestQuizzes:[],averageCompletionRate:0,averageDuration:0},questionDifficulty:[],alerts:[],recommendations:[]}}getEmptyScoreDistribution(){return{buckets:[{range:"90-100",label:"excellent",count:0,percentage:0},{range:"80-89",label:"good",count:0,percentage:0},{range:"70-79",label:"average",count:0,percentage:0},{range:"60-69",label:"below",count:0,percentage:0},{range:"0-59",label:"failing",count:0,percentage:0}],totalAssessed:0,averageScore:0,medianScore:0,standardDeviation:0,highestScore:0,lowestScore:0}}getEmptyPerformanceTrends(){return{timeRange:"month",dataPoints:[],overallTrend:"stable",percentageChange:0}}static \u0275fac=function(t){return new(t||p)};static \u0275prov=S({token:p,factory:p.\u0275fac,providedIn:"root"})};var L=["canvas"],B=class p{type="bar";data;options;disableAnimations=!1;canvasRef;isReady=!1;chart=null;chartJsLoaded=!1;pendingUpdate=!1;updateDebounceId=null;resizeObserver=null;ngZone=h(C);async ngAfterViewInit(){await this.ensureChartJs(),this.chartJsLoaded=!0,this.renderChart(),this.setupResizeObserver()}ngOnChanges(e){if(!this.chartJsLoaded){this.pendingUpdate=!0;return}if(e.type&&!e.type.firstChange){this.renderChart();return}(e.data||e.options)&&this.debouncedUpdate()}ngOnDestroy(){this.updateDebounceId&&clearTimeout(this.updateDebounceId),this.resizeObserver&&this.resizeObserver.disconnect(),this.destroyChart()}destroyChart(){this.chart&&typeof this.chart.destroy=="function"&&this.chart.destroy(),this.chart=null}debouncedUpdate(){this.updateDebounceId&&clearTimeout(this.updateDebounceId),this.updateDebounceId=setTimeout(()=>{this.updateChart(),this.updateDebounceId=null},250)}updateChart(){if(!this.chart){this.renderChart();return}this.chart.data=this.deepClone(this.data);let e=this.getMergedOptions();Object.assign(this.chart.options,e),typeof this.chart.update=="function"&&this.chart.update(this.disableAnimations?"none":void 0)}async ensureChartJs(){window.Chart||await new Promise((t,n)=>{let i=document.createElement("script");i.src="https://cdn.jsdelivr.net/npm/chart.js@4.4.5/dist/chart.umd.min.js",i.async=!0,i.onload=()=>t(),i.onerror=()=>n(new Error("Failed to load Chart.js")),document.head.appendChild(i)}).catch(()=>{})}getMergedOptions(){return y({responsive:!0,maintainAspectRatio:!1,animation:this.disableAnimations?!1:{duration:300,easing:"easeOutQuart"},resizeDelay:0,plugins:{legend:{display:!0}}},this.options)}renderChart(){let e=window,t=this.canvasRef.nativeElement,n=t.getContext("2d");if(!n||!e.Chart)return;this.destroyChart();let i=t.parentElement;i&&(t.width=i.clientWidth,t.height=i.clientHeight),this.ngZone.runOutsideAngular(()=>{this.chart=new e.Chart(n,{type:this.type,data:this.deepClone(this.data),options:this.getMergedOptions()})}),this.isReady=!0,this.pendingUpdate&&(this.pendingUpdate=!1,this.updateChart())}setupResizeObserver(){let e=this.canvasRef.nativeElement.parentElement;if(!e||typeof ResizeObserver>"u")return;let t=null;this.resizeObserver=new ResizeObserver(()=>{t&&clearTimeout(t),t=setTimeout(()=>{this.chart&&typeof this.chart.resize=="function"&&this.ngZone.runOutsideAngular(()=>{this.chart.resize()})},250)}),this.resizeObserver.observe(e)}deepClone(e){if(e===null||typeof e!="object")return e;try{return JSON.parse(JSON.stringify(e))}catch{return e}}static \u0275fac=function(t){return new(t||p)};static \u0275cmp=Q({type:p,selectors:[["ui-chart"]],viewQuery:function(t,n){if(t&1&&P(L,7),t&2){let i;R(i=M())&&(n.canvasRef=i.first)}},inputs:{type:"type",data:"data",options:"options",disableAnimations:"disableAnimations"},features:[z],decls:3,vars:2,consts:[["canvas",""],[1,"chart-host"]],template:function(t,n){t&1&&(T(0,"div",1),w(1,"canvas",null,0),A()),t&2&&k("chart-ready",n.isReady)},dependencies:[I],styles:[".chart-host[_ngcontent-%COMP%]{position:relative;width:100%;height:-webkit-fill-available;height:stretch;contain:layout style;opacity:0;transition:opacity .2s ease-out}.chart-host.chart-ready[_ngcontent-%COMP%]{opacity:1}.chart-host[_ngcontent-%COMP%] > canvas[_ngcontent-%COMP%]{position:absolute;inset:0;will-change:contents;image-rendering:auto}"],changeDetection:0})};export{U as a,B as b};
