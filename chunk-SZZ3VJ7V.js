import{a as H}from"./chunk-Z4P6JV7J.js";import"./chunk-Y5LGC6BU.js";import"./chunk-SPLO5XSZ.js";import{a as U,f as D,h as F,i as W,l as j,o as J,y as B}from"./chunk-UUU7BI2K.js";import{c as L,d as R,e as z,f as q,g as I,l as T,n as A}from"./chunk-XIAE3S6L.js";import{a as V,b as N}from"./chunk-W67SSUM4.js";import"./chunk-23TWDL4C.js";import{c as k}from"./chunk-5XPIWXNK.js";import{$a as s,Ab as M,Db as _,Eb as u,Fb as f,Ka as O,Va as C,Wa as b,Wb as E,Z as v,ab as t,ba as m,bb as n,ca as c,cb as d,jb as x,lb as w,nb as y,nc as S,p as P,yb as i,za as l}from"./chunk-XVADYIPR.js";function Y(p,o){if(p&1){let r=x();t(0,"ui-alert",49),w("dismissed",function(){m(r);let g=y();return c(g.errorMessage="")}),i(1),n()}if(p&2){let r=y();s("title","Authentication Failed")("dismissible",!0),l(),M(" ",r.errorMessage," ")}}function Q(p,o){p&1&&(t(0,"mat-icon",36),i(1,"login"),n())}var G=class p{authService=v(H);router=v(k);cdr=v(E);loginRequest={identifier:"",password:"",rememberMe:!1,role:"TEACHER"};isLoading=!1;errorMessage="";roleError="";identifierError="";passwordError="";roleOptions=[{value:"TEACHER",label:"Teacher",icon:"\u{1F468}\u200D\u{1F3EB}"},{value:"SPECIALITY_HEAD",label:"Speciality Head (Speciality Head)",icon:"\u{1F4CB}"},{value:"DEAN",label:"Dean (Administrator)",icon:"\u{1F3DB}\uFE0F"}];currentYear=new Date().getFullYear();get identifierLabel(){return this.loginRequest.role==="STUDENT"?"Matricule":"Email Address"}get identifierPlaceholder(){return this.loginRequest.role==="STUDENT"?"Enter your student matricule":"Enter your email address"}validateForm(){let o=!0;return this.roleError="",this.identifierError="",this.passwordError="",this.loginRequest.role||(this.roleError="Please select your role",o=!1),this.loginRequest.identifier?.trim()||(this.identifierError=this.loginRequest.role==="STUDENT"?"Please enter your matricule":"Please enter your email address",o=!1),this.loginRequest.password?this.loginRequest.password.length<6&&(this.passwordError="Password must be at least 6 characters",o=!1):(this.passwordError="Please enter your password",o=!1),o}async onSubmit(){if(this.errorMessage="",!!this.validateForm()){this.isLoading=!0;try{let o=await P(this.authService.login(this.loginRequest)),r=this.getLandingUrlForRole(o.user.role);try{await this.router.navigateByUrl(r)}catch(e){if((e instanceof Error?e.message:String(e)).includes("Failed to fetch dynamically imported module")){window.location.assign(r);return}throw e}}catch(o){this.errorMessage=o instanceof Error?o.message:"An error occurred during sign in. Please try again.",this.cdr.markForCheck()}finally{this.isLoading=!1,this.cdr.markForCheck()}}}getLandingUrlForRole(o){switch(o){case"DEAN":return"/dean";case"TEACHER":return"/teacher";case"SPECIALITY_HEAD":return"/showcase";case"STUDENT":return"/showcase";default:return"/showcase"}}static \u0275fac=function(r){return new(r||p)};static \u0275cmp=O({type:p,selectors:[["app-login"]],decls:79,vars:28,consts:[["loginForm","ngForm"],[1,"login-page"],[1,"login-page__background"],[1,"login-page__overlay"],[1,"login-page__container"],[1,"login-page__branding"],[1,"login-page__logos"],[1,"login-page__logo-group"],[1,"login-page__logo","login-page__logo--main"],["src","assets/images/logos/iusj-logo.png","alt","IUSJC - Institut Universitaire Saint Jean du Cameroun"],[1,"login-page__schools-logos"],["title","Saint Jean Ing\xE9nieur",1,"login-page__logo","login-page__logo--school"],["src","https://institutsaintjean.org/wp-content/uploads/2025/11/LOGO-UNIVERSITE-SAINT-JEAN_INGENIEUR_2.png","alt","Saint Jean Ing\xE9nieur - Engineering School"],["title","Saint Jean Management",1,"login-page__logo","login-page__logo--school"],["src","https://saintjeanmanagement.org/wp-content/uploads/2025/01/Logo-Institut-USJ-MANAGEMENT-1-458x179.png","alt","Saint Jean Management - Business School"],["title","Pr\xE9paVogt",1,"login-page__logo","login-page__logo--school"],["src","https://prepavogt.org/wp-content/uploads/2022/12/LOGO-PREPAVOGT.png","alt","Pr\xE9paVogt - Classes Pr\xE9paratoires Int\xE9gr\xE9es"],["title","Pr\xE9pa Saint Jean Douala",1,"login-page__logo","login-page__logo--school"],["src","https://prepasaintjean.org/images/Logo.png","alt","Pr\xE9pa Saint Jean - Douala"],[1,"login-page__welcome"],[1,"login-page__title"],[1,"login-page__subtitle"],[1,"login-page__features"],[1,"login-page__feature"],[1,"login-page__feature-icon"],[1,"login-page__feature-text"],[1,"login-page__form-section"],["variant","elevated",1,"login-page__card"],[1,"login-page__theme-toggle"],[1,"login-page__form-header"],[1,"login-page__form-title"],[1,"login-page__form-subtitle"],[1,"login-page__form",3,"ngSubmit"],["variant","soft","color","danger",3,"title","dismissible"],[1,"login-page__field"],["label","Sign in as","placeholder","Select your role","name","role",3,"ngModelChange","options","ngModel","required","validationState","errorMessage","iconLeft"],["slot","icon-left"],["type","text","name","identifier","autocomplete","username",3,"ngModelChange","label","placeholder","ngModel","required","validationState","errorMessage","iconLeft"],["label","Password","placeholder","Enter your password","type","password","name","password","autocomplete","current-password",3,"ngModelChange","ngModel","required","showPasswordToggle","validationState","errorMessage","iconLeft"],[1,"login-page__options"],["label","Remember me","name","rememberMe","color","primary",3,"ngModelChange","ngModel"],[1,"login-page__submit"],["type","submit","variant","solid","color","primary","size","lg",3,"fullWidth","loading","disabled","iconLeft"],[1,"login-page__help"],[1,"login-page__help-text"],["href","mailto:support@quizzy.edu",1,"login-page__help-link"],[1,"login-page__footer"],[1,"login-page__copyright"],[1,"login-page__version"],["variant","soft","color","danger",3,"dismissed","title","dismissible"]],template:function(r,e){if(r&1){let g=x();t(0,"section",1)(1,"div",2),d(2,"div",3),n(),t(3,"div",4)(4,"div",5)(5,"div",6)(6,"div",7)(7,"div",8),d(8,"img",9),n(),t(9,"div",10)(10,"div",11),d(11,"img",12),n(),t(12,"div",13),d(13,"img",14),n(),t(14,"div",15),d(15,"img",16),n(),t(16,"div",17),d(17,"img",18),n()()()(),t(18,"div",19)(19,"h1",20),i(20,"Welcome to Quizzy"),n(),t(21,"p",21),i(22," The intelligent examination platform for academic excellence. Streamlined assessments for students, teachers, and administrators. "),n()(),t(23,"div",22)(24,"div",23)(25,"mat-icon",24),i(26,"quiz"),n(),t(27,"span",25),i(28,"Smart Question Banks"),n()(),t(29,"div",23)(30,"mat-icon",24),i(31,"analytics"),n(),t(32,"span",25),i(33,"Real-time Analytics"),n()(),t(34,"div",23)(35,"mat-icon",24),i(36,"psychology"),n(),t(37,"span",25),i(38,"AI-Powered Insights"),n()()()(),t(39,"div",26)(40,"ui-card",27)(41,"div",28),d(42,"ui-theme-toggle"),n(),t(43,"div",29)(44,"h2",30),i(45,"Sign In"),n(),t(46,"p",31),i(47,"Access your Quizzy account"),n()(),t(48,"form",32,0),w("ngSubmit",function(){return m(g),c(e.onSubmit())}),C(50,Y,2,3,"ui-alert",33),t(51,"div",34)(52,"ui-select",35),f("ngModelChange",function(a){return m(g),u(e.loginRequest.role,a)||(e.loginRequest.role=a),c(a)}),t(53,"mat-icon",36),i(54,"person_outline"),n()()(),t(55,"div",34)(56,"ui-input",37),f("ngModelChange",function(a){return m(g),u(e.loginRequest.identifier,a)||(e.loginRequest.identifier=a),c(a)}),t(57,"mat-icon",36),i(58,"badge"),n()()(),t(59,"div",34)(60,"ui-input",38),f("ngModelChange",function(a){return m(g),u(e.loginRequest.password,a)||(e.loginRequest.password=a),c(a)}),t(61,"mat-icon",36),i(62,"lock_outline"),n()()(),t(63,"div",39)(64,"ui-checkbox",40),f("ngModelChange",function(a){return m(g),u(e.loginRequest.rememberMe,a)||(e.loginRequest.rememberMe=a),c(a)}),n()(),t(65,"div",41)(66,"ui-button",42),C(67,Q,2,0,"mat-icon",36),i(68),n()()(),t(69,"div",43)(70,"p",44),i(71," Having trouble signing in? "),t(72,"a",45),i(73,"Contact Support"),n()()()(),t(74,"div",46)(75,"p",47),i(76),n(),t(77,"p",48),i(78,"Version 1.0.0"),n()()()()()}r&2&&(l(50),b(e.errorMessage?50:-1),l(2),s("options",e.roleOptions),_("ngModel",e.loginRequest.role),s("required",!0)("validationState",e.roleError?"invalid":"default")("errorMessage",e.roleError)("iconLeft",!0),l(4),s("label",e.identifierLabel)("placeholder",e.identifierPlaceholder),_("ngModel",e.loginRequest.identifier),s("required",!0)("validationState",e.identifierError?"invalid":"default")("errorMessage",e.identifierError)("iconLeft",!0),l(4),_("ngModel",e.loginRequest.password),s("required",!0)("showPasswordToggle",!0)("validationState",e.passwordError?"invalid":"default")("errorMessage",e.passwordError)("iconLeft",!0),l(4),_("ngModel",e.loginRequest.rememberMe),l(2),s("fullWidth",!0)("loading",e.isLoading)("disabled",e.isLoading)("iconLeft",!e.isLoading),l(),b(e.isLoading?-1:67),l(),M(" ",e.isLoading?"Signing in...":"Sign In"," "),l(8),M(" \xA9 ",e.currentYear," Quizzy - Saint Jean Group of Universities "))},dependencies:[S,A,I,L,R,T,q,z,N,V,j,D,F,W,U,J,B],styles:[".login-page[_ngcontent-%COMP%]{position:relative;min-height:100vh;display:flex;align-items:stretch}.login-page__background[_ngcontent-%COMP%]{position:fixed;inset:0;background-image:url(/assets/images/backgrounds/university-campus.svg);background-size:cover;background-position:center;background-repeat:no-repeat;z-index:0}.login-page__overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:linear-gradient(135deg,rgba(var(--color-primary-rgb, 53, 114, 239),.85),rgba(var(--color-secondary-rgb, 139, 92, 246),.75))}[data-theme=dark][_ngcontent-%COMP%]   .login-page__overlay[_ngcontent-%COMP%]{background:linear-gradient(135deg,#0f172af2,#1e293be6)}.login-page__container[_ngcontent-%COMP%]{position:relative;z-index:1;display:flex;width:100%;min-height:100vh}@media (max-width: 1024px){.login-page__container[_ngcontent-%COMP%]{flex-direction:column}}.login-page__branding[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center;align-items:flex-start;padding:var(--spacing-12, 3rem) var(--spacing-16, 4rem);color:#fff}@media (max-width: 1024px){.login-page__branding[_ngcontent-%COMP%]{padding:var(--spacing-8, 2rem);align-items:center;text-align:center}}.login-page__logos[_ngcontent-%COMP%]{margin-bottom:var(--spacing-10, 2.5rem)}.login-page__logo-group[_ngcontent-%COMP%]{display:flex;align-items:end;gap:var(--spacing-2, .5rem)}.login-page__logo[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.login-page__logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:100%;max-width:100%;object-fit:contain;border-radius:var(--radius-lg, 12px)}.login-page__logo--main[_ngcontent-%COMP%]{width:200px;height:200px}@media (max-width: 1024px){.login-page__logo--main[_ngcontent-%COMP%]{width:100px;height:100px}}@media (max-width: 768px){.login-page__logo--main[_ngcontent-%COMP%]{width:120px;height:120px}}.login-page__logo--school[_ngcontent-%COMP%]{width:80px;height:80px;padding:var(--spacing-2, .5rem);background:#ffffff26;border-radius:var(--radius-lg, 12px);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);transition:transform var(--motion-duration-normal, .3s) ease,background var(--motion-duration-normal, .3s) ease}.login-page__logo--school[_ngcontent-%COMP%]:hover{transform:scale(1.05);background:#ffffff40}@media (max-width: 768px){.login-page__logo--school[_ngcontent-%COMP%]{width:50px;height:50px}}.login-page__schools-logos[_ngcontent-%COMP%]{display:flex;gap:var(--spacing-2, .5rem);flex-wrap:wrap}@media (max-width: 1024px){.login-page__schools-logos[_ngcontent-%COMP%]{justify-content:center}}.login-page__welcome[_ngcontent-%COMP%]{margin-bottom:var(--spacing-10, 2.5rem)}.login-page__title[_ngcontent-%COMP%]{font-size:var(--font-size-4xl, 2.25rem);font-weight:700;margin:0 0 var(--spacing-4, 1rem) 0;line-height:1.2;text-shadow:0 2px 4px rgba(0,0,0,.2)}@media (max-width: 768px){.login-page__title[_ngcontent-%COMP%]{font-size:var(--font-size-3xl, 1.875rem)}}.login-page__subtitle[_ngcontent-%COMP%]{font-size:var(--font-size-lg, 1.125rem);margin:0;opacity:.9;max-width:480px;line-height:1.6}@media (max-width: 768px){.login-page__subtitle[_ngcontent-%COMP%]{font-size:var(--font-size-base, 1rem)}}.login-page__features[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--spacing-4, 1rem)}.login-page__feature[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--spacing-3, .75rem);padding:var(--spacing-3, .75rem) var(--spacing-4, 1rem);background:#ffffff1a;border-radius:var(--radius-lg, 12px);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);transition:background var(--motion-duration-normal, .3s) ease,transform var(--motion-duration-normal, .3s) ease}.login-page__feature[_ngcontent-%COMP%]:hover{background:#fff3;transform:translate(4px)}@media (max-width: 1024px){.login-page__feature[_ngcontent-%COMP%]{justify-content:center}}.login-page__feature-icon[_ngcontent-%COMP%]{font-size:1.5rem!important;width:1.5rem!important;height:1.5rem!important;color:#fffffff2}.login-page__feature-text[_ngcontent-%COMP%]{font-size:var(--font-size-base, 1rem);font-weight:500}.login-page__form-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;padding:var(--spacing-8, 2rem);min-width:420px}@media (max-width: 1024px){.login-page__form-section[_ngcontent-%COMP%]{min-width:auto;width:100%;padding:var(--spacing-6, 1.5rem)}}.login-page__card[_ngcontent-%COMP%]{width:100%;max-width:420px;padding:var(--spacing-8, 2rem);background:var(--surface-base, #ffffff);border-radius:var(--radius-xl, 16px);box-shadow:var(--shadow-xl, 0 20px 25px -5px rgba(0, 0, 0, .1))}[data-theme=dark][_ngcontent-%COMP%]   .login-page__card[_ngcontent-%COMP%]{background:var(--surface-raised, #1e293b)}@media (max-width: 480px){.login-page__card[_ngcontent-%COMP%]{padding:var(--spacing-6, 1.5rem)}}.login-page__theme-toggle[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-bottom:var(--spacing-4, 1rem)}.login-page__form-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:var(--spacing-8, 2rem)}.login-page__form-title[_ngcontent-%COMP%]{font-size:var(--font-size-2xl, 1.5rem);font-weight:700;color:var(--text-primary, #0f172a);margin:0 0 var(--spacing-2, .5rem) 0}[data-theme=dark][_ngcontent-%COMP%]   .login-page__form-title[_ngcontent-%COMP%]{color:var(--text-primary, #f1f5f9)}.login-page__form-subtitle[_ngcontent-%COMP%]{font-size:var(--font-size-sm, .875rem);color:var(--text-tertiary, #64748b);margin:0}[data-theme=dark][_ngcontent-%COMP%]   .login-page__form-subtitle[_ngcontent-%COMP%]{color:var(--text-tertiary, #94a3b8)}.login-page__form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--spacing-5, 1.25rem)}.login-page__field[_ngcontent-%COMP%]{width:100%}.login-page__options[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.login-page__submit[_ngcontent-%COMP%]{margin-top:var(--spacing-2, .5rem)}.login-page__help[_ngcontent-%COMP%]{margin-top:var(--spacing-6, 1.5rem);text-align:center;padding-top:var(--spacing-6, 1.5rem);border-top:1px solid var(--border-subtle, #f1f5f9)}[data-theme=dark][_ngcontent-%COMP%]   .login-page__help[_ngcontent-%COMP%]{border-top-color:var(--border-subtle, #1e293b)}.login-page__help-text[_ngcontent-%COMP%]{font-size:var(--font-size-sm, .875rem);color:var(--text-tertiary, #64748b);margin:0}[data-theme=dark][_ngcontent-%COMP%]   .login-page__help-text[_ngcontent-%COMP%]{color:var(--text-tertiary, #94a3b8)}.login-page__help-link[_ngcontent-%COMP%]{color:var(--color-primary-500, #3572ef);text-decoration:none;font-weight:500;transition:color var(--motion-duration-fast, .15s) ease}.login-page__help-link[_ngcontent-%COMP%]:hover{color:var(--color-primary-600, #2563eb);text-decoration:underline}[data-theme=dark][_ngcontent-%COMP%]   .login-page__help-link[_ngcontent-%COMP%]{color:var(--color-primary-400, #60a5fa)}[data-theme=dark][_ngcontent-%COMP%]   .login-page__help-link[_ngcontent-%COMP%]:hover{color:var(--color-primary-300, #93c5fd)}.login-page__footer[_ngcontent-%COMP%]{margin-top:var(--spacing-6, 1.5rem);text-align:center}.login-page__copyright[_ngcontent-%COMP%]{font-size:var(--font-size-xs, .75rem);color:#ffffffb3;margin:0 0 var(--spacing-1, .25rem) 0}.login-page__version[_ngcontent-%COMP%]{font-size:var(--font-size-xs, .75rem);color:#ffffff80;margin:0}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.login-page__branding[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .6s ease-out}.login-page__card[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .6s ease-out .2s both}.login-page__feature[_ngcontent-%COMP%]:nth-child(1){animation:_ngcontent-%COMP%_fadeInUp .4s ease-out .4s both}.login-page__feature[_ngcontent-%COMP%]:nth-child(2){animation:_ngcontent-%COMP%_fadeInUp .4s ease-out .5s both}.login-page__feature[_ngcontent-%COMP%]:nth-child(3){animation:_ngcontent-%COMP%_fadeInUp .4s ease-out .6s both}"]})};export{G as Login};
