import{a as n,b as s,c as u,d as o,g as r,k as c}from"./chunk-LSE4QE4L.js";import{U as l,Y as d}from"./chunk-T26DWB6S.js";var p=class a{constructor(e){this.api=e}basePath="/teacher/quizzes";sanitizeSelectQuestion(e){return{questionId:s(e.questionId),markAllocation:o(e.markAllocation)}}sanitizeNewQuestion(e){return{question:s(e.question),type:s(e.type),difficultyLevel:s(e.difficultyLevel),teachingUnitId:s(e.teachingUnitId),markAllocation:o(e.markAllocation),proposedAnswers:e.proposedAnswers?r(e.proposedAnswers):void 0,correctAnswer:n(e.correctAnswer)}}sanitizeAddQuestion(e){return{questionId:s(e.questionId),markAllocation:o(e.markAllocation)}}getMyCourses(){return this.api.get(`${this.basePath}/courses`)}getMyTeachingUnits(){return this.api.get(`${this.basePath}/teaching-units`)}getMyQuizzes(){return this.api.get(this.basePath)}getDraftQuizzes(){return this.api.get(`${this.basePath}/drafts`)}createQuiz(e){let t={courseId:s(e.courseId),type:s(e.type),lectures:o(e.lectures),date:s(e.date),durationMinutes:o(e.durationMinutes)};return e.selectedQuestions?.length&&(t.selectedQuestions=e.selectedQuestions.map(i=>this.sanitizeSelectQuestion(i))),e.newQuestions?.length&&(t.newQuestions=e.newQuestions.map(i=>this.sanitizeNewQuestion(i))),e.publishImmediately!==void 0&&(t.publishImmediately=!!e.publishImmediately),this.api.post(this.basePath,t)}getQuiz(e){return this.api.get(`${this.basePath}/${e}`)}updateQuiz(e,t){let i={};return t.type!==void 0&&(i.type=String(t.type)),t.lectures!==void 0&&(i.lectures=u(t.lectures)),t.date!==void 0&&(i.date=String(t.date)),t.durationMinutes!==void 0&&(i.durationMinutes=u(t.durationMinutes)),this.api.patch(`${this.basePath}/${e}`,i)}deleteQuiz(e){return this.api.delete(`${this.basePath}/${e}`)}publishQuiz(e){return this.api.post(`${this.basePath}/${e}/publish`,{})}getQuizResults(e){return this.api.get(`${this.basePath}/${e}/results`)}addQuestion(e,t){let i=this.sanitizeAddQuestion(t);return this.api.post(`${this.basePath}/${e}/questions`,i)}updateQuizQuestion(e,t,i){let h={markAllocation:o(i.markAllocation)};return this.api.patch(`${this.basePath}/${e}/questions/${t}`,h)}removeQuizQuestion(e,t){return this.api.delete(`${this.basePath}/${e}/questions/${t}`)}getQuestionBank(e){return this.api.get(`${this.basePath}/teaching-units/${e}/questions`)}createQuestionInBank(e){let t={question:n(e.question),type:s(e.type),difficultyLevel:s(e.difficultyLevel),teachingUnitId:s(e.teachingUnitId)};return e.proposedAnswers?.length&&(t.proposedAnswers=r(e.proposedAnswers)),e.correctAnswer!==void 0&&(t.correctAnswer=n(e.correctAnswer)),this.api.post(`${this.basePath}/teaching-units/${t.teachingUnitId}/questions`,t)}updateQuestionInBank(e,t){let i={};return t.question!==void 0&&(i.question=n(t.question)),t.type!==void 0&&(i.type=n(t.type)),t.difficultyLevel!==void 0&&(i.difficultyLevel=n(t.difficultyLevel)),t.proposedAnswers!==void 0&&(i.proposedAnswers=r(t.proposedAnswers)),t.correctAnswer!==void 0&&(i.correctAnswer=n(t.correctAnswer)),this.api.patch(`${this.basePath}/questions/${e}`,i)}getTeachingUnitPastQuestions(e){return this.getQuestionBank(e)}getCollaborators(e){return this.api.get(`${this.basePath}/${e}/collaborators`)}inviteCollaborator(e,t){let i={teacherId:s(t.teacherId)};return this.api.post(`${this.basePath}/${e}/collaborators`,i)}removeCollaborator(e,t){return this.api.delete(`${this.basePath}/${e}/collaborators/${t}`)}addCourseToQuiz(e,t){let i={courseId:s(t.courseId)};return this.api.post(`${this.basePath}/${e}/courses`,i)}removeCourseFromQuiz(e,t){return this.api.delete(`${this.basePath}/${e}/courses/${t}`)}analyzeSentiment(e){let t={quizId:s(e.quizId),questionId:s(e.questionId)};return e.model&&(t.model=String(e.model)),this.api.post("/teacher/sentiment-analyses",t)}static \u0275fac=function(t){return new(t||a)(d(c))};static \u0275prov=l({token:a,factory:a.\u0275fac,providedIn:"root"})};export{p as a};
