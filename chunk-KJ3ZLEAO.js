import{a as H}from"./chunk-R2DQWYV4.js";import"./chunk-Y5LGC6BU.js";import"./chunk-TEBYAPM2.js";import{a as V,f as U,h as W,o as Y,y as j}from"./chunk-UUU7BI2K.js";import{c as L,d as q,e as z,f as R,g as T,l as D,n as A}from"./chunk-XIAE3S6L.js";import{a as F,b as N}from"./chunk-W67SSUM4.js";import"./chunk-23TWDL4C.js";import{c as I}from"./chunk-5XPIWXNK.js";import{$a as s,Ab as C,Db as u,Eb as f,Fb as h,Ka as w,Oa as P,Wb as S,Z as _,ab as t,ba as c,bb as n,ca as p,cb as d,gc as k,jb as x,lb as y,nb as M,nc as E,p as b,yb as i,za as g,zb as O}from"./chunk-XVADYIPR.js";function Q(m,o){if(m&1){let r=x();t(0,"ui-alert",49),y("dismissed",function(){c(r);let l=M();return p(l.errorMessage="")}),i(1),n()}if(m&2){let r=M();s("title","Authentication Failed")("dismissible",!0),g(),C(" ",r.errorMessage," ")}}var B=class m{authService=_(H);router=_(I);cdr=_(S);loginRequest={identifier:"",password:"",rememberMe:!1,role:"TEACHER"};isLoading=!1;errorMessage="";roleError="";identifierError="";passwordError="";roleOptions=[{value:"TEACHER",label:"Teacher",icon:"\u{1F468}\u200D\u{1F3EB}"},{value:"SPECIALITY_HEAD",label:"Speciality Head (Speciality Head)",icon:"\u{1F4CB}"},{value:"DEAN",label:"Dean (Administrator)",icon:"\u{1F3DB}\uFE0F"}];currentYear=new Date().getFullYear();cyclingInterval;currentSlideIndex=0;totalSlides=5;ngOnInit(){this.startImageCycling()}ngOnDestroy(){this.cyclingInterval&&clearInterval(this.cyclingInterval)}startImageCycling(){this.cyclingInterval=window.setInterval(()=>{this.cycleToNextSlide()},4e3)}cycleToNextSlide(){let o=document.querySelector(`.login-page__slide[data-slide="${this.currentSlideIndex}"]`),r=document.querySelector(`.login-page__text-slide[data-text="${this.currentSlideIndex}"]`);o&&o.classList.remove("active"),r&&r.classList.remove("active"),this.currentSlideIndex=(this.currentSlideIndex+1)%this.totalSlides;let e=document.querySelector(`.login-page__slide[data-slide="${this.currentSlideIndex}"]`),l=document.querySelector(`.login-page__text-slide[data-text="${this.currentSlideIndex}"]`);e&&e.classList.add("active"),l&&l.classList.add("active")}get identifierLabel(){return this.loginRequest.role==="STUDENT"?"Matricule":"Email Address"}get identifierPlaceholder(){return this.loginRequest.role==="STUDENT"?"Enter your student matricule":"Enter your email address"}validateForm(){let o=!0;return this.roleError="",this.identifierError="",this.passwordError="",this.loginRequest.role||(this.roleError="Please select your role",o=!1),this.loginRequest.identifier?.trim()||(this.identifierError=this.loginRequest.role==="STUDENT"?"Please enter your matricule":"Please enter your email address",o=!1),this.loginRequest.password?this.loginRequest.password.length<6&&(this.passwordError="Password must be at least 6 characters",o=!1):(this.passwordError="Please enter your password",o=!1),o}async onSubmit(){if(this.errorMessage="",!!this.validateForm()){this.isLoading=!0;try{let o=await b(this.authService.login(this.loginRequest)),r=this.getLandingUrlForRole(o.user.role);try{await this.router.navigateByUrl(r)}catch(e){if((e instanceof Error?e.message:String(e)).includes("Failed to fetch dynamically imported module")){window.location.assign(r);return}throw e}}catch(o){this.errorMessage=o instanceof Error?o.message:"An error occurred during sign in. Please try again.",this.cdr.markForCheck()}finally{this.isLoading=!1,this.cdr.markForCheck()}}}getLandingUrlForRole(o){switch(o){case"DEAN":return"/dean";case"TEACHER":return"/teacher";case"SPECIALITY_HEAD":return"/showcase";case"STUDENT":return"/showcase";default:return"/showcase"}}static \u0275fac=function(r){return new(r||m)};static \u0275cmp=w({type:m,selectors:[["app-login"]],decls:79,vars:25,consts:[["loginForm","ngForm"],[1,"login-page"],[1,"login-page__background"],[1,"login-page__container"],[1,"login-page__image-card"],[1,"login-page__quizzy-brand"],[1,"login-page__logo-circle"],[1,"login-page__logo-text"],["src","assets/images/logos/iusj-logo.png","alt","IUSJ logo",1,"login-page__school-logo"],[1,"login-page__brand-text"],[1,"login-page__image-slider"],["data-slide","0",1,"login-page__slide","active"],["src","https://images.unsplash.com/photo-1606107557195-0e29a4b5b4aa?w=800&h=600&fit=crop","alt","Students taking quiz"],["data-slide","1",1,"login-page__slide"],["src","https://images.unsplash.com/photo-1434030216411-0b793f4b4173?w=800&h=600&fit=crop","alt","Classroom examination"],["data-slide","2",1,"login-page__slide"],["src","https://images.unsplash.com/photo-1509062522246-3755977927d7?w=800&h=600&fit=crop","alt","Students studying together"],["data-slide","3",1,"login-page__slide"],["src","https://images.unsplash.com/photo-1522202176988-66273c2fd55f?w=800&h=600&fit=crop","alt","Group quiz session"],["data-slide","4",1,"login-page__slide"],["src","https://images.unsplash.com/photo-1581726690015-c9861fa5057f?w=800&h=600&fit=crop","alt","Digital learning platform"],[1,"login-page__overlay-content"],[1,"login-page__text-slider"],["data-text","0",1,"login-page__text-slide","active"],[1,"login-page__hero-title"],["data-text","1",1,"login-page__text-slide"],["data-text","2",1,"login-page__text-slide"],["data-text","3",1,"login-page__text-slide"],["data-text","4",1,"login-page__text-slide"],[1,"login-page__form-card"],[1,"login-page__theme-toggle"],[1,"login-page__form-header"],[1,"login-page__form-title"],[1,"login-page__form-subtitle"],[1,"login-page__form",3,"ngSubmit"],["variant","soft","color","danger",3,"title","dismissible","dismissed",4,"ngIf"],[1,"login-page__field"],[1,"login-page__label"],["placeholder","Teacher","name","role",3,"ngModelChange","options","ngModel","required","validationState","errorMessage","iconLeft"],["slot","icon-left"],["name","identifier","autocomplete","username",3,"ngModelChange","placeholder","type","ngModel","required","validationState","errorMessage","iconLeft"],["placeholder","Enter your password","type","password","name","password","autocomplete","current-password",3,"ngModelChange","ngModel","required","showPasswordToggle","validationState","errorMessage","iconLeft"],[1,"login-page__forgot-password"],["href","mailto:support@quizzy.edu",1,"login-page__forgot-link"],[1,"login-page__submit"],["type","submit","variant","solid","color","primary","size","lg",3,"fullWidth","loading","disabled"],[1,"login-page__signup"],[1,"login-page__signup-text"],["href","#",1,"login-page__signup-link"],["variant","soft","color","danger",3,"dismissed","title","dismissible"]],template:function(r,e){if(r&1){let l=x();t(0,"section",1),d(1,"div",2),t(2,"div",3)(3,"div",4)(4,"div",5)(5,"div",6)(6,"span",7),i(7,"Q"),n()(),d(8,"img",8),t(9,"span",9),i(10,"QUIZZY"),n()(),t(11,"div",10)(12,"div",11),d(13,"img",12),n(),t(14,"div",13),d(15,"img",14),n(),t(16,"div",15),d(17,"img",16),n(),t(18,"div",17),d(19,"img",18),n(),t(20,"div",19),d(21,"img",20),n()(),t(22,"div",21)(23,"div",22)(24,"div",23)(25,"h2",24),i(26,"Smart Quiz Management"),n()(),t(27,"div",25)(28,"h2",24),i(29,"Seamless Digital Examinations"),n()(),t(30,"div",26)(31,"h2",24),i(32,"Collaborative Learning Excellence"),n()(),t(33,"div",27)(34,"h2",24),i(35,"Interactive Knowledge Hub"),n()(),t(36,"div",28)(37,"h2",24),i(38,"Advanced Analytics & Insights"),n()()()()(),t(39,"div",29)(40,"div",30),d(41,"ui-theme-toggle"),n(),t(42,"div",31)(43,"h2",32),i(44,"Welcome Back to Quizzy"),n(),t(45,"p",33),i(46,"Login to access your Quizzy dashboard"),n()(),t(47,"form",34,0),y("ngSubmit",function(){return c(l),p(e.onSubmit())}),P(49,Q,2,3,"ui-alert",35),t(50,"div",36)(51,"label",37),i(52,"Select Role"),n(),t(53,"ui-select",38),h("ngModelChange",function(a){return c(l),f(e.loginRequest.role,a)||(e.loginRequest.role=a),p(a)}),t(54,"mat-icon",39),i(55,"person_outline"),n()()(),t(56,"div",36)(57,"label",37),i(58),n(),t(59,"ui-input",40),h("ngModelChange",function(a){return c(l),f(e.loginRequest.identifier,a)||(e.loginRequest.identifier=a),p(a)}),t(60,"mat-icon",39),i(61,"email"),n()()(),t(62,"div",36)(63,"label",37),i(64,"Password"),n(),t(65,"ui-input",41),h("ngModelChange",function(a){return c(l),f(e.loginRequest.password,a)||(e.loginRequest.password=a),p(a)}),t(66,"mat-icon",39),i(67,"lock_outline"),n()()(),t(68,"div",42)(69,"a",43),i(70,"Forgot Password?"),n()(),t(71,"div",44)(72,"ui-button",45),i(73),n()(),t(74,"div",46)(75,"p",47),i(76," Don't have an account? "),t(77,"a",48),i(78,"Contact Administrator"),n()()()()()()()}r&2&&(g(49),s("ngIf",e.errorMessage),g(4),s("options",e.roleOptions),u("ngModel",e.loginRequest.role),s("required",!0)("validationState",e.roleError?"invalid":"default")("errorMessage",e.roleError)("iconLeft",!0),g(5),O(e.identifierLabel),g(),s("placeholder",e.identifierPlaceholder)("type",e.loginRequest.role==="STUDENT"?"text":"email"),u("ngModel",e.loginRequest.identifier),s("required",!0)("validationState",e.identifierError?"invalid":"default")("errorMessage",e.identifierError)("iconLeft",!0),g(6),u("ngModel",e.loginRequest.password),s("required",!0)("showPasswordToggle",!0)("validationState",e.passwordError?"invalid":"default")("errorMessage",e.passwordError)("iconLeft",!0),g(7),s("fullWidth",!0)("loading",e.isLoading)("disabled",e.isLoading),g(),C(" ",e.isLoading?"Signing in...":"Login"," "))},dependencies:[E,k,A,T,L,q,D,R,z,N,F,U,W,V,Y,j],styles:['.login-page[_ngcontent-%COMP%]{position:relative;min-height:100vh;display:flex;align-items:center;justify-content:center;padding:2rem;background:var(--surface-base)}@media (max-width: 768px){.login-page[_ngcontent-%COMP%]{padding:1rem}}.login-page__background[_ngcontent-%COMP%]{position:fixed;inset:0;background-image:url(https://images.unsplash.com/photo-1557804506-669a67965ba0?w=1920&h=1080&fit=crop);background-size:cover;background-position:center;background-repeat:no-repeat;filter:blur(12px);transform:scale(1.1);z-index:0}.login-page__background[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:0;background:var(--gradient-primary);opacity:.12}.login-page__container[_ngcontent-%COMP%]{position:relative;z-index:1;display:flex;max-width:1000px;width:100%;border-radius:20px;overflow:hidden;box-shadow:var(--elevation-5)}[data-theme=dark][_ngcontent-%COMP%]   .login-page__container[_ngcontent-%COMP%]{box-shadow:0 25px 50px -12px #00000080}@media (max-width: 768px){.login-page__container[_ngcontent-%COMP%]{flex-direction:column;max-width:400px}}.login-page__image-card[_ngcontent-%COMP%]{flex:1;position:relative;background:var(--surface-base);min-height:600px}@media (max-width: 768px){.login-page__image-card[_ngcontent-%COMP%]{min-height:350px}}.login-page__quizzy-brand[_ngcontent-%COMP%]{position:absolute;top:2rem;left:2rem;z-index:3;display:flex;align-items:center;gap:1rem;background:var(--glass-bg);padding:1rem 1.5rem;border-radius:15px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);box-shadow:var(--elevation-2)}[data-theme=dark][_ngcontent-%COMP%]   .login-page__quizzy-brand[_ngcontent-%COMP%]{background:var(--glass-bg);box-shadow:var(--elevation-3)}.login-page__logo-circle[_ngcontent-%COMP%]{width:48px;height:48px;background:linear-gradient(135deg,var(--color-secondary-500) 0%,var(--color-primary-500) 100%);border-radius:50%;display:flex;align-items:center;justify-content:center;flex-shrink:0;box-shadow:var(--shadow-primary)}.login-page__school-logo[_ngcontent-%COMP%]{height:40px;width:auto;display:block;object-fit:contain;margin-right:.25rem}.login-page__logo-text[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:800;color:var(--text-inverse);text-shadow:0 2px 4px rgba(0,0,0,.2)}.login-page__brand-text[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:800;color:var(--text-primary);letter-spacing:.1em}[data-theme=dark][_ngcontent-%COMP%]   .login-page__brand-text[_ngcontent-%COMP%]{color:var(--text-inverse)}.login-page__image-slider[_ngcontent-%COMP%]{position:absolute;inset:0}.login-page__slide[_ngcontent-%COMP%]{position:absolute;inset:0;opacity:0;transition:opacity 1.5s ease-in-out}.login-page__slide.active[_ngcontent-%COMP%]{opacity:1}.login-page__slide[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.login-page__slide[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:0;background:var(--gradient-primary);opacity:.16}[data-theme=dark][_ngcontent-%COMP%]   .login-page__slide[_ngcontent-%COMP%]:after{background:var(--surface-overlay);opacity:.7}.login-page__overlay-content[_ngcontent-%COMP%]{position:absolute;top:50%;left:0;right:0;transform:translateY(-50%);padding:3rem 2rem;color:var(--text-inverse);z-index:2;display:flex;align-items:center;justify-content:center}@media (max-width: 768px){.login-page__overlay-content[_ngcontent-%COMP%]{padding:2rem 1.5rem}}.login-page__text-slider[_ngcontent-%COMP%]{position:relative;max-width:450px;width:100%;text-align:center}.login-page__text-slide[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;opacity:0;transition:opacity 1.5s ease-in-out}.login-page__text-slide.active[_ngcontent-%COMP%]{opacity:1}.login-page__hero-title[_ngcontent-%COMP%]{font-size:2.75rem;font-weight:800;margin:0;line-height:1.1;text-shadow:0 4px 8px rgba(0,0,0,.5);text-align:center;color:var(--text-inverse)}@media (max-width: 1024px){.login-page__hero-title[_ngcontent-%COMP%]{font-size:2.25rem}}@media (max-width: 768px){.login-page__hero-title[_ngcontent-%COMP%]{font-size:1.75rem}}.login-page__form-card[_ngcontent-%COMP%]{flex:1;background:var(--surface-raised);padding:3rem;position:relative;display:flex;flex-direction:column;justify-content:center}@media (max-width: 768px){.login-page__form-card[_ngcontent-%COMP%]{padding:2rem 1.5rem}}.login-page__theme-toggle[_ngcontent-%COMP%]{position:absolute;top:1.5rem;right:1.5rem;z-index:10}.login-page__form-header[_ngcontent-%COMP%]{margin-bottom:2.5rem;margin-top:1rem}.login-page__form-title[_ngcontent-%COMP%]{font-size:2rem;font-weight:800;margin:0 0 .75rem;background:var(--gradient-primary);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}[data-theme=dark][_ngcontent-%COMP%]   .login-page__form-title[_ngcontent-%COMP%]{background:var(--gradient-primary);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.login-page__form-subtitle[_ngcontent-%COMP%]{font-size:.95rem;color:var(--text-muted);margin:0}[data-theme=dark][_ngcontent-%COMP%]   .login-page__form-subtitle[_ngcontent-%COMP%]{color:var(--text-muted)}.login-page__form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.75rem}.login-page__field[_ngcontent-%COMP%]{width:100%}.login-page__label[_ngcontent-%COMP%]{display:block;font-size:.9rem;font-weight:600;color:var(--text-secondary);margin-bottom:.6rem}[data-theme=dark][_ngcontent-%COMP%]   .login-page__label[_ngcontent-%COMP%]{color:var(--text-inverse)}.login-page__forgot-password[_ngcontent-%COMP%]{text-align:right;margin-top:-.5rem}.login-page__forgot-link[_ngcontent-%COMP%]{font-size:.875rem;color:var(--color-primary-500);text-decoration:none;font-weight:600;transition:all .2s ease}.login-page__forgot-link[_ngcontent-%COMP%]:hover{color:var(--color-primary-600);text-decoration:underline}[data-theme=dark][_ngcontent-%COMP%]   .login-page__forgot-link[_ngcontent-%COMP%]{color:var(--color-primary-400)}[data-theme=dark][_ngcontent-%COMP%]   .login-page__forgot-link[_ngcontent-%COMP%]:hover{color:var(--color-primary-200)}.login-page__submit[_ngcontent-%COMP%]{margin-top:.75rem}.login-page__signup[_ngcontent-%COMP%]{text-align:center;margin-top:1.25rem}.login-page__signup-text[_ngcontent-%COMP%]{font-size:.875rem;color:var(--text-muted);margin:0}[data-theme=dark][_ngcontent-%COMP%]   .login-page__signup-text[_ngcontent-%COMP%]{color:var(--text-muted)}.login-page__signup-link[_ngcontent-%COMP%]{color:var(--color-primary-500);text-decoration:none;font-weight:600;transition:all .2s ease}.login-page__signup-link[_ngcontent-%COMP%]:hover{color:var(--color-primary-600);text-decoration:underline}[data-theme=dark][_ngcontent-%COMP%]   .login-page__signup-link[_ngcontent-%COMP%]{color:var(--color-primary-400)}[data-theme=dark][_ngcontent-%COMP%]   .login-page__signup-link[_ngcontent-%COMP%]:hover{color:var(--color-primary-200)}@keyframes _ngcontent-%COMP%_slideInLeft{0%{opacity:0;transform:translate(-50px)}to{opacity:1;transform:translate(0)}}@keyframes _ngcontent-%COMP%_slideInRight{0%{opacity:0;transform:translate(50px)}to{opacity:1;transform:translate(0)}}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_logoFloat{0%,to{transform:translateY(0)}50%{transform:translateY(-5px)}}.login-page__image-card[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideInLeft .8s ease-out}.login-page__form-card[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideInRight .8s ease-out .2s both}.login-page__quizzy-brand[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .6s ease-out .4s both,_ngcontent-%COMP%_logoFloat 3s ease-in-out 2s infinite}.login-page__overlay-content[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .8s ease-out .6s both}@media (max-width: 768px){.login-page__container[_ngcontent-%COMP%]{border-radius:16px}.login-page__image-card[_ngcontent-%COMP%]{order:1}.login-page__form-card[_ngcontent-%COMP%]{order:2}.login-page__quizzy-brand[_ngcontent-%COMP%]{top:1.5rem;left:1.5rem;padding:.75rem 1rem}.login-page__logo-circle[_ngcontent-%COMP%]{width:50px;height:50px}.login-page__logo-text[_ngcontent-%COMP%]{font-size:1.5rem}.login-page__brand-text[_ngcontent-%COMP%]{font-size:1.25rem}}.login-page__container[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:-2px;background:linear-gradient(45deg,var(--color-primary-500),var(--color-secondary-500),var(--color-secondary-500),var(--color-primary-500));border-radius:22px;z-index:-1;animation:_ngcontent-%COMP%_borderGlow 3s ease-in-out infinite}@keyframes _ngcontent-%COMP%_borderGlow{0%,to{opacity:.5}50%{opacity:.8}}']})};export{B as Login};
