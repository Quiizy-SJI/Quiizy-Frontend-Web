import{a as y,c as _,d as M}from"./chunk-AJHYPDYV.js";import{a as q}from"./chunk-5HN4BRYP.js";import"./chunk-LSE4QE4L.js";import{a as Q,b as I}from"./chunk-YL2QS7YU.js";import{d as D}from"./chunk-3WAO3F22.js";import{Ab as u,Ka as P,Mb as E,Ob as w,Va as v,Wa as p,Z as b,Za as O,_a as z,ab as t,ba as C,bb as e,ca as x,jb as f,lb as l,nb as g,p as h,pc as S,rc as T,wb as k,yb as n,za as s,zb as d}from"./chunk-T26DWB6S.js";var V=(r,o)=>o.id;function F(r,o){r&1&&(t(0,"div",19)(1,"mat-icon"),n(2,"hourglass_empty"),e(),t(3,"div",26)(4,"p"),n(5,"Loading recent activity..."),e()()())}function L(r,o){r&1&&(t(0,"div",20)(1,"mat-icon"),n(2,"info"),e(),t(3,"div",26)(4,"p"),n(5,"No quizzes created yet. Create your first exam!"),e()()())}function B(r,o){if(r&1&&(t(0,"span",33),n(1,"\u2022"),e(),t(2,"span",36)(3,"mat-icon"),n(4,"group"),e(),n(5),e()),r&2){let i=g().$implicit;s(5),u(" ",i.collaborators.length," ")}}function N(r,o){if(r&1){let i=f();t(0,"div",28),l("click",function(){let c=C(i).$implicit,m=g(2);return x(m.navigateToQuiz(c))}),t(1,"mat-icon"),n(2,"assignment"),e(),t(3,"div",26)(4,"div",29)(5,"span",30),n(6),e(),t(7,"span",31),n(8),e()(),t(9,"div",32)(10,"span"),n(11),e(),t(12,"span",33),n(13,"\u2022"),e(),t(14,"span"),n(15),e(),v(16,B,6,1),e(),t(17,"span",34),n(18),E(19,"date"),e()(),t(20,"mat-icon",35),n(21,"chevron_right"),e()()}if(r&2){let i=o.$implicit,a=g(2);s(6),d(i.type),s(),k("draft",a.isQuizDraft(i))("published",a.isQuizPublished(i)),s(),u(" ",i.status," "),s(3),u("",a.getQuestionCount(i)," questions"),s(4),u("",i.durationMinutes," min"),s(),p(i.collaborators&&i.collaborators.length>1?16:-1),s(2),d(w(19,10,i.date,"mediumDate"))}}function $(r,o){if(r&1&&O(0,N,22,13,"div",27,V),r&2){let i=g();z(i.recentQuizzes)}}function j(r,o){if(r&1){let i=f();t(0,"button",37),l("click",function(){C(i);let c=g();return x(c.navigateToDrafts())}),t(1,"mat-icon"),n(2,"edit_note"),e(),n(3),e()}if(r&2){let i=g();s(3),u(" Continue Drafts (",i.stats.draftQuizzes,") ")}}var A=class r{router=b(D);teacherApi=b(q);isQuizDraft=_;isQuizPublished=M;stats={draftQuizzes:0,publishedQuizzes:0,totalStudents:0,totalQuestions:0,totalCourses:0};recentQuizzes=[];courses=[];isLoading=!0;ngOnInit(){this.loadDashboardData()}getQuestionCount(o){return y(o)}async loadDashboardData(){this.isLoading=!0;try{let[o,i]=await Promise.all([h(this.teacherApi.getMyCourses()),h(this.teacherApi.getMyQuizzes())]);this.courses=o,this.recentQuizzes=[...i].sort((c,m)=>new Date(m.date??0).getTime()-new Date(c.date??0).getTime()).slice(0,5),this.stats.totalCourses=o.length,this.stats.draftQuizzes=i.filter(c=>_(c)).length,this.stats.publishedQuizzes=i.filter(c=>M(c)).length,this.stats.totalQuestions=i.reduce((c,m)=>c+y(m),0);let a=i.reduce((c,m)=>c+(m.studentQuizes?.length||0),0);this.stats.totalStudents=a}catch(o){console.error("Error loading dashboard data:",o)}finally{this.isLoading=!1}}navigateToCreateExam(){this.router.navigate(["/teacher/create-exam"])}navigateToQuestionBank(){this.router.navigate(["/teacher/question-bank"])}navigateToStatistics(){this.router.navigate(["/teacher/statistics"])}navigateToExamManager(){this.router.navigate(["/teacher/exam-manager"])}navigateToDrafts(){this.router.navigate(["/teacher/exam-manager"],{queryParams:{filter:"draft"}})}navigateToQuiz(o){_(o)?this.router.navigate(["/teacher/create-exam"],{queryParams:{draft:o.id}}):this.router.navigate(["/teacher/statistics"],{queryParams:{exam:o.id}})}static \u0275fac=function(i){return new(i||r)};static \u0275cmp=P({type:r,selectors:[["app-teacher-dashboard"]],decls:90,vars:7,consts:[[1,"teacher-dashboard"],[1,"dashboard-header"],[1,"stats-grid"],[1,"stat-card","warning-accent",3,"click"],[1,"stat-icon","warning"],[1,"stat-content"],[1,"stat-number"],[1,"stat-change","warning"],[1,"stat-card","success-accent",3,"click"],[1,"stat-icon","success"],[1,"stat-change","success"],[1,"stat-card"],[1,"stat-icon"],[1,"stat-change","neutral"],[1,"dashboard-content"],[1,"recent-activity"],[1,"section-header"],[1,"view-all-btn",3,"click"],[1,"activity-list"],[1,"activity-item"],[1,"activity-item","empty"],[1,"quick-actions"],[1,"action-buttons"],[1,"action-btn","primary",3,"click"],[1,"action-btn","secondary",3,"click"],[1,"action-btn","warning"],[1,"activity-details"],[1,"activity-item","clickable"],[1,"activity-item","clickable",3,"click"],[1,"activity-title"],[1,"quiz-type"],[1,"status-badge"],[1,"activity-meta"],[1,"separator"],[1,"activity-time"],[1,"activity-arrow"],[1,"collaborators-info"],[1,"action-btn","warning",3,"click"]],template:function(i,a){i&1&&(t(0,"div",0)(1,"div",1)(2,"h1"),n(3,"Teacher Dashboard"),e(),t(4,"p"),n(5,"Welcome back! Here's an overview of your teaching activities."),e()(),t(6,"div",2)(7,"div",3),l("click",function(){return a.navigateToDrafts()}),t(8,"div",4)(9,"mat-icon"),n(10,"edit_note"),e()(),t(11,"div",5)(12,"h3"),n(13,"Draft Exams"),e(),t(14,"p",6),n(15),e(),t(16,"span",7),n(17,"Awaiting publication"),e()()(),t(18,"div",8),l("click",function(){return a.navigateToExamManager()}),t(19,"div",9)(20,"mat-icon"),n(21,"check_circle"),e()(),t(22,"div",5)(23,"h3"),n(24,"Published Exams"),e(),t(25,"p",6),n(26),e(),t(27,"span",10),n(28,"Active & completed"),e()()(),t(29,"div",11)(30,"div",12)(31,"mat-icon"),n(32,"groups"),e()(),t(33,"div",5)(34,"h3"),n(35,"Total Students"),e(),t(36,"p",6),n(37),e(),t(38,"span",13),n(39,"Across all courses"),e()()(),t(40,"div",11)(41,"div",12)(42,"mat-icon"),n(43,"quiz"),e()(),t(44,"div",5)(45,"h3"),n(46,"Questions Created"),e(),t(47,"p",6),n(48),e(),t(49,"span",13),n(50,"In question bank"),e()()(),t(51,"div",11)(52,"div",12)(53,"mat-icon"),n(54,"school"),e()(),t(55,"div",5)(56,"h3"),n(57,"Courses"),e(),t(58,"p",6),n(59),e(),t(60,"span",13),n(61,"Assigned to you"),e()()()(),t(62,"div",14)(63,"div",15)(64,"div",16)(65,"h2"),n(66,"Recent Quizzes"),e(),t(67,"button",17),l("click",function(){return a.navigateToExamManager()}),n(68,"View All"),e()(),t(69,"div",18),v(70,F,6,0,"div",19)(71,L,6,0,"div",20)(72,$,2,0),e()(),t(73,"div",21)(74,"h2"),n(75,"Quick Actions"),e(),t(76,"div",22)(77,"button",23),l("click",function(){return a.navigateToCreateExam()}),t(78,"mat-icon"),n(79,"add"),e(),n(80," Create New Exam "),e(),t(81,"button",24),l("click",function(){return a.navigateToQuestionBank()}),t(82,"mat-icon"),n(83,"quiz"),e(),n(84," Question Bank "),e(),t(85,"button",24),l("click",function(){return a.navigateToStatistics()}),t(86,"mat-icon"),n(87,"analytics"),e(),n(88," View Statistics "),e(),v(89,j,4,1,"button",25),e()()()()),i&2&&(s(15),d(a.stats.draftQuizzes),s(11),d(a.stats.publishedQuizzes),s(11),d(a.stats.totalStudents),s(11),d(a.stats.totalQuestions),s(11),d(a.stats.totalCourses),s(11),p(a.isLoading?70:a.recentQuizzes.length===0?71:72),s(19),p(a.stats.draftQuizzes>0?89:-1))},dependencies:[T,I,Q,S],styles:[".teacher-dashboard[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.dashboard-header[_ngcontent-%COMP%]{margin-bottom:2rem}.dashboard-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;font-weight:600;margin-bottom:.5rem;color:var(--color-text-primary)}.dashboard-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--color-text-secondary);font-size:1rem}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1.5rem;margin-bottom:2rem}.stat-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:1.5rem;box-shadow:0 2px 8px #0000001a;display:flex;align-items:center;gap:1rem;transition:transform .2s,box-shadow .2s;cursor:pointer}.stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #00000026}.stat-card.warning-accent[_ngcontent-%COMP%]{border-left:4px solid var(--color-warning-500)}.stat-card.success-accent[_ngcontent-%COMP%]{border-left:4px solid var(--color-success-500)}.stat-icon[_ngcontent-%COMP%]{background:var(--color-primary-50);border-radius:12px;padding:1rem;display:flex;align-items:center;justify-content:center}.stat-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--color-primary-600);font-size:1.5rem;width:1.5rem;height:1.5rem}.stat-icon.warning[_ngcontent-%COMP%]{background:var(--color-warning-50)}.stat-icon.warning[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--color-warning-600)}.stat-icon.success[_ngcontent-%COMP%]{background:var(--color-success-50)}.stat-icon.success[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--color-success-600)}.stat-content[_ngcontent-%COMP%]{flex:1}.stat-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:var(--color-text-secondary);margin-bottom:.25rem}.stat-content[_ngcontent-%COMP%]   .stat-number[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:700;color:var(--color-text-primary);margin-bottom:.25rem}.stat-content[_ngcontent-%COMP%]   .stat-change[_ngcontent-%COMP%]{font-size:.75rem;font-weight:500}.stat-content[_ngcontent-%COMP%]   .stat-change.positive[_ngcontent-%COMP%]{color:var(--color-success-600)}.stat-content[_ngcontent-%COMP%]   .stat-change.negative[_ngcontent-%COMP%]{color:var(--color-error-600)}.stat-content[_ngcontent-%COMP%]   .stat-change.neutral[_ngcontent-%COMP%]{color:var(--color-text-secondary)}.stat-content[_ngcontent-%COMP%]   .stat-change.warning[_ngcontent-%COMP%]{color:var(--color-warning-600)}.stat-content[_ngcontent-%COMP%]   .stat-change.success[_ngcontent-%COMP%]{color:var(--color-success-600)}.dashboard-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:2fr 1fr;gap:2rem}@media (max-width: 768px){.dashboard-content[_ngcontent-%COMP%]{grid-template-columns:1fr}}.recent-activity[_ngcontent-%COMP%], .quick-actions[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:1.5rem;box-shadow:0 2px 8px #0000001a}.recent-activity[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .quick-actions[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;margin-bottom:1rem;color:var(--color-text-primary)}.section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:0}.view-all-btn[_ngcontent-%COMP%]{background:none;border:none;color:var(--color-primary-600);font-size:.875rem;font-weight:500;cursor:pointer;padding:.25rem .5rem;border-radius:4px;transition:background .2s}.view-all-btn[_ngcontent-%COMP%]:hover{background:var(--color-primary-50)}.activity-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem}.activity-item[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:.75rem;padding:.75rem;border-radius:8px;background:var(--color-background-subtle);transition:background .2s}.activity-item.clickable[_ngcontent-%COMP%]{cursor:pointer}.activity-item.clickable[_ngcontent-%COMP%]:hover{background:var(--color-background-muted)}.activity-item.empty[_ngcontent-%COMP%]{opacity:.7}.activity-item[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]{color:var(--color-primary-600);margin-top:.125rem}.activity-item[_ngcontent-%COMP%]   .activity-arrow[_ngcontent-%COMP%]{color:var(--color-text-tertiary);margin-left:auto;align-self:center}.activity-item[_ngcontent-%COMP%]   .activity-details[_ngcontent-%COMP%]{flex:1;min-width:0}.activity-item[_ngcontent-%COMP%]   .activity-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:.25rem;color:var(--color-text-primary)}.activity-item[_ngcontent-%COMP%]   .activity-details[_ngcontent-%COMP%]   .activity-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin-bottom:.25rem}.activity-item[_ngcontent-%COMP%]   .activity-details[_ngcontent-%COMP%]   .activity-title[_ngcontent-%COMP%]   .quiz-type[_ngcontent-%COMP%]{font-weight:600;color:var(--color-text-primary)}.activity-item[_ngcontent-%COMP%]   .activity-details[_ngcontent-%COMP%]   .activity-meta[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.375rem;font-size:.8125rem;color:var(--color-text-secondary);margin-bottom:.25rem}.activity-item[_ngcontent-%COMP%]   .activity-details[_ngcontent-%COMP%]   .activity-meta[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{color:var(--color-text-tertiary)}.activity-item[_ngcontent-%COMP%]   .activity-details[_ngcontent-%COMP%]   .activity-meta[_ngcontent-%COMP%]   .collaborators-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.125rem;color:var(--color-primary-600)}.activity-item[_ngcontent-%COMP%]   .activity-details[_ngcontent-%COMP%]   .activity-meta[_ngcontent-%COMP%]   .collaborators-info[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:.875rem;width:.875rem;height:.875rem}.activity-item[_ngcontent-%COMP%]   .activity-details[_ngcontent-%COMP%]   .activity-time[_ngcontent-%COMP%]{font-size:.75rem;color:var(--color-text-tertiary)}.status-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:.125rem .5rem;border-radius:10px;font-size:.625rem;font-weight:600;text-transform:uppercase;letter-spacing:.5px}.status-badge.draft[_ngcontent-%COMP%]{background:var(--color-warning-100);color:var(--color-warning-700)}.status-badge.published[_ngcontent-%COMP%]{background:var(--color-success-100);color:var(--color-success-700)}.action-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem}.action-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.75rem 1rem;border:none;border-radius:8px;font-weight:500;cursor:pointer;transition:all .2s}.action-btn.primary[_ngcontent-%COMP%]{background:var(--color-primary-600);color:#fff}.action-btn.primary[_ngcontent-%COMP%]:hover{background:var(--color-primary-700)}.action-btn.secondary[_ngcontent-%COMP%]{background:var(--color-background-subtle);color:var(--color-text-primary)}.action-btn.secondary[_ngcontent-%COMP%]:hover{background:var(--color-background-muted)}.action-btn.warning[_ngcontent-%COMP%]{background:var(--color-warning-100);color:var(--color-warning-700)}.action-btn.warning[_ngcontent-%COMP%]:hover{background:var(--color-warning-200)}"]})};export{A as TeacherDashboard};
