import{b as se}from"./chunk-45LMPNY4.js";import{a as re}from"./chunk-WPWJA746.js";import{b as N,k as ae}from"./chunk-TEBYAPM2.js";import{a as Z,d as ee,h as te,l as ne,o as ie,t as oe}from"./chunk-UUU7BI2K.js";import{c as Y,f as W,n as J}from"./chunk-XIAE3S6L.js";import{a as K,b as H}from"./chunk-W67SSUM4.js";import"./chunk-23TWDL4C.js";import"./chunk-5XPIWXNK.js";import{$a as x,A as M,Ab as p,Bb as B,Ka as F,Lb as A,Nb as D,Q as f,Sb as c,U as L,Va as g,Vb as I,Wa as u,Y as R,Ya as w,Z as Q,Za as C,_a as h,ab as o,ba as P,bb as n,ca as O,cb as b,ec as j,jb as S,l as v,la as y,lb as z,lc as U,mc as G,nb as d,nc as X,p as E,q as k,vb as V,wb as $,yb as r,za as s,zb as _}from"./chunk-XVADYIPR.js";var T=class i{constructor(e){this.api=e}basePath="/teacher/sentiment-analyses";analysisState=y({loading:!1,error:null,data:null});analysesListState=y({loading:!1,error:null,data:[]});analysis=c(()=>this.analysisState().data);analysisLoading=c(()=>this.analysisState().loading);analysisError=c(()=>this.analysisState().error);analysesList=c(()=>this.analysesListState().data);analysesListLoading=c(()=>this.analysesListState().loading);analysesListError=c(()=>this.analysesListState().error);hasAnalysis=c(()=>this.analysisState().data!==null);isAnalysisCompleted=c(()=>this.analysisState().data?.status==="COMPLETED");getById(e){return this.api.get(`${this.basePath}/${e}`)}getByQuiz(e,t){let a={quizId:e};return t&&(a.questionId=t),this.api.get(this.basePath,{params:a})}getByQuizAndQuestion(e,t){return this.getByQuiz(e,t).pipe(k(a=>a.length>0?a[0]:null))}analyze(e){let t={quizId:N(e.quizId),questionId:N(e.questionId)};return e.model&&(t.model=String(e.model)),this.api.post(this.basePath,t)}loadAnalysis(e){this.analysisState.set({loading:!0,error:null,data:null}),this.getById(e).pipe(f(t=>{this.analysisState.set({loading:!1,error:null,data:t})}),M(t=>{let a=t?.error?.message||"Failed to load sentiment analysis";return this.analysisState.set({loading:!1,error:a,data:null}),v(null)})).subscribe()}loadAnalysesList(e,t){this.analysesListState.set({loading:!0,error:null,data:[]}),this.getByQuiz(e,t).pipe(f(a=>{this.analysesListState.set({loading:!1,error:null,data:a})}),M(a=>{let l=a?.error?.message||"Failed to load sentiment analyses";return this.analysesListState.set({loading:!1,error:l,data:[]}),v([])})).subscribe()}runAnalysis(e){return this.analysisState.set({loading:!0,error:null,data:null}),this.analyze(e).pipe(f(t=>{this.analysisState.set({loading:!1,error:null,data:t})}),M(t=>{let a=t?.error?.message||"Failed to run sentiment analysis";throw this.analysisState.set({loading:!1,error:a,data:null}),t}))}loadExistingAnalysis(e,t){this.analysisState.set({loading:!0,error:null,data:null}),this.getByQuizAndQuestion(e,t).pipe(f(a=>{this.analysisState.set({loading:!1,error:null,data:a})}),M(a=>{if(a?.status===404)return this.analysisState.set({loading:!1,error:null,data:null}),v(null);let l=a?.error?.message||"Failed to check for existing analysis";return this.analysisState.set({loading:!1,error:l,data:null}),v(null)})).subscribe()}clearAnalysis(){this.analysisState.set({loading:!1,error:null,data:null})}clearAnalysesList(){this.analysesListState.set({loading:!1,error:null,data:[]})}getSentimentLabel(e){return{POSITIVE:"Positive",NEUTRAL:"Neutral",NEGATIVE:"Negative",MIXED:"Mixed"}[e]||e}getSentimentClass(e){return{POSITIVE:"sentiment-positive",NEUTRAL:"sentiment-neutral",NEGATIVE:"sentiment-negative",MIXED:"sentiment-mixed"}[e]||""}formatConfidence(e){return`${Math.round(e*100)}%`}formatSentimentScore(e){return e===void 0?"N/A":`${Math.round((e+1)*50)}%`}static \u0275fac=function(t){return new(t||i)(R(ae))};static \u0275prov=L({token:i,factory:i.\u0275fac,providedIn:"root"})};var ge=(i,e)=>e.id,ue=(i,e)=>e.label,_e=(i,e)=>e.theme;function pe(i,e){if(i&1&&(o(0,"ui-alert",3)(1,"mat-icon"),r(2,"error_outline"),n(),r(3),n()),i&2){let t=d();s(3),p(" ",t.errorMessage()," ")}}function ye(i,e){i&1&&(o(0,"div",4),b(1,"ui-spinner",5),o(2,"p"),r(3,"Loading quizzes..."),n()())}function Ce(i,e){i&1&&(o(0,"div",8)(1,"mat-icon"),r(2,"quiz"),n(),o(3,"h3"),r(4,"No quizzes available"),n(),o(5,"p"),r(6,"There are no quizzes with open-ended questions available for analysis."),n()())}function he(i,e){i&1&&(o(0,"ui-badge",17),r(1,"Completed"),n())}function xe(i,e){i&1&&(o(0,"ui-badge",18),r(1,"In Progress"),n())}function ve(i,e){i&1&&(o(0,"div",19),b(1,"ui-spinner",24),o(2,"span"),r(3,"Checking for existing analyses..."),n()())}function Me(i,e){if(i&1){let t=S();o(0,"button",27),z("click",function(){let l=P(t).$implicit,m=d(5);return O(m.viewExistingAnalysis(l))}),o(1,"div",28)(2,"ui-badge",29),r(3),n(),o(4,"span",30),r(5),n()(),o(6,"span",31),r(7),n()()}if(i&2){let t,a=e.$implicit,l=d(5);$("active",((t=l.analysisResult())==null?null:t.id)===a.id),s(2),x("color",a.status==="COMPLETED"?"success":"danger"),s(),p(" ",a.status," "),s(2),_(l.formatDateTime(a.analyzedAt)),s(2),_(a.model)}}function fe(i,e){if(i&1&&(o(0,"div",20)(1,"h4")(2,"mat-icon"),r(3,"history"),n(),r(4," Previous Analyses "),n(),o(5,"div",25),C(6,Me,8,6,"button",26,ge),n()()),i&2){let t=d(4);s(6),h(t.existingAnalyses())}}function Pe(i,e){i&1&&(b(0,"ui-spinner",24),o(1,"span"),r(2,"Analyzing..."),n())}function Oe(i,e){if(i&1&&(o(0,"mat-icon"),r(1,"auto_awesome"),n(),o(2,"span"),r(3),n()),i&2){let t=d(4);s(3),_(t.hasExistingAnalysis()?"Run New Analysis":"Run AI Analysis")}}function be(i,e){i&1&&(o(0,"p",23),r(1,"Quiz must be completed before analysis"),n())}function Se(i,e){if(i&1){let t=S();o(0,"div",13)(1,"div",14)(2,"span",15),r(3,"Question:"),n(),o(4,"span",16),r(5),n()(),o(6,"div",14)(7,"span",15),r(8,"Students:"),n(),o(9,"span",16),r(10),n()(),o(11,"div",14)(12,"span",15),r(13,"Status:"),n(),g(14,he,2,0,"ui-badge",17)(15,xe,2,0,"ui-badge",18),n()(),g(16,ve,4,0,"div",19)(17,fe,8,0,"div",20),o(18,"div",21)(19,"ui-button",22),z("click",function(){P(t);let l=d(3);return O(l.runAnalysis())}),g(20,Pe,3,0)(21,Oe,4,1),n(),g(22,be,2,0,"p",23),n()}if(i&2){let t=e,a=d(3);s(5),_(t.openEndedQuestion==null?null:t.openEndedQuestion.question),s(5),B("",t.submittedCount," / ",t.studentCount," submitted"),s(4),u(t.isFinished?14:15),s(2),u(a.isLoadingExisting()?16:a.hasExistingAnalysis()?17:-1),s(3),x("disabled",!a.canAnalyze()),s(),u(a.isAnalyzing()?20:21),s(2),u(t.isFinished?-1:22)}}function ze(i,e){if(i&1){let t=S();o(0,"div",9)(1,"ui-select",12),z("ngModelChange",function(l){P(t);let m=d(2);return O(m.onQuizSelected(l))}),n(),g(2,Se,23,8),n()}if(i&2){let t,a=d(2);s(),x("options",a.quizSelectOptions())("ngModel",a.selectedQuizId())("searchable",!0),s(),u((t=a.selectedQuiz())?2:-1,t)}}function Ee(i,e){if(i&1&&(o(0,"div",38)(1,"span",39),r(2),A(3,"number"),n(),o(4,"span",40),r(5,"Score (-1 to 1)"),n()()),i&2){let t=d();s(2),_(D(3,1,t.sentimentScore,"1.2-2"))}}function we(i,e){if(i&1&&(o(0,"div",49)(1,"div",50)(2,"span",51),r(3),n(),o(4,"span",52),r(5),A(6,"number"),n()(),o(7,"div",53),b(8,"div",54),n()()),i&2){let t=e.$implicit,a=e.$index,l=d(4);s(3),_(t.label),s(2),p("",D(6,6,t.score*100,"1.0-0"),"%"),s(3),V("width",l.getEmotionBarWidth(t.score))("background-color",l.getEmotionColor(a))}}function Ae(i,e){if(i&1&&(o(0,"ui-card",42)(1,"h3")(2,"mat-icon"),r(3,"mood"),n(),r(4," Detected Emotions "),n(),o(5,"div",48),C(6,we,9,9,"div",49,ue),n()()),i&2){let t=d(3);s(6),h(t.topEmotions())}}function De(i,e){if(i&1&&(o(0,"li"),r(1),n()),i&2){let t=e.$implicit;s(),p('"',t,'"')}}function Ie(i,e){if(i&1&&(o(0,"ul",60),C(1,De,2,1,"li",null,w),n()),i&2){let t=d().$implicit;s(),h(t.examples)}}function Te(i,e){if(i&1&&(o(0,"div",56)(1,"div",57)(2,"span",58),r(3),n(),o(4,"ui-badge",59),r(5),n()(),g(6,Ie,3,0,"ul",60),n()),i&2){let t=e.$implicit;s(3),_(t.theme),s(2),p("",t.frequency," mentions"),s(),u(t.examples&&t.examples.length>0?6:-1)}}function Qe(i,e){if(i&1&&(o(0,"ui-card",43)(1,"h3")(2,"mat-icon"),r(3,"tag"),n(),r(4," Key Themes "),n(),o(5,"div",55),C(6,Te,7,3,"div",56,_e),n()()),i&2){let t=d(3);s(6),h(t.themes())}}function Ne(i,e){if(i&1&&(o(0,"li")(1,"mat-icon"),r(2,"arrow_right"),n(),r(3),n()),i&2){let t=e.$implicit;s(3),p(" ",t," ")}}function qe(i,e){if(i&1&&(o(0,"ui-card",45)(1,"h3")(2,"mat-icon"),r(3,"lightbulb"),n(),r(4," Actionable Insights "),n(),o(5,"ul",61),C(6,Ne,4,1,"li",null,w),n()()),i&2){let t=d(3);s(6),h(t.insights())}}function ke(i,e){if(i&1&&(o(0,"li")(1,"mat-icon"),r(2,"report_problem"),n(),r(3),n()),i&2){let t=e.$implicit;s(3),p(" ",t," ")}}function Le(i,e){if(i&1&&(o(0,"ui-card",46)(1,"h3")(2,"mat-icon"),r(3,"warning_amber"),n(),r(4," Student Concerns "),n(),o(5,"ul",62),C(6,ke,4,1,"li",null,w),n()()),i&2){let t=d(3);s(6),h(t.concerns())}}function Re(i,e){if(i&1&&(o(0,"div",10)(1,"ui-card",32)(2,"div",33)(3,"div",34)(4,"mat-icon"),r(5),n()(),o(6,"div",35)(7,"h2"),r(8),n(),o(9,"p",36),r(10),n()()(),o(11,"div",37)(12,"div",38)(13,"span",39),r(14),n(),o(15,"span",40),r(16,"Confidence"),n()(),o(17,"div",38)(18,"span",39),r(19),n(),o(20,"span",40),r(21,"Responses Analyzed"),n()(),o(22,"div",38)(23,"span",39),r(24),n(),o(25,"span",40),r(26,"Empty Responses"),n()(),g(27,Ee,6,4,"div",38),n()(),o(28,"div",41),g(29,Ae,8,0,"ui-card",42),g(30,Qe,8,0,"ui-card",43),n(),o(31,"div",44),g(32,qe,8,0,"ui-card",45),g(33,Le,8,0,"ui-card",46),n(),o(34,"div",47)(35,"span")(36,"mat-icon"),r(37,"smart_toy"),n(),r(38),n(),o(39,"span")(40,"mat-icon"),r(41,"schedule"),n(),r(42),A(43,"date"),n()()()),i&2){let t,a,l=e,m=d(2);s(),x("ngClass",m.sentimentColor()),s(2),x("ngClass",m.sentimentColor()),s(2),_(m.sentimentIcon()),s(3),p("",l.overallSentiment," Sentiment"),s(2),_(l.summary),s(4),p("",m.confidencePercent(),"%"),s(5),_(m.answersAnalyzed().provided),s(5),_(m.answersAnalyzed().empty),s(3),u(l.sentimentScore!==void 0?27:-1),s(2),u(m.topEmotions().length>0?29:-1),s(),u(m.themes().length>0?30:-1),s(2),u(m.insights().length>0?32:-1),s(),u(m.concerns().length>0?33:-1),s(5),p(" Analyzed by: ",(t=m.analysisResult())==null?null:t.model," "),s(4),p(" ",D(43,15,(a=m.analysisResult())==null?null:a.analyzedAt,"medium")," ")}}function Fe(i,e){if(i&1){let t=S();o(0,"ui-card",11)(1,"div",63)(2,"mat-icon"),r(3,"error_outline"),n(),o(4,"h3"),r(5,"Analysis Failed"),n(),o(6,"p"),r(7),n(),o(8,"ui-button",64),z("click",function(){P(t);let l=d(2);return O(l.runAnalysis())}),o(9,"mat-icon"),r(10,"refresh"),n(),r(11," Retry Analysis "),n()()()}if(i&2){let t,a=d(2);s(7),_(((t=a.analysisResult())==null?null:t.error)??"An unknown error occurred during analysis.")}}function Ve(i,e){if(i&1&&(o(0,"ui-card",6)(1,"div",7)(2,"h2"),r(3,"Select a Quiz to Analyze"),n(),o(4,"p"),r(5,"Choose a completed quiz with an open-ended question"),n()(),g(6,Ce,7,0,"div",8)(7,ze,3,4,"div",9),n(),g(8,Re,44,18,"div",10),g(9,Fe,12,1,"ui-card",11)),i&2){let t,a,l=d();s(6),u(l.quizOptions().length===0?6:7),s(2),u((t=l.result())?8:-1,t),s(),u(((a=l.analysisResult())==null?null:a.status)==="FAILED"?9:-1)}}var le=class i{sentimentService=Q(T);teacherApi=Q(re);role=I("teacher");pageTitle=I("Sentiment Analysis");pageSubtitle=I("Analyze student emotions and engagement in open-ended question responses using AI.");isLoadingQuizzes=y(!0);isAnalyzing=y(!1);isLoadingExisting=y(!1);errorMessage=y(null);quizOptions=y([]);selectedQuizId=y(null);analysisResult=y(null);existingAnalyses=y([]);selectedQuiz=c(()=>{let e=this.selectedQuizId();return e?this.quizOptions().find(t=>t.quizId===e)??null:null});quizSelectOptions=c(()=>this.quizOptions().map(e=>({value:e.quizId,label:`${e.label} (${e.date})`})));canAnalyze=c(()=>{let e=this.selectedQuiz();return e&&e.openEndedQuestion&&e.isFinished&&!this.isAnalyzing()});result=c(()=>{let e=this.analysisResult();return!e||e.status!=="COMPLETED"?null:e.resultJson??null});sentimentColor=c(()=>{let e=this.result();if(!e)return"neutral";switch(e.overallSentiment){case"POSITIVE":return"success";case"NEGATIVE":return"error";case"MIXED":return"warning";default:return"neutral"}});sentimentIcon=c(()=>{let e=this.result();if(!e)return"sentiment_neutral";switch(e.overallSentiment){case"POSITIVE":return"sentiment_very_satisfied";case"NEGATIVE":return"sentiment_very_dissatisfied";case"MIXED":return"sentiment_dissatisfied";default:return"sentiment_neutral"}});confidencePercent=c(()=>{let e=this.result();return e?Math.round(e.confidence*100):0});sentimentScorePercent=c(()=>{let e=this.result();return!e||e.sentimentScore===void 0?50:Math.round((e.sentimentScore+1)/2*100)});topEmotions=c(()=>{let e=this.result();return e?.emotions?[...e.emotions].sort((t,a)=>a.score-t.score).slice(0,5):[]});themes=c(()=>this.result()?.themes??[]);concerns=c(()=>this.result()?.concerns??[]);insights=c(()=>this.result()?.actionableInsights??[]);answersAnalyzed=c(()=>{let e=this.result();return e?{provided:e.counts.answersProvided,empty:e.counts.answersEmpty,total:e.counts.answersProvided+e.counts.answersEmpty}:{provided:0,empty:0,total:0}});hasExistingAnalysis=c(()=>this.existingAnalyses().length>0);latestExistingAnalysis=c(()=>{let e=this.existingAnalyses();return e.length>0?e[0]:null});ngOnInit(){this.loadQuizzes()}async loadQuizzes(){this.isLoadingQuizzes.set(!0),this.errorMessage.set(null);try{let e=await E(this.teacherApi.getMyQuizzes()),t=new Date,a=e.map(l=>{let m=se(l)??null,ce=this.getQuizEndTime(l)<t,q=l.courseQuizes?.[0]?.course?.teachingUnit?.name??l.courseQuizes?.[0]?.course?.classAcademicYear?.class?.name??"Unknown Course";return{quizId:l.id,label:`${l.type} - ${q}`,date:this.formatDate(l.date),type:l.type,courseName:q,openEndedQuestion:m,isFinished:ce,studentCount:l.studentQuizes?.length??0,submittedCount:l.studentQuizes?.filter(de=>de.status==="SUBMITTED").length??0}}).filter(l=>l.openEndedQuestion!==null);this.quizOptions.set(a)}catch(e){console.error("Error loading quizzes:",e),this.errorMessage.set("Failed to load quizzes. Please try again.")}finally{this.isLoadingQuizzes.set(!1)}}async loadExistingAnalyses(e,t){this.isLoadingExisting.set(!0);try{let a=await E(this.sentimentService.getByQuiz(e,t));this.existingAnalyses.set(a);let l=a.find(m=>m.status==="COMPLETED");l&&this.analysisResult.set(l)}catch(a){console.error("Error loading existing analyses:",a),this.existingAnalyses.set([])}finally{this.isLoadingExisting.set(!1)}}onQuizSelected(e){this.selectedQuizId.set(e),this.analysisResult.set(null),this.existingAnalyses.set([]),this.errorMessage.set(null);let t=this.quizOptions().find(a=>a.quizId===e);t?.openEndedQuestion&&this.loadExistingAnalyses(e,t.openEndedQuestion.questionId)}async runAnalysis(){let e=this.selectedQuiz();if(e?.openEndedQuestion){this.isAnalyzing.set(!0),this.errorMessage.set(null);try{let t=await E(this.sentimentService.analyze({quizId:e.quizId,questionId:e.openEndedQuestion.questionId}));this.analysisResult.set(t),this.existingAnalyses.update(a=>[t,...a]),t.status==="FAILED"&&this.errorMessage.set(t.error??"Analysis failed. Please try again.")}catch(t){console.error("Error running sentiment analysis:",t);let a=t instanceof Error?t.message:"Failed to run sentiment analysis. Please try again.";this.errorMessage.set(a)}finally{this.isAnalyzing.set(!1)}}}viewExistingAnalysis(e){this.analysisResult.set(e)}getQuizEndTime(e){let t=new Date(e.date);return new Date(t.getTime()+e.durationMinutes*6e4)}formatDate(e){return new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}formatDateTime(e){return e?new Date(e).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit"}):"N/A"}getEmotionBarWidth(e){return`${Math.round(e*100)}%`}getEmotionColor(e){let t=["var(--color-primary-500)","var(--color-success-500)","var(--color-warning-500)","var(--color-error-500)","var(--color-info-500)"];return t[e%t.length]}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=F({type:i,selectors:[["app-sentiment-analysis-page"]],inputs:{role:[1,"role"],pageTitle:[1,"pageTitle"],pageSubtitle:[1,"pageSubtitle"]},decls:12,vars:4,consts:[[1,"sentiment-analysis"],[1,"page-header"],[1,"header-content"],["color","danger",1,"error-alert"],[1,"loading-state"],["size","lg"],[1,"selection-card"],[1,"selection-header"],[1,"empty-state"],[1,"quiz-selector"],[1,"results-section"],[1,"failed-card"],["label","Quiz","placeholder","Select a quiz...",3,"ngModelChange","options","ngModel","searchable"],[1,"quiz-details"],[1,"detail-row"],[1,"label"],[1,"value"],["color","success"],["color","warning"],[1,"existing-loading"],[1,"existing-analyses"],[1,"analyze-actions"],[3,"click","disabled"],[1,"hint"],["size","sm"],[1,"analyses-list"],[1,"analysis-item",3,"active"],[1,"analysis-item",3,"click"],[1,"analysis-item-info"],["size","sm",3,"color"],[1,"analysis-date"],[1,"analysis-model"],[1,"sentiment-overview",3,"ngClass"],[1,"overview-header"],[1,"sentiment-icon-wrapper",3,"ngClass"],[1,"overview-content"],[1,"summary"],[1,"metrics-grid"],[1,"metric"],[1,"metric-value"],[1,"metric-label"],[1,"analysis-grid"],[1,"emotions-card"],[1,"themes-card"],[1,"insights-grid"],[1,"insights-card"],[1,"concerns-card"],[1,"analysis-meta"],[1,"emotions-list"],[1,"emotion-item"],[1,"emotion-header"],[1,"emotion-label"],[1,"emotion-score"],[1,"emotion-bar-track"],[1,"emotion-bar-fill"],[1,"themes-list"],[1,"theme-item"],[1,"theme-header"],[1,"theme-name"],["color","neutral"],[1,"theme-examples"],[1,"insights-list"],[1,"concerns-list"],[1,"failed-content"],["variant","outline",3,"click"]],template:function(t,a){t&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1")(4,"mat-icon"),r(5,"psychology"),n(),r(6),n(),o(7,"p"),r(8),n()()(),g(9,pe,4,1,"ui-alert",3),g(10,ye,4,0,"div",4)(11,Ve,10,3),n()),t&2&&(s(6),p(" ",a.pageTitle()," "),s(2),_(a.pageSubtitle()),s(),u(a.errorMessage()?9:-1),s(),u(a.isLoadingQuizzes()?10:11))},dependencies:[X,j,H,K,J,Y,W,ne,ee,Z,oe,ie,te,G,U],styles:[".sentiment-analysis[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:1.5rem}.page-header[_ngcontent-%COMP%]{margin-bottom:2rem}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;font-size:1.75rem;font-weight:600;color:var(--color-text-primary);margin-bottom:.5rem}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:2rem;width:2rem;height:2rem;color:var(--color-primary-500)}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--color-text-secondary);font-size:1rem}.error-alert[_ngcontent-%COMP%]{margin-bottom:1.5rem}.error-alert[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:.5rem}.loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:4rem 2rem;color:var(--color-text-secondary)}.loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:1rem;font-size:1rem}.selection-card[_ngcontent-%COMP%]{margin-bottom:2rem}.selection-card[_ngcontent-%COMP%]   .selection-header[_ngcontent-%COMP%]{margin-bottom:1.5rem}.selection-card[_ngcontent-%COMP%]   .selection-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:var(--color-text-primary);margin-bottom:.25rem}.selection-card[_ngcontent-%COMP%]   .selection-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem;color:var(--color-text-secondary)}.empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:3rem 2rem;text-align:center;color:var(--color-text-secondary)}.empty-state[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:3rem;width:3rem;height:3rem;margin-bottom:1rem;opacity:.5}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:var(--color-text-primary);margin-bottom:.5rem}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem}.quiz-selector[_ngcontent-%COMP%]   .select-wrapper[_ngcontent-%COMP%]{margin-bottom:1.5rem}.quiz-selector[_ngcontent-%COMP%]   .select-wrapper[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:.875rem;font-weight:500;color:var(--color-text-secondary);margin-bottom:.5rem}.quiz-selector[_ngcontent-%COMP%]   .select-wrapper[_ngcontent-%COMP%]   .quiz-select[_ngcontent-%COMP%]{width:100%;max-width:500px;padding:.75rem 1rem;font-size:1rem;border:1px solid var(--color-border);border-radius:8px;background-color:var(--color-bg-primary);color:var(--color-text-primary);cursor:pointer;transition:border-color .2s,box-shadow .2s}.quiz-selector[_ngcontent-%COMP%]   .select-wrapper[_ngcontent-%COMP%]   .quiz-select[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--color-primary-500);box-shadow:0 0 0 3px var(--color-primary-100)}.quiz-selector[_ngcontent-%COMP%]   .select-wrapper[_ngcontent-%COMP%]   .quiz-select[_ngcontent-%COMP%]:hover{border-color:var(--color-primary-400)}.quiz-details[_ngcontent-%COMP%]{background-color:var(--color-bg-secondary);border-radius:8px;padding:1rem;margin-bottom:1.5rem}.quiz-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:.75rem;padding:.5rem 0}.quiz-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid var(--color-border)}.quiz-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:var(--color-text-secondary);min-width:80px}.quiz-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:.875rem;color:var(--color-text-primary);flex:1}.existing-loading[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.75rem;font-size:.875rem;color:var(--color-text-secondary);margin-bottom:1rem}.existing-analyses[_ngcontent-%COMP%]{margin-bottom:1.5rem}.existing-analyses[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.875rem;font-weight:600;color:var(--color-text-secondary);margin-bottom:.75rem}.existing-analyses[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.125rem;width:1.125rem;height:1.125rem}.analyses-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem}.analysis-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem;padding:.75rem 1rem;background-color:var(--color-bg-secondary);border:1px solid var(--color-border);border-radius:8px;cursor:pointer;transition:all .2s;text-align:left}.analysis-item[_ngcontent-%COMP%]:hover{background-color:var(--color-bg-tertiary);border-color:var(--color-primary-300)}.analysis-item.active[_ngcontent-%COMP%]{border-color:var(--color-primary-500);background-color:var(--color-primary-50)}.analysis-item[_ngcontent-%COMP%]   .analysis-item-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.analysis-item[_ngcontent-%COMP%]   .analysis-date[_ngcontent-%COMP%]{font-size:.75rem;color:var(--color-text-secondary)}.analysis-item[_ngcontent-%COMP%]   .analysis-model[_ngcontent-%COMP%]{font-size:.6875rem;color:var(--color-text-tertiary)}.analyze-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.analyze-actions[_ngcontent-%COMP%]   ui-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:.5rem}.analyze-actions[_ngcontent-%COMP%]   ui-button[_ngcontent-%COMP%]   ui-spinner[_ngcontent-%COMP%]{margin-right:.5rem}.analyze-actions[_ngcontent-%COMP%]   .hint[_ngcontent-%COMP%]{font-size:.75rem;color:var(--color-warning-600);font-style:italic}.results-section[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.sentiment-overview[_ngcontent-%COMP%]{margin-bottom:1.5rem}.sentiment-overview[_ngcontent-%COMP%]   .overview-header[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:1.25rem;margin-bottom:1.5rem}.sentiment-overview[_ngcontent-%COMP%]   .sentiment-icon-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:64px;height:64px;border-radius:16px;flex-shrink:0}.sentiment-overview[_ngcontent-%COMP%]   .sentiment-icon-wrapper[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:2.5rem;width:2.5rem;height:2.5rem}.sentiment-overview[_ngcontent-%COMP%]   .sentiment-icon-wrapper.success[_ngcontent-%COMP%]{background-color:var(--color-success-100)}.sentiment-overview[_ngcontent-%COMP%]   .sentiment-icon-wrapper.success[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--color-success-600)}.sentiment-overview[_ngcontent-%COMP%]   .sentiment-icon-wrapper.error[_ngcontent-%COMP%]{background-color:var(--color-error-100)}.sentiment-overview[_ngcontent-%COMP%]   .sentiment-icon-wrapper.error[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--color-error-600)}.sentiment-overview[_ngcontent-%COMP%]   .sentiment-icon-wrapper.warning[_ngcontent-%COMP%]{background-color:var(--color-warning-100)}.sentiment-overview[_ngcontent-%COMP%]   .sentiment-icon-wrapper.warning[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--color-warning-600)}.sentiment-overview[_ngcontent-%COMP%]   .sentiment-icon-wrapper.neutral[_ngcontent-%COMP%]{background-color:var(--color-neutral-100)}.sentiment-overview[_ngcontent-%COMP%]   .sentiment-icon-wrapper.neutral[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--color-neutral-600)}.sentiment-overview[_ngcontent-%COMP%]   .overview-content[_ngcontent-%COMP%]{flex:1}.sentiment-overview[_ngcontent-%COMP%]   .overview-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:var(--color-text-primary);margin-bottom:.5rem;text-transform:capitalize}.sentiment-overview[_ngcontent-%COMP%]   .overview-content[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]{font-size:1rem;color:var(--color-text-secondary);line-height:1.5}.metrics-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:1rem;padding-top:1.5rem;border-top:1px solid var(--color-border)}.metric[_ngcontent-%COMP%]{text-align:center;padding:1rem;background-color:var(--color-bg-secondary);border-radius:8px}.metric[_ngcontent-%COMP%]   .metric-value[_ngcontent-%COMP%]{display:block;font-size:1.75rem;font-weight:700;color:var(--color-text-primary);margin-bottom:.25rem}.metric[_ngcontent-%COMP%]   .metric-label[_ngcontent-%COMP%]{font-size:.75rem;color:var(--color-text-secondary);text-transform:uppercase;letter-spacing:.5px}.analysis-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(350px,1fr));gap:1.5rem;margin-bottom:1.5rem}.emotions-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:1.125rem;font-weight:600;color:var(--color-text-primary);margin-bottom:1.25rem}.emotions-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.25rem;width:1.25rem;height:1.25rem;color:var(--color-primary-500)}.emotions-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.emotion-item[_ngcontent-%COMP%]   .emotion-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:.5rem}.emotion-item[_ngcontent-%COMP%]   .emotion-header[_ngcontent-%COMP%]   .emotion-label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:var(--color-text-primary);text-transform:capitalize}.emotion-item[_ngcontent-%COMP%]   .emotion-header[_ngcontent-%COMP%]   .emotion-score[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:var(--color-text-secondary)}.emotion-item[_ngcontent-%COMP%]   .emotion-bar-track[_ngcontent-%COMP%]{height:8px;background-color:var(--color-bg-tertiary);border-radius:4px;overflow:hidden}.emotion-item[_ngcontent-%COMP%]   .emotion-bar-track[_ngcontent-%COMP%]   .emotion-bar-fill[_ngcontent-%COMP%]{height:100%;border-radius:4px;transition:width .3s ease-out}.themes-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:1.125rem;font-weight:600;color:var(--color-text-primary);margin-bottom:1.25rem}.themes-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.25rem;width:1.25rem;height:1.25rem;color:var(--color-primary-500)}.themes-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.theme-item[_ngcontent-%COMP%]{padding:1rem;background-color:var(--color-bg-secondary);border-radius:8px}.theme-item[_ngcontent-%COMP%]   .theme-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:.5rem}.theme-item[_ngcontent-%COMP%]   .theme-header[_ngcontent-%COMP%]   .theme-name[_ngcontent-%COMP%]{font-size:.9375rem;font-weight:600;color:var(--color-text-primary)}.theme-item[_ngcontent-%COMP%]   .theme-examples[_ngcontent-%COMP%]{margin:0;padding-left:1rem;list-style:none}.theme-item[_ngcontent-%COMP%]   .theme-examples[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:.8125rem;color:var(--color-text-secondary);font-style:italic;padding:.25rem 0}.insights-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(350px,1fr));gap:1.5rem;margin-bottom:1.5rem}.insights-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .concerns-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:1.125rem;font-weight:600;color:var(--color-text-primary);margin-bottom:1.25rem}.insights-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .concerns-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.25rem;width:1.25rem;height:1.25rem}.insights-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--color-success-500)}.concerns-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--color-warning-500)}.insights-list[_ngcontent-%COMP%], .concerns-list[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none}.insights-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .concerns-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:.5rem;padding:.75rem 0;font-size:.875rem;color:var(--color-text-primary);line-height:1.4}.insights-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(:last-child), .concerns-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid var(--color-border)}.insights-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .concerns-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1rem;width:1rem;height:1rem;margin-top:2px;flex-shrink:0}.insights-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--color-success-500)}.concerns-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--color-warning-500)}.analysis-meta[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1.5rem;padding:1rem;background-color:var(--color-bg-secondary);border-radius:8px;font-size:.8125rem;color:var(--color-text-secondary)}.analysis-meta[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.375rem}.analysis-meta[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1rem;width:1rem;height:1rem}.failed-card[_ngcontent-%COMP%]{margin-top:1.5rem}.failed-card[_ngcontent-%COMP%]   .failed-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;padding:2rem}.failed-card[_ngcontent-%COMP%]   .failed-content[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:3rem;width:3rem;height:3rem;color:var(--color-error-500);margin-bottom:1rem}.failed-card[_ngcontent-%COMP%]   .failed-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:var(--color-text-primary);margin-bottom:.5rem}.failed-card[_ngcontent-%COMP%]   .failed-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem;color:var(--color-text-secondary);margin-bottom:1.5rem;max-width:400px}@media (max-width: 768px){.sentiment-analysis[_ngcontent-%COMP%]{padding:1rem}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.75rem;width:1.75rem;height:1.75rem}.sentiment-overview[_ngcontent-%COMP%]   .overview-header[_ngcontent-%COMP%]{flex-direction:column;align-items:center;text-align:center}.analysis-grid[_ngcontent-%COMP%], .insights-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.metrics-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}.analysis-meta[_ngcontent-%COMP%]{flex-direction:column;gap:.75rem}.analyses-list[_ngcontent-%COMP%]{flex-direction:column}.analysis-item[_ngcontent-%COMP%]{width:100%}}"]})};export{le as SentimentAnalysisPage};
